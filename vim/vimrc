" vimrc by @windvalley
" https://raw.githubusercontent.com/windvalley/dotfiles/master/vim/vimrc


" vim: set foldmarker={{,}} foldlevel=0 foldmethod=marker:
"
" æŸ¥çœ‹æŠ˜å å†…å®¹çš„æ–¹æ³•:
"    za: normal æ¨¡å¼ä¸‹æŒ‰ za, è¡¨ç¤ºå½“å…‰æ ‡åœ¨å…³é—­æŠ˜å ä¸Šæ—¶æ‰“å¼€ä¹‹, åœ¨æ‰“å¼€æŠ˜å ä¸Šæ—¶å…³é—­ä¹‹;
"        åœ¨æ‰“å¼€çš„æŠ˜å å†…éƒ¨ä»»æ„å¤„æŒ‰ za, ä¹Ÿä¼šå…³é—­æŠ˜å .
"    zA: æ˜¯ za çš„é€’å½’æ“ä½œ, æ˜¯é’ˆå¯¹åµŒå¥—æŠ˜å çš„åœºæ™¯.


" å®‰è£…æ­¥éª¤  Installation {{

" ä¸€. å®‰è£… Vim åŠä¾èµ–
"
"    1. macOS ç³»ç»Ÿ
"
"      1) ä¾èµ–å®‰è£…
"
"      # ç”¨äºç›®å½•æ ‘æ–‡ä»¶å›¾æ ‡æ˜¾ç¤ºçš„ä¾èµ–å®‰è£…
"      brew tap homebrew/cask-fonts && brew install font-hack-nerd-font
"
"      # ä» insert åˆ‡æ¢åˆ° normal æ¨¡å¼æ—¶è‡ªåŠ¨åˆ‡æ¢è¾“å…¥æ³•åŠŸèƒ½éœ€è¦çš„ç³»ç»Ÿä¾èµ–å®‰è£…
"      git clone https://github.com/myshov/xkbswitch-macosx.git
"      cp xkbswitch-macosx/bin/xkbswitch /usr/local/bin/
"      git clone https://github.com/myshov/libxkbswitch-macosx
"      cp libxkbswitch-macosx/bin/libxkbswitch.dylib /usr/local/lib/
"
"      # å®‰è£…å…¶ä»–ä¾èµ–
"      brew install cmake python mono go nodejs yarn
"      brew install ctags rg
"
"      2) Vim
"
"      brew install macvim
"
"      3) Neovim
"
"      brew install neovim
"      pip3 install neovim
"
"    2. Linux ç³»ç»Ÿ
"
"      1) ä¾èµ–å®‰è£…
"
"      # ç”¨äºç›®å½•æ ‘æ–‡ä»¶å›¾æ ‡æ˜¾ç¤º
"      mkdir -p ~/.local/share/fonts
"      cd ~/.local/share/fonts && \
"         curl -fLo "Droid Sans Mono for Powerline Nerd Font Complete.otf" \
"         https://github.com/ryanoasis/nerd-fonts/raw/master/patched-fonts/DroidSansMono/complete/Droid%20Sans%20Mono%20Nerd%20Font%20Complete.otf
"
"      2) Vim
"
"      sudo yum -y remove vim-common vim-enhanced vim-filesystem
"      sudo yum -y install gcc-c++ make ncurses ncurses-devel python3 ctags git
"      sudo yum -y install epel-release && yum -y install golang
"
"      # https://www.mono-project.com/download/stable/#download-lin-centos
"      sudo yum -y install mono-devel
"      curl -fsSL https://rpm.nodesource.com/setup_15.x | bash -
"      sudo yum -y install nodejs  # node & npm
"      sudo yum -y install tcl-devel ruby ruby-devel lua lua-devel luajit luajit-devel \
"         python3 python3-devel perl perl-devel perl-ExtUtils-ParseXS perl-ExtUtils-XSpp \
"         perl-ExtUtils-CBuilder perl-ExtUtils-Embed
"
"      git clone https://github.com/vim/vim.git
"      cd vim
"      ./configure --with-features=huge --enable-multibyte --enable-python3interp \
"         --enable-rubyinterp --enable-perlinterp --enable-luainterp
"      make && sudo make install
"
"      3) Neovim
"
"      # https://github.com/neovim/neovim/releases
"      sudo yum install -y neovim python3 nodejs
"
" äºŒ. é…ç½®æ­¥éª¤
"
"    1. Vim
"
"      1) å¤‡ä»½åŸé…ç½®æ–‡ä»¶ ~/.vimrc
"         mv ~/.vimrc ~/.vimrc.$(date +%F_%T)

"      2) æ›¿æ¢ä½ çš„å½“å‰ ~/.vimrc æ–‡ä»¶
"         curl -sfLo ~/.vimrc https://raw.githubusercontent.com/windvalley/dotfiles/master/vim/vimrc
"         curl --create-dirs -sfLo ~/.vim/coc-settings.json https://raw.githubusercontent.com/windvalley/dotfiles/master/vim/coc-settings.json

"    2. Neovim
"
"      1) å¤‡ä»½åŸé…ç½®æ–‡ä»¶ ~/.config/nvim/init.vim
"         mv ~/.config/nvim/init.vim ~/.config/nvim/init.vim.$(date +%F_%T)
"
"      2) æ›¿æ¢ä½ çš„å½“å‰ ~/.config/nvim/init.vim æ–‡ä»¶
"         curl --create-dirs -sfLo ~/.config/nvim/init.vim https://raw.githubusercontent.com/windvalley/dotfiles/master/vim/vimrc
"         curl -sfLo ~/.config/nvim/coc-settings.json https://raw.githubusercontent.com/windvalley/dotfiles/master/vim/coc-settings.json
"
" ä¸‰. æ³¨æ„äº‹é¡¹
"
"    * Vim ç‰ˆæœ¬è¦æ±‚åœ¨ 8.2+, å¯é€šè¿‡ vim --version æŸ¥çœ‹.
"    * Neovim ç‰ˆæœ¬è¦æ±‚åœ¨ 0.4.0+, å¯é€šè¿‡ nvim --version æŸ¥çœ‹.
"    * å¯¹äº Vim, ä¸ºäº†æ”¯æŒ python3 å’Œå¤åˆ¶ç²˜è´´çš„ä¾¿åˆ©, éœ€è¦ Vim æ”¯æŒ python3 å’Œ clipboard,
"      å¯é€šè¿‡`vim --version|grep -Eo '\+python3|\+clipboard'`æŸ¥çœ‹æ˜¯å¦æœ‰ç›¸å…³è¾“å‡º,
"      æ²¡æœ‰çš„è¯è¯·é‡æ–°ç¼–è¯‘å®‰è£….
"    * æœ¬é…ç½®æ–‡ä»¶é»˜è®¤é›†æˆäº† Go å¼€å‘æ’ä»¶ vim-go, éœ€è¦ç³»ç»Ÿå·²ç»æœ‰ Go ç¯å¢ƒ.
"    * macOS å’Œ Linux ç³»ç»Ÿå¯æ­£å¸¸ä½¿ç”¨, Windows ç³»ç»Ÿæœªæµ‹è¯•.
"    * æŒ‰é…ç½®æ­¥éª¤é…ç½®å®Œæˆå, ç¬¬ä¸€æ¬¡æ‰“å¼€ vim æˆ– nvim ä¼šè‡ªåŠ¨å®‰è£…æ’ä»¶ç®¡ç†å·¥å…·ä»¥åŠé…ç½®çš„ä¼—å¤šæ’ä»¶,
"      å®‰è£…å®Œæˆå, é‡æ–°æ‰“å¼€ vim/nvim å³å¯.
"    * Vim å’Œ Neovim å¯åŒæ—¶å®‰è£…åœ¨æ“ä½œç³»ç»Ÿä¸­, å…±äº« ~/.vim/ ç›®å½•ä¸‹çš„æ’ä»¶.

" }}


" åŸºç¡€ç¯å¢ƒ  Basic Configuration {{

" å…³é—­å…¼å®¹æ¨¡å¼, ä¹Ÿå°±æ˜¯ä¸å†å…¼å®¹ VI, å¿…éœ€æ”¾åœ¨ç¬¬ä¸€è¡Œ.
set nocompatible

" è®¾ç½® Vim å†…éƒ¨ä½¿ç”¨çš„å­—ç¬¦ç¼–ç , é»˜è®¤å€¼ latin1 æˆ–è€…æ“ä½œç³»ç»Ÿ $LANG ç¯å¢ƒå˜é‡å¯¹åº”çš„ç¼–ç .
set encoding=utf-8

" Vim ä¿å­˜å¤šå°‘ä¸ªå†å²å‘½ä»¤, ä¸€èˆ¬ä¿å­˜åœ¨ ~/.viminfo éšè—æ–‡ä»¶ä¸­.
set history=1000

" å¦‚æœè¿‡äº†è¿™ä¹ˆå¤šæ¯«ç§’æ•°ä»¥åè¿˜æ²¡æœ‰ä»»ä½•è¾“å…¥, åˆ™æŠŠäº¤æ¢æ–‡ä»¶å†™å…¥ç£ç›˜,
" ä¹Ÿç”¨äº CursorHold è‡ªåŠ¨å‘½ä»¤äº‹ä»¶.
" é»˜è®¤å€¼: 4000(æ¯«ç§’)
set updatetime=100

" æ‰“å¼€æ–‡ä»¶ç±»å‹æ£€æµ‹, å…è®¸æ’ä»¶æ–‡ä»¶è½½å…¥, å…è®¸ç¼©è¿›æ–‡ä»¶è½½å…¥.
filetype plugin indent on

" é‡æ–°è®¾ç½® leader é”®, å³ä¸€äº›è‡ªå®šä¹‰å‘½ä»¤çš„å‰ç¼€, é»˜è®¤å€¼: '\'
let mapleader = ','

" }}


" æ’ä»¶å®‰è£…  Plugins Installation {{

" vim-plug å®‰è£…ä¸é…ç½® {{
" doc: https://github.com/junegunn/vim-plug

" è‡ªåŠ¨å®‰è£…ç”¨äºç®¡ç† Vim/Neovim ä¼—å¤šæ’ä»¶çš„æ’ä»¶: vim-plug
if has('nvim')
  if !filereadable(expand('~/.config/nvim/autoload/plug.vim'))
    " å®‰è£…å®Œ vim-plug æ’ä»¶å, è‡ªåŠ¨æ¸…é™¤ä¸‹é¢çš„ echo ä¿¡æ¯.
    set shortmess=aO

    echo "Downloading 'junegunn/vim-plug' to ~/.config/nvim/autoload/ for managing plugins,
      \ please wait..."

    silent !curl -sfLo ~/.config/nvim/autoload/plug.vim --create-dirs
      \ https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
  endif
else
  if !filereadable(expand('~/.vim/autoload/plug.vim'))
    " NOTE: å’Œå¦‚ä¸Š Neovim ä¸ä¸€æ ·, Vim è¿™é‡Œä¸èƒ½ç›´æ¥ä½¿ç”¨ echo "",
    "   éœ€è¦ä½¿ç”¨ silent !echo "" çš„æ–¹å¼, å¦åˆ™ä¼šæç¤ºå¦‚ä¸‹äº¤äº’ä¿¡æ¯:
    "   'Press ENTER or type command to continue'
    silent !echo "Downloading 'junegunn/vim-plug' to ~/.vim/autoload/ for managing plugins,
      \ please wait..."

    silent !curl -sfLo ~/.vim/autoload/plug.vim --create-dirs
      \ https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
  endif
endif

" å¯åŠ¨ Vim/Neovim æ—¶å¦‚æœå‘ç°æœ‰é…ç½®äº†ä½†è¿˜æœªå®‰è£…çš„æ’ä»¶, åˆ™è‡ªåŠ¨å®‰è£….
autocmd VimEnter *
  \  if len(filter(values(g:plugs), '!isdirectory(v:val.dir)'))
  \|   PlugInstall --sync | q
  \| endif

" }}

" å¼€å§‹å®‰è£… Vim/Neovim çš„ä¼—å¤šæ’ä»¶,
" å¯é€šè¿‡ command-line æ¨¡å¼ :help æ’ä»¶åç§° æ¥æŸ¥çœ‹ç›¸å…³æ’ä»¶çš„å¸®åŠ©æ–‡æ¡£.
" NOTE: å¦‚æœæ²¡æœ‰ç‰¹åˆ«è¯´æ˜, å¦‚ä¸‹æ‰€æœ‰æ’ä»¶å¯¹ Vim å’Œ Neovim å‡æ”¯æŒ.
call plug#begin('~/.vim/plugged')

" é¢œè‰²ä¸»é¢˜  Colorschemes {{

" gruvbox
Plug 'morhetz/gruvbox'

" dracula
Plug 'dracula/vim', { 'as': 'dracula' }

" one: from Atom theme
Plug 'rakr/vim-one'

" iceberg
Plug 'cocopon/iceberg.vim'

" jellybeans
Plug 'nanotech/jellybeans.vim'

" base16-default-dark
Plug 'chriskempson/base16-vim'

" nord
Plug 'arcticicestudio/nord-vim'

" papercolor
Plug 'NLKNguyen/papercolor-theme'

" ayu
Plug 'ayu-theme/ayu-vim'

" tender
Plug 'jacoborus/tender.vim'

" rigel
Plug 'Rigellute/rigel'

" onehalf
Plug 'sonph/onehalf', { 'rtp': 'vim' }

" molokai
" è¯¥ç‰ˆæœ¬è§£å†³äº†è®¾ç½®é€æ˜èƒŒæ™¯è‰²æ—¶, å¯¹äº Vim éƒ¨åˆ†å…³é”®å­—èƒŒæ™¯é¢œè‰²æ²¡æœ‰å˜é€æ˜çš„é—®é¢˜,
" Neovim ä¸å­˜åœ¨æ­¤é—®é¢˜.
Plug 'windvalley/molokai'

" vadelma
Plug 'windvalley/vadelma'

" }}

" ä»£ç è¡¥å…¨  Code Completion {{

" é€Ÿåº¦æ›´å¿«, ä½“éªŒæ›´ä¼˜ä¸”æ”¯æŒæ›´å¤šç¼–ç¨‹è¯­è¨€çš„ä»£ç è¡¥å…¨å¹³å°.
Plug 'neoclide/coc.nvim', {'branch': 'release'}

" ä¸º coc-ultisnips æä¾›ä»£ç ç‰‡æ®µæº.
Plug 'SirVer/ultisnips'

" ä¸º coc-snippets æä¾›ä»£ç ç‰‡æ®µæº.
Plug 'honza/vim-snippets'

" ä¸º viml è„šæœ¬è¯­è¨€æä¾›è¡¥å…¨æ”¯æŒ.
Plug 'Shougo/neco-vim'
Plug 'neoclide/coc-neco'

" }}

" ä»£ç æ£€æŸ¥  Code Static Check {{

" ä»£ç é™æ€æ£€æŸ¥ä¸è‡ªåŠ¨ä¿®å¤æ’ä»¶: ALE(Asynchronous Lint Engine)
Plug 'dense-analysis/ale'

" }}

" ç›®å½•æ ‘ç­‰  UI Interface {{

" ç›®å½•æ ‘çª—å£æ’ä»¶.
Plug 'preservim/nerdtree'

" ä½¿ç›®å½•æ ‘æ”¯æŒ git çš„æ’ä»¶.
Plug 'Xuyuanp/nerdtree-git-plugin'

" ä¸ºæ­£åœ¨ç¼–è¾‘çš„æ–‡ä»¶ç”Ÿæˆå¤§çº²è§†å›¾, åŒ…æ‹¬æ¥å£/æ–¹æ³•/å˜é‡ç­‰,
" å¯é€‰ä¸­å¿«é€Ÿè·³è½¬, é€‚åˆå•ä¸ªæ–‡ä»¶ä»£ç è¾ƒå¤šçš„åœºæ™¯.
" éœ€è¦å…ˆåœ¨ç³»ç»Ÿå‘½ä»¤è¡Œå®‰è£… ctags, æ¯”å¦‚å¦‚æœæ˜¯ macOS ç³»ç»Ÿ, åˆ™: brew install ctags
Plug 'majutsushi/tagbar'

" æ·±åº¦é›†æˆ git çš„æ’ä»¶.
Plug 'tpope/vim-fugitive'

" git å†å²ç‰ˆæœ¬çš„æµè§ˆæ’ä»¶, è¯¥æ’ä»¶ä¾èµ– vim-fugitive æ’ä»¶.
Plug 'junegunn/gv.vim'

" ç¾åŒ–çŠ¶æ€æ æ’ä»¶.
Plug 'itchyny/lightline.vim'

" ä¸º lightline æ’ä»¶æä¾›æ˜¾ç¤º ale æ£€æŸ¥å‡ºæ¥çš„é”™è¯¯æˆ–è­¦å‘Šçš„ç»Ÿè®¡ä¿¡æ¯;
" å¦å¤–å®‰è£…æ­¤æ’ä»¶å¯ä»¥è§£å†³ vim æ‰“å¼€æ–‡ä»¶åŒæ—¶æ˜¾ç¤ºç›®å½•æ ‘çª—å£çš„åœºæ™¯æ—¶,
" æ— æ³•æ­£å¸¸åŠ è½½ lightline çŠ¶æ€æ çš„é—®é¢˜.
Plug 'maximbaz/lightline-ale'

" å½©è™¹æ‹¬å·æ’ä»¶, å±‚çº§è¾ƒå¤šçš„æ‹¬å·åœºæ™¯ä½¿ç”¨ä¸åŒé¢œè‰²åŒºåˆ†.
Plug 'luochen1990/rainbow'

" å¿«é€Ÿæ‰“å¼€æƒ³è¦çš„æ–‡ä»¶, ç±»ä¼¼grepæœç´¢æ–‡ä»¶å†…å®¹ç­‰, æ›¿ä»£ctrlpæ’ä»¶.
Plug 'Yggdroot/LeaderF', { 'do': ':LeaderfInstallCExtension' }

" é›†æˆ ranger æ–‡ä»¶ç®¡ç†å™¨.
Plug 'francoiscabrol/ranger.vim'

" ä¸ºç›®å½•æ ‘æˆ– LeaderF ç­‰æ’ä»¶æ˜¾ç¤ºæ–‡ä»¶ç±»å‹.
" NOTE:
" 1) éœ€å®‰è£… nerd-fonts, å¹¶è®¾ç½®ç»ˆç«¯æ¨¡æ‹Ÿå™¨çš„å­—ä½“ä¸º: Hack Nerd Font æˆ– Hack Nerd Font Mono;
"    # doc: https://github.com/ryanoasis/nerd-fonts#font-installation
"    brew tap homebrew/cask-fonts && brew install font-hack-nerd-font
" 2) æ­¤æ’ä»¶è¦å®‰è£…åœ¨ç›®å½•æ ‘ã€LeaderF ç­‰æ’ä»¶çš„åé¢.
Plug 'ryanoasis/vim-devicons'

" åœ¨ä¸Šä¸€ä¸ªæ’ä»¶çš„åŸºç¡€ä¸Š, æ ¹æ®æ–‡ä»¶ç±»å‹çš„ä¸åŒ, æ”¹å˜å›¾æ ‡çš„é¢œè‰².
Plug 'tiagofumo/vim-nerdtree-syntax-highlight'

" æ‚¬æµ®ç»ˆç«¯æ’ä»¶.
Plug 'voldikss/vim-floaterm'

" æ˜¾ç¤ºç¼©è¿›çº¿æ’ä»¶.
Plug 'Yggdroot/indentLine'

" Vim å±ä¿ Matrix.
Plug 'uguu-org/vim-matrix-screensaver'

" }}

" ç¼–ç¨‹è¯­è¨€  Programming Language {{

"""""""" Go
" æ­å»º Go å¼€å‘ç¯å¢ƒçš„ Vim æ’ä»¶, å®‰è£…è¯¥æ’ä»¶çš„è¿‡ç¨‹ä¸­,
" ä¼šè‡ªåŠ¨å®‰è£…è¯¥æ’ä»¶ä¾èµ–çš„å¤§é‡ Go äºŒè¿›åˆ¶å·¥å…·;
" å¦‚æœç”±äº Go ç¯å¢ƒç­‰é—®é¢˜å¯¼è‡´è‡ªåŠ¨å®‰è£…å¤±è´¥,
" å¯åç»­é€šè¿‡ command-line æ¨¡å¼å®‰è£… `:GoInstallBinaries`.
Plug 'fatih/vim-go', { 'do': ':GoUpdateBinaries' }

"""""""" openresty
" æä¾› nginx/openresty è¯­æ³•é«˜äº®ä¸æŒ‡ä»¤è¡¥å…¨.
Plug 'spacewander/openresty-vim'

"""""""" javascript/html/css/vue/json
" å‰ç«¯åˆ©å™¨ html/css/js
Plug 'mattn/emmet-vim'

" é«˜äº® jsonc ç±»å‹æ–‡ä»¶, æœ‰æ­¤æ’ä»¶å°±å¯ä»¥å¯¹ json è¿›è¡Œæ³¨é‡Šäº†.
Plug 'neoclide/jsonc.vim'

"""""""" markdown
" é€šè¿‡æµè§ˆå™¨å®æ—¶é¢„è§ˆ Markdown æ–‡æœ¬çš„æ’ä»¶.
Plug 'instant-markdown/vim-instant-markdown', {'for': 'markdown'}

" åœ¨ markdown ä¸­é«˜æ•ˆç¼–è¾‘è¡¨æ ¼.
Plug 'dhruvasagar/vim-table-mode'

"""""""" toml
" toml è¯­æ³•é«˜äº®æ’ä»¶.
Plug 'cespare/vim-toml'

" }}

" æ•ˆç‡ç›¸å…³  Efficiency Related {{

" ä»£ç æ³¨é‡Šæ’ä»¶.
Plug 'preservim/nerdcommenter'

" å…‰æ ‡é«˜æ•ˆè·³è½¬æ’ä»¶.
Plug 'easymotion/vim-easymotion'

" ä½¿ç”¨æŒ‡å®šç¬¦å·åŒ…å›´å…‰æ ‡æ‰€åœ¨å•è¯, æ¯”å¦‚:
" ys2w"  è¡¨ç¤ºä»å…‰æ ‡ä½ç½®å¼€å§‹çš„ 2 ä¸ªå•è¯ä½¿ç”¨åŒå¼•å·åŒ…å›´.
"   ds"  normal æ¨¡å¼ä¸‹åˆ é™¤å…‰æ ‡å‘¨å›´çš„åŒå¼•å·.
"  cs"'  normal æ¨¡å¼ä¸‹æŠŠå…‰æ ‡æ‰€åœ¨å‘¨å›´çš„åŒå¼•å·æ›¿æ¢ä¸ºå•å¼•å·.
Plug 'tpope/vim-surround'

" å¤šå…‰æ ‡æ‰¹é‡æ“ä½œæ–‡æœ¬å¯¹è±¡æ’ä»¶.
Plug 'mg979/vim-visual-multi', {'branch': 'master'}

" è‡ªåŠ¨è¡¥å…¨å¼•å·(å•å¼•å·/åŒå¼•å·/åå¼•å·)ã€æ‹¬å·(å°æ‹¬å·/ä¸­æ‹¬å·/å¤§æ‹¬å·)çš„æ’ä»¶.
Plug 'Raimondi/delimitMate'

" å¤åˆ¶æ–‡æœ¬å¯¹è±¡çš„æ—¶å€™, é«˜äº®æ˜¾ç¤ºå¤åˆ¶çš„æ–‡æœ¬å¯¹è±¡.
Plug 'machakann/vim-highlightedyank'

" ä¸ºè¡Œå†…è·³è½¬æŒ‡ä»¤ f F t T æä¾›é«˜äº®å­—ç¬¦æ˜¾ç¤º.
Plug 'unblevable/quick-scope'

" åˆ‡æ¢åˆ° normal æ¨¡å¼æ—¶åˆ‡æ¢åˆ°è‹±æ–‡è¾“å…¥æ³•.
Plug 'lyokha/vim-xkbswitch'

" åœ¨ .tmux.conf ä¸­ç›´æ¥é€šè¿‡ K æŸ¥çœ‹ tmux æ–‡æ¡£ç­‰åŠŸèƒ½.
Plug 'tmux-plugins/vim-tmux'

" Vim ä»èœé¸Ÿåˆ°é«˜æ‰‹ä¹‹è·¯å¿…å¤‡, ç¦æ­¢è¿ç»­æŒ‰ jkhl ç­‰ä½æ•ˆæ“ä½œ,
" å¼ºåˆ¶ä½ æ ¹æ®ä¸åŒåœºæ™¯æ¥æ€è€ƒä½¿ç”¨æ›´é«˜æ•ˆçš„å‘½ä»¤çš„ä¹ æƒ¯.
Plug 'takac/vim-hardtime'

" å¼‚æ­¥ä»»åŠ¡æ’ä»¶.
Plug 'skywind3000/asynctasks.vim'
Plug 'skywind3000/asyncrun.vim'

" æ˜¾ç¤ºå…‰æ ‡æ‰€åœ¨å†…å®¹çš„ git commit ä¿¡æ¯, æ–¹ä¾¿äº†è§£ä»£ç èƒŒæ™¯.
Plug 'rhysd/git-messenger.vim'

" åœ¨æ–‡ä»¶å†…ç›´æ¥æ˜¾ç¤ºé¢œè‰²ä»£ç æ‰€è¡¨ç¤ºçš„é¢œè‰².
" NOTE: è¯¥æ’ä»¶éœ€è¦æ“ä½œç³»ç»Ÿæœ‰ Go ç¯å¢ƒ.
Plug 'rrethy/vim-hexokinase', { 'do': 'make hexokinase' }

" è‡ªå·±å¯¹é…è‰²æ–¹æ¡ˆè¿›è¡Œè°ƒæ•´æ—¶, å¯ä½¿ç”¨æ­¤å·¥å…·è·å–å…‰æ ‡ä¸‹å½“å‰é…è‰²æ–¹æ¡ˆçš„è¯¦ç»†ä¿¡æ¯.
Plug 'vim-scripts/SyntaxAttr.vim'

" æ—¥å†æ’ä»¶.
Plug 'itchyny/calendar.vim'

" Vim ä½œè€… Bram å†™çš„ä¸€ä¸ªå°æ¸¸æˆ, ç”¨äºæ¼”ç¤º Vim8.2 çš„å‡ ä¸ªæ–°åŠŸèƒ½.
" NOTE: :Kill å¯åŠ¨æ¸¸æˆ, æŒ‰è¯´æ˜ç©æ—¢å¯, åªæ”¯æŒ Vim8.2+, ä¸æ”¯æŒ Neovim.
Plug 'vim/killersheep'

" normal æ¨¡å¼ä¸‹ç§»åŠ¨å…‰æ ‡æ‰€åœ¨è¡Œ, visual æ¨¡å¼ä¸‹ç§»åŠ¨é€‰æ‹©çš„è¡Œ.
Plug 'matze/vim-move'

" å°†ä»£ç ä»å¤šè¡Œè½¬æ¢ä¸ºå•è¡Œæˆ–å°†å•è¡Œè½¬æ¢ä¸ºå¤šè¡Œ.
Plug 'AndrewRadev/splitjoin.vim'

if has('nvim')
  " é…åˆ chrome/firefox çš„ firenvim æµè§ˆå™¨æ’ä»¶,
  " å¯åœ¨æµè§ˆå™¨ç½‘ç«™é¡µé¢çš„æ–‡æœ¬è¾“å…¥æ¡†å†…è‡ªåŠ¨ä½¿ç”¨ nvim ç¼–è¾‘æ–‡æœ¬.
  Plug 'glacambre/firenvim', { 'do': { _ -> firenvim#install(0) } }
endif

" }}

" æœ€å command-line æ¨¡å¼ä¸‹æ‰§è¡Œ :PlugInstall è‡ªåŠ¨å®‰è£…ä¸Šé¢æœªå®‰è£…çš„æ’ä»¶, å…¶ä»–å¸¸ç”¨å‘½ä»¤:
"    :PlugStatus   æŸ¥çœ‹å½“å‰çŠ¶æ€, å®‰è£…è¿›åº¦ç­‰;
"    :PlugUpdate   æ›´æ–°æ‰€æœ‰æ’ä»¶, å»ºè®®å®šæœŸæ›´æ–°æ‰€æœ‰æ’ä»¶;
"    :PlugClean    å¸è½½æ’ä»¶, éœ€è¦å…ˆåœ¨ä¸Šé¢æ³¨é‡Šæ‰æˆ–åˆ é™¤ç›¸å…³æ’ä»¶,
"                  ç„¶åé‡æ–°æ‰“å¼€æ­¤æ–‡ä»¶æˆ– normal æ¨¡å¼ä¸‹æŒ‰ ,R æ‰§è¡Œæ­¤å‘½ä»¤;
"    :PlugUpgrade  æ›´æ–° vim-plug æœ¬èº«.
call plug#end()

" }}


" ä»£ç è‡ªåŠ¨è¡¥å…¨  Code Completion {{

"""""""" neoclide/coc.nvim
" CoC çš„å…¨ç§°æ˜¯: Conqure of Completion
" doc: https://github.com/neoclide/coc.nvim
"

" *** åŸºæœ¬å‘½ä»¤ ***
"                  :CocInfo  è¡¥å…¨æœåŠ¡å¯åŠ¨å¤±è´¥åŸå› æŸ¥çœ‹.
"               :CocOpenLog  æŸ¥çœ‹è¡¥å…¨æœåŠ¡çš„æ—¥å¿—.
"                :CocConfig  æ‰“å¼€ ~/.vim/coc-settings.json.
"                            NOTE: å·²æ˜ å°„å¿«æ·é”® :C
"       :CocList extensions  æŸ¥çœ‹å®‰è£…äº†å“ªäº›æ‰©å±•, é€šè¿‡ ctrl k/j ä¸Šä¸‹æ»šåŠ¨æŸ¥çœ‹:
"                            * è¡¨ç¤ºæ¿€æ´»çš„æ‰©å±•;
"                            + è¡¨ç¤ºå·²ç»åŠ è½½çš„æ‰©å±•;
"                            - è¡¨ç¤ºç¦ç”¨çš„æ‰©å±•;
"                            ? è¡¨ç¤ºä¸æ­£å¸¸çš„æ‰©å±•.
"                            é€‰ä¸­æŸä¸€ä¸ªæ‰©å±•å, æŒ‰ tab é”®å°†ä¼šæç¤ºç›¸åº”çš„æ“ä½œ.
"                            NOTE: å·²æ˜ å°„å¿«æ·é”® space e
"      :CocInstall coc-json  å®‰è£… Json language server.
"    :CocUninstall coc-json  å¸è½½ Json language server.
"                :CocUpdate  æ›´æ–°æ‰€æœ‰æ‰©å±•.
"          :CocList sources  åˆ—å‡ºå½“å‰å·²ç»æœ‰å“ªäº›ä»£ç è¡¥å…¨çš„æ•°æ®æº.
" ****************

" *** è¡¥å…¨èœå•çš„ç¬¦å·è¯´æ˜ ***
"   [LS]  Language Server, è¡¥å…¨æ¥è‡ªè¯­è¨€æœåŠ¡å™¨.
"    [S]  Snippets, è¡¥å…¨æ¥è‡ª Snippets.
"   [US]  UltiSnips, è¡¥å…¨æ¥è‡ª UltiSnips.
"  [GOC]  Gocode, è¡¥å…¨æ¥è‡ª gocode.
"  [NEC]  Neco-vim, è¡¥å…¨æ¥è‡ª Shougo/neco-vim æ’ä»¶.
"    [A]  Around, è¡¥å…¨æ¥è‡ªå½“å‰æ–‡ä»¶(buffer).
"    [B]  Buffer, è¡¥å…¨æ¥è‡ªå…¶ä»–å·²ç»æ‰“å¼€çš„æ–‡ä»¶(buffer).
"    [F]  File, è¡¥å…¨æ¥è‡ªæ–‡ä»¶åè‡ªåŠ¨æ£€æµ‹.
"      M  Module, æ­¤æ¡è¡¥å…¨æ˜¯ä¸€ä¸ªæ¨¡å—.
"      I  Interface, æ˜¯ä¸€ä¸ªæ¥å£.
"      S  Struct, æ˜¯ä¸€ä¸ªç»“æ„ä½“.
"      f  func, æ˜¯ä¸€ä¸ªå‡½æ•°.
" **************************

" è®¾ç½®éšè—æ¨¡å¼, æœªä¿å­˜çš„buffer(æ–‡ä»¶)å¯ä»¥è¢«åˆ‡æ¢èµ°æˆ–è€…å…³é—­;
" å¦‚æœä¸è®¾ç½®è¿™ä¸ª, TextEdit å¯èƒ½å¤±è´¥.
set hidden

" åº•éƒ¨å‘½ä»¤æ¨¡å¼çš„æ˜¾ç¤ºé«˜åº¦, é»˜è®¤å€¼1.
" è®¾ç½®ä¸º2æ˜¯ä¸ºäº†ç»™æç¤ºä¿¡æ¯æ›´å¤šçš„å±•ç¤ºç©ºé—´, é˜²æ­¢ä¿¡æ¯æˆªæ–­.
set cmdheight=2

" ä¸è¦å°†ä¿¡æ¯ä¼ é€’ç»™ ins-completion-menu.
set shortmess+=c

" *** coc.nvim æ‰©å±•å®‰è£… ***
" å°†éœ€è¦å®‰è£…çš„ coc.nvim æ‰©å±•(è¯­è¨€æœåŠ¡å™¨ç­‰) æ”¾åˆ°æ•°ç»„ä¸­,
" æ‰“å¼€ vim æ—¶, coc.nvim ä¼šè‡ªåŠ¨å¯¹æ‰©å±•è¿›è¡Œè‡ªåŠ¨å®‰è£….
" doc: https://github.com/neoclide/coc.nvim/wiki/Using-coc-extensions
" éƒ¨åˆ†æ‰©å±•è¯´æ˜:
"   coc-jedi: Python3.6.1+
"   coc-css: Css/Less/Sass
"   coc-vetur: éœ€è¦åœ¨ vue é¡¹ç›®æ ¹è·¯å¾„ä¸‹è¿è¡Œ: npm i eslint eslint-plugin-vue -D
"   coc-snippets: éœ€è¦å®‰è£… vim æ’ä»¶: Plug 'honza/vim-snippets'
"   coc-ultisnips: éœ€è¦å®‰è£… vim æ’ä»¶: Plug 'SirVer/ultisnips'
"   coc-gocode: ä¸º Go æä¾›ä»£ç ç‰‡æ®µè¡¥å…¨çš„æ•°æ®åº“.
"   coc-emoji: Emoji words, é»˜è®¤åªå¯¹ markdown ç±»å‹æ–‡ä»¶å¼€å¯, é€šè¿‡ : è§¦å‘.
let g:coc_global_extensions = [
  \ 'coc-json',
  \ 'coc-git',
  \ 'coc-go',
  \ 'coc-gocode',
  \ 'coc-rls',
  \ 'coc-clangd',
  \ 'coc-jedi',
  \ 'coc-java',
  \ 'coc-sh',
  \ 'coc-perl',
  \ 'coc-tsserver',
  \ 'coc-css',
  \ 'coc-cssmodules',
  \ 'coc-emmet',
  \ 'coc-html',
  \ 'coc-vetur',
  \ 'coc-sql',
  \ 'coc-toml',
  \ 'coc-yaml',
  \ 'coc-xml',
  \ 'coc-vimlsp',
  \ 'coc-snippets',
  \ 'coc-ultisnips',
  \ 'coc-emoji',
  \ 'coc-swagger',
  \ 'coc-translator',
  \ ]
" *************************

" *** ~/.vim/coc-settings.json ***
"   è¯¥é…ç½®æ–‡ä»¶å¯å¯¹ coc.nvim ä»¥åŠå®‰è£…çš„å„ç§æ‰©å±•è¿›è¡Œä¸ªæ€§é…ç½®,
"   å¦‚æœå·²ç»å®‰è£…äº† coc-json æ‰©å±•, åˆ™è¯¥é…ç½®æ–‡ä»¶å°†æ”¯æŒè‡ªåŠ¨è¡¥å…¨å’Œåˆæ³•æ€§æ£€æŸ¥,
"   æ–¹ä¾¿æˆ‘ä»¬è¿›è¡Œé…ç½®.

" :C  æ‰“å¼€ ~/.vim/coc-settings.json é…ç½®æ–‡ä»¶.
function! SetupCommandAbbrs(from, to)
  exec 'cnoreabbrev <expr> '.a:from
    \ .' ((getcmdtype() ==# ":" && getcmdline() ==# "'.a:from.'")'
    \ .'? ("'.a:to.'") : ("'.a:from.'"))'
endfunction
call SetupCommandAbbrs('C', 'CocConfig')
" ********************************

" *** coc-translator ***
" doc: https://github.com/voldikss/coc-translator
" NOTE: æœ‰å¯èƒ½è¢«googleç¿»è¯‘ç¦æ­¢ä½¿ç”¨å…¶æ¥å£å¯¼è‡´ç¿»è¯‘å¤±è´¥æŠ¥é”™.

" normal å’Œ visual æ¨¡å¼ä¸‹, å°†å…‰æ ‡ä¸‹çš„å•è¯ä»¥å¼¹å‡ºæ¼‚æµ®çª—å£çš„æ–¹å¼æ˜¾ç¤ºç¿»è¯‘ç»“æœ.
nmap ts <Plug>(coc-translator-p)
vmap ts <Plug>(coc-translator-pv)
" åœ¨çŠ¶æ€æ ä¸‹é¢æ˜¾ç¤ºç¿»è¯‘çš„ç»“æœ.
nmap tse <Plug>(coc-translator-e)
vmap tse <Plug>(coc-translator-ev)
" å°†ç¿»è¯‘ç»“æœæ›¿æ¢æ‰å…‰æ ‡ä¸‹çš„å•è¯.
nmap tsr <Plug>(coc-translator-r)
vmap tsr <Plug>(coc-translator-rv)
" **********************

" *** coc-css ***
autocmd FileType scss setl iskeyword+=@-@
" ***************

" ä½¿ç”¨ tab é”®è§¦å‘è¡¥å…¨, é€‰æ‹©è¡¥å…¨.
inoremap <silent><expr> <TAB>
  \ pumvisible() ? "\<C-n>" :
  \ <SID>check_back_space() ? "\<TAB>" :
  \ coc#refresh()
inoremap <expr><S-TAB> pumvisible() ? "\<C-p>" : "\<C-h>"
function! s:check_back_space() abort
  let col = col('.') - 1
  return !col || getline('.')[col - 1]  =~# '\s'
endfunction

" ä½¿ç”¨ <CR>(å›è½¦é”®) æ¥è‡ªåŠ¨é€‰æ‹©è¡¥å…¨æ¡ç›®çš„ç¬¬ä¸€æ¡å¹¶æ ¼å¼åŒ–ä»£ç .
inoremap <silent><expr> <cr> pumvisible() ? coc#_select_confirm()
  \: "\<C-g>u\<CR>\<c-r>=coc#on_enter()\<CR>"

" SirVer/ultisnips æ’ä»¶è§¦å‘è¡¥å…¨çš„é»˜è®¤é…ç½®æ˜¯ tab é”®, ä¼šå’Œ coc çš„å†²çª, éœ€è¦ä¿®æ”¹æ‰.
" å®é™…ä¸Šå¹¶ä¸ä¼šç”¨åˆ°è¿™é‡Œè®¾ç½®çš„å¿«æ·é”®.
let g:UltiSnipsExpandTrigger="<leader>,,,f"

" gd  è·³è½¬åˆ°å®šä¹‰å¤„.
nmap <silent> gd <Plug>(coc-definition)
" gy  è·³è½¬åˆ°ç±»å‹å®šä¹‰å¤„.
nmap <silent> gy <Plug>(coc-type-definition)
" gi  è·³è½¬åˆ°å®ç°å¤„.
nmap <silent> gi <Plug>(coc-implementation)
" gr  åœ¨ location list ä¸­åˆ—å‡ºç›¸å…³æ¡ç›®, å¦‚æœç›¸å…³çš„åªæœ‰1æ¡, åˆ™ç›´æ¥è·³è½¬è¿‡å».
nmap <silent> gr <Plug>(coc-references)

" ,rn  çº§è”çš„å¯¹å…‰æ ‡æ‰€åœ¨ symbol è¿›è¡Œé‡å‘½å.
nmap <leader>rn <Plug>(coc-rename)

" ä½¿ç”¨ K åœ¨é¢„è§ˆçª—å£ä¸­æŸ¥çœ‹æ–‡æ¡£.
nnoremap <silent> K :call <SID>show_documentation()<CR>
function! s:show_documentation()
  if (index(['vim','help'], &filetype) >= 0)
    execute 'h '.expand('<cword>')
  " ä½¿æ”¯æŒ tmux-plugins/vim-tmux æ’ä»¶.
  elseif (index(['tmux'], &filetype) >= 0)
    call tmux#man()
  elseif (coc#rpc#ready())
    call CocActionAsync('doHover')
  else
    execute '!' . &keywordprg . " " . expand('<cword>')
  endif
endfunction

" çªå‡ºæ˜¾ç¤ºå…‰æ ‡æ‰€åœ¨ symbol åŠå…¶å¼•ç”¨.
autocmd CursorHold * silent call CocActionAsync('highlight')

" ä½¿ç”¨ <C-d> å’Œ <C-u> åœ¨æ‚¬æµ®çª—å£å‘ä¸‹å’Œå‘ä¸Šæ»šåŠ¨, æ¯æ¬¡æ»šåŠ¨è¡Œæ•°ä¸º lines_count,
" æ¯”å¦‚åœ¨æŸ¥çœ‹è¾ƒé•¿çš„æ–‡æ¡£æ—¶å‡ºç°äº†æ»šåŠ¨æ¡çš„åœºæ™¯ä¸‹ä½¿ç”¨.
let lines_count=5
nnoremap <silent><nowait><expr> <C-d> coc#float#has_scroll() ?
  \ coc#float#scroll(1, lines_count) : "\<C-d>"
nnoremap <silent><nowait><expr> <C-u> coc#float#has_scroll() ?
  \ coc#float#scroll(0, lines_count) : "\<C-u>"
inoremap <silent><nowait><expr> <C-d> coc#float#has_scroll() ?
  \ "\<c-r>=coc#float#scroll(1, lines_count)\<cr>" : "\<Right>"
inoremap <silent><nowait><expr> <C-u> coc#float#has_scroll() ?
  \ "\<c-r>=coc#float#scroll(0, lines_count)\<cr>" : "\<Left>"
vnoremap <silent><nowait><expr> <C-d> coc#float#has_scroll() ?
  \ coc#float#scroll(1, lines_count) : "\<C-d>"
vnoremap <silent><nowait><expr> <C-u> coc#float#has_scroll() ?
  \ coc#float#scroll(0, lines_count) : "\<C-u>"

" *** CocList ç›¸å…³å‘½ä»¤å¿«æ·é”®æ˜ å°„ ***
" NOTE: æŒ‰å¿«æ·é”®å‡ºç°ç›¸å…³åˆ—è¡¨å, ä½¿ç”¨ ctrl j/k/f/b è¿›è¡Œæµè§ˆ, ä½¿ç”¨ tab è¿›è¡Œç®¡ç†.
"
" space e  åˆ—å‡ºæ‰€æœ‰æ‰©å±•.
nnoremap <silent><nowait> <space>e  :<C-u>CocList extensions<cr>
" space c  åˆ—å‡ºæ‰€æœ‰å‘½ä»¤.
nnoremap <silent><nowait> <space>c  :<C-u>CocList commands<cr>
" space s  åˆ—å‡ºå½“å‰æ‰€åœ¨æ–‡ä»¶ç±»å‹æœ‰å“ªäº›ä»£ç è¡¥å…¨æ•°æ®æº.
nnoremap <silent><nowait> <space>s  :<C-u>CocList sources<cr>
" space p  é‡æ–°åˆ—å‡ºä¸Šä¸€æ¬¡å±•ç¤ºçš„ CocList.
nnoremap <silent><nowait> <space>p  :<C-u>CocListResume<CR>

" }}


" ä»£ç é™æ€æ£€æŸ¥  Code Static Check {{

" ale ç”¨äºæ›¿ä»£ syntastic æ’ä»¶.
" NOTE: :ALEInfo  ç”¨äºæŸ¥çœ‹å½“å‰æ–‡ä»¶çš„è¯­æ³•æ£€æŸ¥é…ç½®æƒ…å†µ,
" å†…å®¹å°¾éƒ¨æ˜¯å¯¹å½“å‰æ–‡ä»¶å†…å®¹æ‰§è¡Œæ£€æŸ¥çš„æ—¥å¿—, å¯é€šè¿‡è¿™äº›æ—¥å¿—æ’æŸ¥é—®é¢˜.
" doc: https://github.com/dense-analysis/ale

" å®šåˆ¶æ˜¾ç¤ºåœ¨è¡Œå·¦ä¾§çš„é”™è¯¯æç¤ºç¬¦å’Œè­¦å‘Šæç¤ºç¬¦.
" é»˜è®¤å€¼: '>>'
let g:ale_sign_error = '>>'
" é»˜è®¤å€¼: '--'
let g:ale_sign_warning = '--'

" å·¦ä¾§çš„é”™è¯¯/è­¦å‘Šæç¤ºåˆ—æ˜¯å¦ä¸€ç›´ä¿æŒæ‰“å¼€, é»˜è®¤å€¼: 0
let g:ale_sign_column_always = 0

" ç”¨äºé”™è¯¯æˆ–è­¦å‘Šæç¤ºçš„å­—ç¬¦ä¸².
" é»˜è®¤å€¼: 'Error'
let g:ale_echo_msg_error_str = 'Error'
" é»˜è®¤å€¼: 'Warning'
let g:ale_echo_msg_warning_str = 'Warning'

" è®¾ç½®æç¤ºä¿¡æ¯çš„è¾“å‡ºæ ¼å¼, é»˜è®¤å€¼: '%code: %%s'
let g:ale_echo_msg_format = '[%linter%] %code: %%s [%severity%]'

" æ˜¯å¦å°† ale linter å‘ç°çš„é”™è¯¯æˆ–è­¦å‘Šçš„å…·ä½“ä½ç½®åˆ—è¡¨ä¿¡æ¯æ·»åŠ åˆ° location list ä¸­.
" æˆ‘ä»¬è¿™é‡Œç¦ç”¨, ä»¥é˜²æ­¢ä½¿ç”¨ gr æ—¶, ç ´å gr ä½¿ç”¨çš„ location list.
" é»˜è®¤å€¼: 1
let g:ale_set_loclist = 0

" å¦‚æœ location list ä¸ä¸ºç©º, æ˜¯å¦æ‰“å¼€ä¸€ä¸ªç‹¬ç«‹çš„çª—å£æ˜¾ç¤ºå…¶ä¿¡æ¯, é»˜è®¤å€¼: 0
let g:ale_open_list = 0
" é”™è¯¯ä¿¡æ¯çª—å£çš„é«˜åº¦, åœ¨ g:ale_open_list è®¾ç½®ä¸º 1 æ—¶æ‰æœ‰æ•ˆæœ, é»˜è®¤å€¼: 10
let g:ale_list_window_size = 5

" é”™è¯¯æˆ–è­¦å‘Šä¿¡æ¯å…¨éƒ¨ä¿®å¤å, æ˜¯å¦ä¿ç•™é”™è¯¯ä¿¡æ¯çª—å£, 1 è¡¨ç¤ºä¿ç•™, é»˜è®¤å€¼: 0
let g:ale_keep_list_window_open = 0

" é€€å‡ºæ–‡ä»¶æ—¶, å¦‚æœä»…å‰©é”™è¯¯ä¿¡æ¯çª—å£, åˆ™å…¶ä¹Ÿä¸€åŒé€€å‡º(loclist).
augroup CloseLoclistWindowGroup
  autocmd!
  autocmd QuitPre * if empty(&buftype) | lclose | endif
augroup END

" æ–°æ‰“å¼€æ–‡ä»¶æ—¶æ˜¯å¦è‡ªåŠ¨ lint, é»˜è®¤å€¼: 1
let g:ale_lint_on_enter = 1

" ä¿å­˜æ–‡ä»¶æ—¶æ˜¯å¦è¿›è¡Œ lint, é»˜è®¤å€¼: 1
let g:ale_lint_on_save = 1

" ä¿å­˜æ–‡ä»¶æ—¶æ˜¯å¦è¿›è¡Œ fix,  é»˜è®¤å€¼: 0
let g:ale_fix_on_save = 1

" , k/j åœ¨é”™è¯¯æç¤ºä¹‹é—´è·³è½¬.
nmap <silent> <leader>k <Plug>(ale_previous_wrap)
nmap <silent> <leader>j <Plug>(ale_next_wrap)

" é’ˆå¯¹ä¸åŒè¯­è¨€çš„é™æ€ä»£ç æ£€æŸ¥å·¥å…·é…ç½®.
" NOTE:
"   1) å…¶ä»–æ²¡æœ‰åœ¨è¿™é‡Œé…ç½®çš„è¯­è¨€å°†ä½¿ç”¨ ale é»˜è®¤é…ç½®çš„ linter,
"      å¯ä»¥ä½¿ç”¨ :ALEInfo æ¥æŸ¥çœ‹å½“å‰æ–‡ä»¶ä½¿ç”¨äº†å“ªäº›é»˜è®¤çš„ linter.
"
"   2) æ³¨æ„éœ€è¦åœ¨æœ¬åœ°å®‰è£…æ¶‰åŠåˆ°çš„å‘½ä»¤è¡Œå·¥å…·:
"      brew install golangci-lint lua luarocks tidy-html5 shellcheck jq
"      luarocks install luacheck
"      npm install -g eslint standard eslint-plugin-vue vls \
"          proselint alex write-good stylelint markdownlint jsonlint
"      pip3 install pylint flake8 yamllint
"      go get github.com/golangci/golangci-lint/cmd/golangci-lint@v1.39.0
"      go get -u github.com/mgechev/revive
"      sudo gem install mdl
"
"   3) eslint é…ç½®æ–‡ä»¶, é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ .eslintrc.json, éœ€è¦é€šè¿‡å¦‚ä¸‹å‘½ä»¤ç”Ÿæˆ,
"      æˆ‘ä»¬è¿™é‡Œä½¿ç”¨ standard é£æ ¼: eslint --init
"      æˆ– vue create project-demo(éœ€è¦é€‰æ‹©æ‰‹åŠ¨é…ç½®, é€‰æ‹© standard é£æ ¼),
"      å°†é…ç½®ç”Ÿæˆåˆ° package.json çš„ eslintConfig å­—æ®µ.
"
"   4) prettier é…ç½®æ–‡ä»¶, é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ .prettierrc.json:
"      {
"        "singleQuote": true,
"        "semi": false
"      }
"
"   5) å¯¹äº Python é¡¹ç›®, å¦‚æœä½¿ç”¨è™šæ‹Ÿç¯å¢ƒ, éœ€è¦åœ¨è™šæ‹Ÿç¯å¢ƒä¸‹å®‰è£…ç›¸å…³ linter å·¥å…·,
"      æ‹¿ Python çš„ä¾èµ–ç®¡ç†å·¥å…· poetry ä¸¾ä¾‹:
"      poetry init
"      poetry shell
"      poetry add pylint flake8 autoimport black isort -D
let g:ale_linters = {
  \  'go': ['golangci-lint', 'revive', 'gopls'],
  \  'python': ['pylint', 'flake8'],
  \  'lua': ['luac', 'luacheck'],
  \  'sh': ['shellcheck', 'language_server'],
  \  'zsh': ['shellcheck', 'language_server'],
  \  'javascript': ['eslint', 'standard'],
  \  'vue': ['eslint', 'vls'],
  \  'html': ['tidy', 'stylelint', 'alex', 'writegood', 'proselint'],
  \  'yaml': ['yamllint'],
  \  'json': ['jq', 'jsonlint'],
  \  'jsonc': ['jq', 'jsonlint'],
  \  'markdown': ['markdownlint'],
  \ }

" golangci-lint é…ç½®:
" æŒ‡å®šå¯æ‰§è¡Œæ–‡ä»¶çš„å…·ä½“åç§°.
let g:ale_go_golangci_lint_executable = 'golangci-lint'
" golanci-lint run å‘½ä»¤ä¸åŠ é¢å¤–å‚æ•°, è§£å†³é»˜è®¤åŠ çš„ --enable-all å‚æ•°å¯¼è‡´çš„é”™è¯¯.
let g:ale_go_golangci_lint_options = ''
" golangci-lint run å‘½ä»¤ä»¥åŒ…ä¸ºå•ä½è¿›è¡Œæ£€æŸ¥,
" è§£å†³é»˜è®¤ä»¥æ–‡ä»¶æ–¹å¼æ£€æŸ¥æ—¶çš„ typecheck é”™è¯¯è¯¯æŠ¥çš„é—®é¢˜.
let g:ale_go_golangci_lint_package = 1

" flake8 é…ç½®:
" æŒ‡å®šå…è®¸çš„ Python ä»£ç æ¯è¡Œæœ€å¤§å­—ç¬¦æ•°, é»˜è®¤å€¼ 79.
let g:ale_python_flake8_options = '--max-line-length 120'

" yamllint é…ç½®:
" doc: https://yamllint.readthedocs.io/en/stable/configuration.html
" æŒ‡å®šå¯æ‰§è¡Œæ–‡ä»¶çš„å…·ä½“åç§°.
let g:ale_yaml_yamllint_executable = 'yamllint'
" é…ç½®å‚æ•°.
let g:ale_yaml_yamllint_options = '-d "{
  \ extends: relaxed,
  \ rules: {
  \   line-length: {max: 200},
  \ },
  \ }"'

" é’ˆå¯¹ä¸åŒè¯­è¨€çš„è‡ªåŠ¨ä¿®å¤åŠŸèƒ½.
"    éœ€è¦å®‰è£…ç›¸å…³çš„å‘½ä»¤è¡Œå·¥å…·:
"       npm install -g prettier importjs lua-fmt
"       pip3 install black isort
"       go get mvdan.cc/sh/v3/cmd/shfmt
"
" NOTE:
"   1) ä¸è¦ä½¿ç”¨ python çš„ autoimport å·¥å…·, é‡æ–°æ’ç‰ˆçš„ import å¯èƒ½å‘ç”Ÿé”™è¯¯;
"      ç”¨äº python çš„ isort, å¯é€‰æ‹©æ€§ä½¿ç”¨, æˆ‘è¿™é‡Œä¹Ÿä¸å¯ç”¨,
"      ç›´æ¥ç”¨ black çš„ import æ’ç‰ˆèƒ½åŠ›å³å¯.
"   2) lua çš„ luafmt å¯è¿›è¡Œè‡ªåŠ¨æ ¼å¼åŒ–, ç”±äºå…¶æ ¼å¼åŒ–æ•ˆæœä¸ç¬¦åˆæˆ‘çš„å®¡ç¾è¦æ±‚,
"      æˆ‘è¿™é‡Œæš‚ä¸å¯ç”¨.
"   3) prettier ç­‰å·¥å…·è‡ªèº«å°±æœ‰ trim_whitespace å’Œ remove_trailing_lines çš„èƒ½åŠ›,
"      æ‰€ä»¥ä¸ç”¨é‡å¤æ·»åŠ .
let g:ale_fixers = {
  \  'go': ['gofmt', 'goimports'],
  \  'python': ['black', 'add_blank_lines_for_python_control_statements'],
  \  'lua': ['trim_whitespace', 'remove_trailing_lines'],
  \  'sh': ['shfmt'],
  \  'javascript': ['eslint', 'importjs'],
  \  'vue': ['eslint'],
  \  'html': ['prettier'],
  \  'json': ['jq'],
  \  'jsonc': ['jq'],
  \  'yaml': ['prettier'],
  \  'markdown': ['prettier'],
  \  'vim': ['trim_whitespace', 'remove_trailing_lines'],
  \  'zsh': ['trim_whitespace', 'remove_trailing_lines'],
  \  'tmux': ['trim_whitespace', 'remove_trailing_lines'],
  \ }

" }}


" æ•ˆç‡ç›¸å…³  Configuration of Efficiency Related Plugins {{

"""""" takac/vim-hardtime
" doc: https://github.com/takac/vim-hardtime

" æ˜¯å¦ä½¿æ¯ä¸€ä¸ªçª—å£ buffer éƒ½åº”ç”¨æ­¤æ’ä»¶åŠŸèƒ½, é»˜è®¤å€¼: 0
let g:hardtime_default_on = 1

" è¿ç»­æŒ‰ jklh ç­‰å‘½ä»¤æ—¶, ç¦æ­¢è¿ç»­æŒ‰çš„è¶…æ—¶æ—¶é—´, é»˜è®¤å€¼: 1000æ¯«ç§’.
let g:hardtime_timeout = 600

" å¯ç”¨ hardtime æ¨¡å¼å, æ˜¯å¦è¿›è¡Œæ¨¡å¼å·²å¯ç”¨çš„æç¤º, é»˜è®¤å€¼: 0, è¡¨ç¤ºä¸æç¤º.
let g:hardtime_showmsg = 1

" æ˜¯å¦å…è®¸è¿ç»­æŒ‰2ä¸ªä¸åŒçš„ç®€å•æŒ‡ä»¤, æ¯”å¦‚ jh, é»˜è®¤å€¼: 0, è¡¨ç¤ºä¸å…è®¸.
let g:hardtime_allow_different_key = 1

" å…è®¸è¿ç»­æŒ‰å‡ æ¬¡ç®€å•å‘½ä»¤, é»˜è®¤å€¼: 1
let g:hardtime_maxcount = 3

"""""" preservim/nerdcommenter
" doc: https://github.com/preservim/nerdcommenter

" è§£å†³ vue ç±»å‹æ–‡ä»¶çš„ä»£ç æ³¨é‡Šé—®é¢˜.
" from: https://github.com/posva/vim-vue#how-can-i-use-nerdcommenter-in-vue-files
let g:ft = ''

function! NERDCommenter_before()
  if &ft == 'vue'
    let g:ft = 'vue'
    let stack = synstack(line('.'), col('.'))
    if len(stack) > 0
      let syn = synIDattr((stack)[0], 'name')
      if len(syn) > 0
        exe 'setf ' . substitute(tolower(syn), '^vue_', '', '')
      endif
    endif
  endif
endfunction

function! NERDCommenter_after()
  if g:ft == 'vue'
    setf vue
    let g:ft = ''
  endif
endfunction

"""""" easymotion/vim-easymotion
" doc: https://github.com/easymotion/vim-easymotion

" æ ‡è®°æ‰€æœ‰çª—å£çš„å•è¯.
nmap <leader>w <Plug>(easymotion-overwin-w)
" ä»…æ ‡è®°å½“å‰çª—å£çš„å•è¯.
"map  <leader>w <Plug>(easymotion-bd-w)

" æ ‡è®°æ‰€æœ‰çª—å£çš„æ‰€æœ‰è¡Œé¦–å­—ç¬¦.
nmap <leader>L <Plug>(easymotion-overwin-line)
" æ ‡è®°å½“å‰çª—å£çš„æ‰€æœ‰è¡Œé¦–å­—ç¬¦.
"map <leader>L <Plug>(easymotion-bd-jk)

" æ ‡è®°å½“å‰è¡Œå…‰æ ‡å³ä¾§çš„å­—ç¬¦.
map <leader>l <Plug>(easymotion-lineforward)

" æ ‡è®°å½“å‰è¡Œå…‰æ ‡å·¦ä¾§çš„å­—ç¬¦.
map <leader>h <Plug>(easymotion-linebackward)

" è¾“å…¥1ä¸ªç›®æ ‡å­—ç¬¦å³å¯é«˜äº®å®šä½, æ”¯æŒå¤šçª—å£åŒæ—¶å®šä½.
nmap s <Plug>(easymotion-overwin-f)
" éœ€è¦è¾“å…¥2ä¸ªç›®æ ‡å­—ç¬¦æ‰å¯é«˜äº®å®šä½, æ”¯æŒå¤šçª—å£åŒæ—¶å®šä½.
"nmap s <Plug>(easymotion-overwin-f2)

" æ˜¯å¦å¯ç”¨é»˜è®¤çš„å¿«æ·é”®æ˜ å°„, é»˜è®¤å€¼: 1, è¡¨ç¤ºå¯ç”¨.
let g:EasyMotion_do_mapping = 1

" æœç´¢å­—æ¯çš„æ—¶å€™æ˜¯å¦å¿½ç•¥å¤§å°å†™å’Œ Vim çš„ smartcase è¡¨ç°ä¸€è‡´.
let g:EasyMotion_smartcase = 1

" æœç´¢å°å†™å­—æ¯, æœç´¢ç»“æœå¤§å°å†™å­—æ¯éƒ½åŒ…å«, ä½†æœç´¢å¤§å†™å­—æ¯æ—¶, æœç´¢ç»“æœä»…åŒ…å«å¤§å†™å­—æ¯.
let g:EasyMotion_use_smartsign_us = 1

"""""" Yggdroot/LeaderF
" éœ€è¦åœ¨ç³»ç»Ÿä¸Šæå‰å®‰è£… rg å‘½ä»¤: brew install rg
" doc: https://github.com/Yggdroot/LeaderF

" é¡¹ç›®æ ¹ç›®å½•çš„æ ‡å¿—.
let g:Lf_RootMarkers = ['.git']

" è®¾ç½® LeaderF å·¥ä½œç›®å½•ä¸ºé¡¹ç›®æ ¹ç›®å½•, å¦‚æœä¸åœ¨é¡¹ç›®ä¸­, åˆ™ä¸ºå½“å‰ç›®å½•.
let g:Lf_WorkingDirectoryMode = 'A'

" é¢„è§ˆä»£ç , é»˜è®¤å€¼: 0
let g:Lf_PreviewCode = 1

" å¼¹å‡ºç‹¬ç«‹çš„çª—å£æ¥æ˜¾ç¤ºæœç´¢æ–‡ä»¶.
let g:Lf_WindowPosition = 'popup'

" å¼¹å‡ºçš„çª—å£å ç»ˆç«¯å±å¹•çš„ç™¾åˆ†æ¯”, 0.8 å³ 80%.
let g:Lf_PopupWidth = 0.8

" æ˜¯å¦åœ¨å¼¹å‡ºçš„çª—å£ä¸­é¢„è§ˆæœç´¢ç»“æœ, é»˜è®¤å€¼: 0
let g:Lf_PreviewInPopup = 1

" å¼¹å‡ºçš„çª—å£çš„é¢œè‰²æ¨¡å¼, é»˜è®¤å€¼: 'default';
" å¯é€‰å€¼: gruvbox_default, gruvbox_material, one;
" å¯åœ¨ LeaderF/autoload/leaderf/colorscheme/popup ç›®å½•ä¸­å¢åŠ æ–°çš„é¢œè‰²æ–¹æ¡ˆæ–‡ä»¶;
" ç»è¿‡æµ‹è¯• one å¯ä»¥é€‚é…å‡ ä¹æ‰€æœ‰é¢œè‰²ä¸»é¢˜, æ‰€ä»¥å»ºè®®è®¾ç½®ä¸º one.
let g:Lf_PopupColorscheme = 'one'

" å¼¹å‡ºçš„çª—å£çš„é«˜åº¦, é»˜è®¤å€¼: 0.4, è¡¨ç¤ºå å±å¹•çš„ 40%.
let g:Lf_PopupHeight = 0.6

" normal æ¨¡å¼ä¸‹ ,f  è¿›å…¥æ–‡ä»¶æœç´¢çš„æ¨¡ç³Šæœç´¢æ–¹å¼; å† ctrl r  è¿›å…¥ æ­£åˆ™åŒ¹é… æ–¹å¼.
let g:Lf_ShortcutF = ",ff"

" æœç´¢å½“å‰å·²ç»æ‰“å¼€çš„æ‰€æœ‰æ–‡ä»¶çš„å†…å®¹.
noremap <leader>fb :<C-U><C-R>=printf("Leaderf buffer %s", "")<CR><CR>

" æ˜¾ç¤ºæœ€è¿‘æ‰“å¼€è¿‡çš„æ–‡ä»¶åˆ—è¡¨.
noremap <leader>fm :<C-U><C-R>=printf("Leaderf mru %s", "")<CR><CR>

" æ˜¾ç¤ºå½“å‰æ–‡ä»¶çš„ tag ä¿¡æ¯.
noremap <leader>ft :<C-U><C-R>=printf("Leaderf bufTag %s", "")<CR><CR>

" æ˜¾ç¤ºå½“å‰æ–‡ä»¶å»é™¤ç©ºè¡Œä¹‹å¤–çš„æ‰€æœ‰è¡Œ.
noremap <leader>fl :<C-U><C-R>=printf("Leaderf line %s", "")<CR><CR>

" normal æ¨¡å¼ä¸‹æŒ‰ ,rg è¿›å…¥ command-line æ¨¡å¼ä¸‹,
" ç„¶åè¾“å…¥è¦æœç´¢çš„æ–‡æœ¬(æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼), å›è½¦å³å¯æ˜¾ç¤ºæ­¤é¡¹ç›®å†…åŒ…å«æ­¤æ–‡æœ¬çš„æ–‡ä»¶åˆ—è¡¨;
" åœ¨å¼¹å‡ºçš„ç»“æœçª—å£ä¸­, æŒ‰ gi å¯ä»¥å°†å…‰æ ‡ç§»åŠ¨åˆ°è¾“å…¥æ¡†, å¯ä»¥ç»§ç»­è¾“å…¥å†…å®¹ç¼©å°ç»“æœåˆ—è¡¨,
" ç„¶åæŒ‰ tab è¿›å…¥ç»“æœåˆ—è¡¨ä¸­, æŒ‰ j/k ä¸Šä¸‹é€‰æ‹©, é€‰æ‹©ä¸€ä¸ªæ–‡ä»¶å,
" æŒ‰ t å°†ä»¥æ–°å»ºæ ‡ç­¾é¡µçš„æ–¹å¼æ‰“å¼€é€‰æ‹©çš„æ–‡ä»¶.
noremap <leader>rg :<C-U><C-R>=printf("Leaderf! rg -e %s ", expand("<cword>"))<CR>

" visual æ¨¡å¼ä¸‹é€‰æ‹©æ–‡æœ¬å, æŒ‰ rg åœ¨æ•´ä¸ªé¡¹ç›®å†…æœç´¢é€‰æ‹©çš„æ–‡æœ¬, æ˜¾ç¤ºæœç´¢ç»“æœ.
xnoremap rg :<C-U><C-R>=printf("Leaderf! rg -F -e %s ", leaderf#Rg#visual())<CR><CR>

" ,rg æœç´¢å†…å®¹å…³é—­å, æƒ³å†æ¬¡æœç´¢ä¸Šæ¬¡æœç´¢çš„å†…å®¹, normal æ¨¡å¼ä¸‹æŒ‰ rc å³å¯.
noremap <leader>rc :<C-U>Leaderf! rg --recall<CR>

"""""" lyokha/vim-xkbswitch
" doc: https://github.com/lyokha/vim-xkbswitch
" åŠŸèƒ½:
"   ä» insert æ¨¡å¼åˆ‡æ¢åˆ° normal æ¨¡å¼æ—¶, å¦‚æœ insert æ¨¡å¼ä¸‹ä¸ºä¸­æ–‡è¾“å…¥æ³•,
"   åˆ™è‡ªåŠ¨åˆ‡æ¢ä¸ºè‹±æ–‡è¾“å…¥æ³•, ç„¶åä» normal æ¨¡å¼é‡æ–°è¿›å…¥ insert æ¨¡å¼æ—¶,
"   è¿˜åŸä¸Šä¸€æ¬¡ insert æ¨¡å¼ä¸‹çš„è¾“å…¥æ³•.
" ç³»ç»Ÿä¾èµ–å®‰è£…(macOS):
"   git clone https://github.com/myshov/xkbswitch-macosx.git
"   cp xkbswitch-macosx/bin/xkbswitch /usr/local/bin/
"   git clone https://github.com/myshov/libxkbswitch-macosx
"   cp libxkbswitch-macosx/bin/libxkbswitch.dylib /usr/local/lib/

" æ˜¯å¦å¼€å¯è¾“å…¥æ³•åˆ‡æ¢åŠŸèƒ½.
let g:XkbSwitchEnabled = 1

" ä¾èµ–çš„åº“æ–‡ä»¶.
let g:XkbSwitchLib = '/usr/local/lib/libxkbswitch.dylib'

" é»˜è®¤æƒ…å†µä» insert æ¨¡å¼åˆ° normal æ¨¡å¼, å°†è¿˜åŸ normal çš„ä¸Šä¸€æ¬¡è¾“å…¥æ³•,
" å¦‚æœ normal ä¸Šä¸€æ¬¡æ˜¯ä¸­æ–‡, è¿™æ¬¡è¿˜æ˜¯ä¸­æ–‡;
" æ·»åŠ æ­¤æŒ‡ä»¤å, å°†å§‹ç»ˆä¿æŒ normal æ¨¡å¼æ˜¯è‹±æ–‡è¾“å…¥æ³•.
let g:XkbSwitchNLayout = 'us'

" åŒä¸Šä¸€æ¡, åŒºåˆ«æ˜¯è¿™æ¡æŒ‡ä»¤é’ˆå¯¹çš„æ˜¯ insert æ¨¡å¼,
" ç›®å‰çš„è¾“å…¥ä½“éªŒæ˜¯ä¸å»ºè®®å¯ç”¨è¿™æ¡æŒ‡ä»¤, å¯æ ¹æ®è‡ªèº«çš„ä½¿ç”¨åœºæ™¯è°ƒæ•´.
"let g:XkbSwitchILayout = 'us'

" é»˜è®¤æƒ…å†µä¸‹, ä» insert æ¨¡å¼åˆ‡æ¢åˆ° normal æ¨¡å¼,
" è¾“å…¥æ³•ä»ä¸­æ–‡åˆ‡æ¢åˆ°è‹±æ–‡æœ‰ä¸€å®šçš„å»¶è¿Ÿ, éå¸¸å½±å“ä½“éªŒ,
" æ­¤æ¡æŒ‡ä»¤è§£å†³è¿™ä¸ªé—®é¢˜, å¯ä»¥å°†æ•°å­—æ”¹çš„æ›´å°ä»¥æˆ–å¾—æ›´å¿«çš„åˆ‡æ¢ä½“éªŒ.
set ttimeoutlen=5

"""""" machakann/vim-highlightedyank
" doc: https://github.com/machakann/vim-highlightedyank

" è¢«å¤åˆ¶çš„æ–‡æœ¬å¯¹è±¡çš„é«˜äº®é¢œè‰²æ˜¾ç¤ºçš„æ—¶é—´, å•ä½æ¯«ç§’.
" å¦‚æœå€¼ä¸º -1, åˆ™è¡¨ç¤ºé«˜äº®é¢œè‰²æ°¸ä¹…æ˜¾ç¤º.
let g:highlightedyank_highlight_duration = 1000

" è§£å†³ä¸ªåˆ«ä¸»é¢˜æˆ– terminal é…ç½®ä¸‹é«˜äº®ä¸ç”Ÿæ•ˆçš„é—®é¢˜, ä¸€èˆ¬å¯ä¸é…ç½®æ­¤é¡¹.
highlight HighlightedyankRegion cterm=reverse gui=reverse

"""""" unblevable/quick-scope
" doc: https://github.com/unblevable/quick-scope

" æ˜¯å¦ç¦ç”¨æ­¤æ’ä»¶, é»˜è®¤å€¼1, è¡¨ç¤ºå¯ç”¨.
let g:qs_enable=1

" æ€§èƒ½è€ƒè™‘, æ˜¯å¦å»¶è¿Ÿæ˜¾ç¤ºé«˜äº®å­—ç¬¦, é»˜è®¤å€¼: 0, è¡¨ç¤ºå®æ—¶æ˜¾ç¤º.
let g:qs_lazy_highlight = 0

"""""" skywind3000/asyncrun.vim
" doc: https://github.com/skywind3000/asyncrun.vim

" ,ar  åœ¨ command-line æ¨¡å¼ä¸‹è¾“å…¥è¦å¼‚æ­¥æ‰§è¡Œçš„å‘½ä»¤, å¹¶åœ¨å½“å‰çª—å£åº•éƒ¨è¾“å‡ºæ‰§è¡Œç»“æœ.
" NOTE: è¿™é‡Œä½¿ç”¨ exec åŒ…è£…ä¸€å±‚, æ˜¯ä¸ºäº†ä¸è®©è¡Œå°¾ç©ºæ ¼ç›´æ¥æš´éœ²å‡ºæ¥,
" æ‰€ä»¥é€šè¿‡ä½¿ç”¨ exec çš„æ–¹å¼, å°±å¯ä»¥å°†åŸæ¥è¡Œå°¾çš„ç©ºæ ¼åŒ…è£¹èµ·æ¥äº†.
exec "nnoremap <leader>ar :AsyncRun -mode=term -pos=bottom -rows=10 "

"""""" rhysd/git-messenger.vim
" doc: https://github.com/rhysd/git-messenger.vim

" å¼¹å‡º popup window æ—¶, è‡ªåŠ¨å°†å…‰æ ‡ç§»åŠ¨åˆ° popup window, å¦‚æœè®¾ç½®ä¸º v:false,
" åˆ™éœ€è¦é€šè¿‡ ctrl ww å¿«æ·é”®å°†å…‰æ ‡ç§»åŠ¨åˆ° popup window.
let g:git_messenger_always_into_popup = v:true

" è‡ªå®šä¹‰ commit æ—¶é—´æ˜¾ç¤ºçš„æ ¼å¼.
let g:git_messenger_date_format = "%Y %b %d %X"

"""""" RRethy/vim-hexokinase
" doc: https://github.com/RRethy/vim-hexokinase

" æ˜¾ç¤ºæˆ–ä¸æ˜¾ç¤ºé¢œè‰²æ ‡è¯†ç¬¦çš„é¢œè‰².
au FileType * nmap <leader>ys :HexokinaseToggle<CR>

" æ”¯æŒå“ªäº›å±•ç¤ºé¢œè‰²çš„æ–¹å¼.
" æ”¯æŒçš„å±•ç¤ºæ–¹å¼: virtual,sign_column,background,backgroundfull,foreground,foregroundfull
if has('nvim')
  let g:Hexokinase_highlighters = [
    \  'virtual',
    \  'sign_column',
    \  'foregroundfull',
    \ ]
else
  let g:Hexokinase_highlighters = [
    \  'sign_column',
    \  'foregroundfull',
    \ ]
endif

" åŒ¹é…å“ªäº›ç±»å‹çš„é¢œè‰²æ ‡è¯†.
" æ”¯æŒé¢œè‰²ç±»å‹: full_hex,triple_hex,rgb,rgba,hsl,hsla,colour_names
let g:Hexokinase_optInPatterns = [
  \  'full_hex',
  \  'triple_hex',
  \  'rgb',
  \  'rgba',
  \  'hsl',
  \  'hsla',
  \ ]

" é’ˆå¯¹æ–‡ä»¶ç±»å‹å®šåˆ¶éœ€è¦åŒ¹é…çš„é¢œè‰²ç±»å‹.
let g:Hexokinase_ftOptInPatterns = {
  \  'css': 'full_hex,rgb,rgba,hsl,hsla,colour_names',
  \  'html': 'full_hex,rgb,rgba,hsl,hsla,colour_names'
  \ }

" å¯¹å“ªäº›æ–‡ä»¶ç±»å‹æä¾›è¯¥æ’ä»¶æä¾›çš„åŠŸèƒ½.
" NOTE: é»˜è®¤å¯¹æ‰€æœ‰æ–‡ä»¶éƒ½å¯ç”¨, å¦‚æœåªæƒ³å¯¹éƒ¨åˆ†æ–‡ä»¶ç±»å‹å¯ç”¨, åˆ™é€šè¿‡ä¸‹é¢è¿™æ¡æŒ‡ä»¤é…ç½®.
"let g:Hexokinase_ftEnabled = ['css', 'html', 'javascript']

" å¯¹å“ªäº›æ–‡ä»¶ç±»å‹ç¦ç”¨è¯¥æ’ä»¶æä¾›çš„åŠŸèƒ½, é»˜è®¤å€¼ç©ºåˆ—è¡¨.
let g:Hexokinase_ftDisabled = []

"""""" vim-scripts/SyntaxAttr.vim
" doc: https://github.com/vim-scripts/SyntaxAttr.vim

" ,a  æ˜¾ç¤ºå…‰æ ‡æ‰€åœ¨çš„è¯­æ³•é«˜äº®è¯¦æƒ…, ä¾¿äºè°ƒè¯•é…è‰²æ–¹æ¡ˆ.
"
" ä¸¾ä¾‹:
"    group: goComment->Comment guifg=#585858(#585858) gui=italic
"    å¦‚ä¸Šç»“æœè¡¨ç¤º, å…‰æ ‡æ‰€åœ¨å±äº goComment è¯­æ³•åŠ äº®ç»„, å¹¶ä¸”è¢«é“¾æ¥åˆ°äº† Comment åŠ äº®ç»„,
"    guifg å’Œ gui æ˜¯åŠ äº®ç»„çš„å€¼, guifg è¡¨ç¤ºå‰æ™¯è‰², gui è¡¨ç¤ºç‰¹æ®Šæ•ˆæœ.
nnoremap <leader>a :call SyntaxAttr()<CR>

"""""" matze/vim-move
" doc: https://github.com/matze/vim-move
"
" [n] ctrl k/j/h/l   normal æ¨¡å¼ä¸‹å°†å…‰æ ‡æ‰€åœ¨è¡Œå‘ä¸Š/å‘ä¸‹ç§»åŠ¨ n è¡Œ,
"                    æˆ–å°†å…‰æ ‡æ‰€åœ¨å­—ç¬¦å‘å·¦/å‘å³ç§»åŠ¨ n ä¸ªå­—ç¬¦;
"                    visual æ¨¡å¼ä¸‹å°†é€‰æ‹©çš„å†…å®¹å‘ä¸Š/å‘ä¸‹ç§»åŠ¨ n è¡Œ,
"                    æˆ–å°†é€‰æ‹©çš„å†…å®¹å—å‘å·¦/å‘å³ç§»åŠ¨ n ä¸ªå­—ç¬¦.

" å°†é»˜è®¤çš„ alt é”®æ”¹ä¸º ctrl é”®.
let g:move_key_modifier = 'C'

" }}


" çŠ¶æ€æ å®šåˆ¶  Statusline Customization {{

"""""" itchyny/lightline.vim
" doc: https://github.com/itchyny/lightline.vim

" æœ¬é€‰é¡¹çš„å€¼å½±å“æœ€åä¸€ä¸ªçª—å£ä½•æ—¶æœ‰çŠ¶æ€è¡Œ:
"     0: æ°¸ä¸
"     1: åªæœ‰åœ¨æœ‰è‡³å°‘ä¸¤ä¸ªçª—å£æ—¶
"     2: æ€»æ˜¯
" é»˜è®¤å€¼: 1, ä¸ºäº†å•çª—å£ä¹Ÿå¯ä»¥æ˜¾ç¤ºçŠ¶æ€æ , æ­¤å¤„è®¾ç½®ä¸º2.
set laststatus=2

" ç”±äºæ­¤æ’ä»¶å·²ç»å¸®æˆ‘ä»¬ç¾åŒ–æ˜¾ç¤ºäº†å½“å‰çš„ Vim æ¨¡å¼, æ‰€ä»¥ Vim è‡ªå¸¦çš„æ¨¡å¼æ˜¾ç¤ºå¯ä»¥å»é™¤.
set noshowmode

"""""" 'maximbaz/lightline-ale'
" doc: https://github.com/maximbaz/lightline-ale

" ç¾åŒ–é”™è¯¯ä¸è­¦å‘Šç­‰ä¿¡æ¯çš„æ˜¾ç¤ºå›¾æ ‡.
let g:lightline#ale#indicator_checking = "\uf110"
let g:lightline#ale#indicator_ok = "\uf00c"

" ä»¥ä¸‹ä¸‰æ¡æŒ‡ä»¤çš„å­—ç¬¦ä¸²å€¼ç»“å°¾å¤šä¸€ä¸ªç©ºæ ¼, ç”¨æ¥è§£å†³å›¾æ ‡å’Œæ•°å­—é‡å çš„é—®é¢˜.
let g:lightline#ale#indicator_infos = "\uf129 "
let g:lightline#ale#indicator_warnings = "\uf071 "
let g:lightline#ale#indicator_errors = "\uf05e "

let g:lightline = {}

let g:lightline.component_expand = {
  \  'linter_checking': 'lightline#ale#checking',
  \  'linter_infos': 'lightline#ale#infos',
  \  'linter_warnings': 'lightline#ale#warnings',
  \  'linter_errors': 'lightline#ale#errors',
  \  'linter_ok': 'lightline#ale#ok',
  \ }

let g:lightline.component_type = {
  \  'linter_checking': 'right',
  \  'linter_infos': 'right',
  \  'linter_warnings': 'warning',
  \  'linter_errors': 'error',
  \  'linter_ok': 'right',
  \ }

" å·²ä» left ä¸­å»é™¤ cocstatus, å¯é€‰æ‹©æ€§åŠ å…¥.
let g:lightline.active = {
  \  'left': [ [ 'mode', 'paste' ],
  \            [ 'git', 'bgit', 'method', 'readonly', 'filename', 'modified' ],
  \  ],
  \  'right': [ [ 'lineinfo' ],
  \             [ 'percent' ],
  \             [ 'fileformat', 'fileencoding', 'filetype' ],
  \             [ 'linter_checking', 'linter_errors', 'linter_warnings',
  \               'linter_infos', 'linter_ok' ],
  \             [ 'blame' ],
  \  ],
  \ }

let g:lightline.component_function = {
  \  'cocstatus': 'coc#status',
  \  'git': 'LightlineGitStatus',
  \  'bgit': 'LightlineBufferGitStatus',
  \  'blame': 'LightlineGitBlame',
  \ }

" å¦‚æœçŠ¶æ€æ å†…å®¹è¿‡å¤š, ä»å³ä¾§ç æ‰éƒ¨åˆ†å†…å®¹.
let g:lightline.component = {
  \  'lineinfo': '%3l:%-2v%<',
  \ }

" doc: https://github.com/neoclide/coc-git
"   *  è¡¨ç¤º git ä»“åº“å†…å®¹æœ‰å˜æ›´;
"   x  è¡¨ç¤º git ä»“åº“å†…å®¹æœ‰å†²çª;
"   â—  è¡¨ç¤º git æ–°å¢æˆ–å˜åŒ–å†…å®¹å·²ç»æäº¤åˆ°æš‚å­˜åŒº;
"   â€¦  è¡¨ç¤º git ä»“åº“å†…æœ‰æœªè·Ÿè¸ªçš„æ–°æ–‡ä»¶;
"   ä»¥ä¸Šç¬¦å·å¯åŒæ—¶åœ¨åˆ†æ”¯åæ˜¾ç¤º, å¦‚æœåˆ†æ”¯åç§°åæ²¡æœ‰ä»»ä½•ä¸Šè¿°ç¬¦å·, è¯´æ˜åˆ†æ”¯æ˜¯å¹²å‡€çš„.
function! LightlineGitStatus() abort
  let gstatus = get(g:, 'coc_git_status', '')
  return gstatus
endfunction

function! LightlineBufferGitStatus() abort
  let gbstatus = get(b:, 'coc_git_status', '')
  return gbstatus
endfunction

function! LightlineGitBlame() abort
  let blame = get(b:, 'coc_git_blame', '')

  " çª—å£å®½åº¦å¤§äº120æ—¶, çŠ¶æ€æ æ‰æ˜¾ç¤º git blame ä¿¡æ¯.
  return winwidth(0) > 120 ? blame : ''
endfunction

" }}


" ä¸»é¢˜å®šåˆ¶  Colorscheme Customization {{
"
" ä¼˜ç§€çš„é¢œè‰²ä¸»é¢˜æ–¹æ¡ˆ:
"   dracula: https://draculatheme.com/vim
"   rigel: https://github.com/Rigellute/rigel
"   gruvbox: https://github.com/morhetz/gruvbox
"   molokai: https://github.com/tomasr/molokai
"   one: https://github.com/rakr/vim-one
"   iceberg: https://github.com/cocopon/iceberg.vim
"   base16-default-dark: https://github.com/chriskempson/base16-vim
"   jellybeans: https://github.com/nanotech/jellybeans.vim
"   nord: https://github.com/arcticicestudio/nord-vim
"   tender: https://github.com/jacoborus/tender.vim
"   papercolor: https://github.com/NLKNguyen/papercolor-theme
"   ayu: https://github.com/ayu-theme/ayu-vim
"   onehalf: https://github.com/sonph/onehalf
"   vadelma: https://github.com/windvalley/vadelma
"
" NOTE:
"   1) ä½¿ç”¨é¢œè‰²ä¸»é¢˜(colorscheme), åŒæ—¶è¯·å°†ç»ˆç«¯ä¸»é¢˜ä¹Ÿè®¾ç½®æˆå¯¹åº”çš„ä¸»é¢˜, è¿™æ ·æ‰èƒ½è·å¾—æ›´å¥½çš„è§†è§‰æ•ˆæœ.
"   2) dracula, molokai, jellybeans, base16-default-dark, nord, tender ä¸»é¢˜æ²¡æœ‰ light æ–¹æ¡ˆ.
"   3) base16-default-dark, rigel ç­‰ä¸»é¢˜é»˜è®¤æ²¡æœ‰æä¾›æ–œä½“å­—çš„ç‰¹æ€§, æˆ‘ä»¬å¯ä»¥é€šè¿‡è‡ªå®šä¹‰æ–¹æ³•æä¾›æ”¯æŒ.

" ä»£ç é«˜äº®æ˜¾ç¤º.
syntax enable

" å¦‚æœå½“å‰ vim/neovim ç‰ˆæœ¬æ”¯æŒ termguicolors, åˆ™å¯ç”¨ 24bit çœŸå½©;
" å¯ç”¨ termguicolors å, å°†ä½¿ç”¨ guifg/guibg é…ç½®çš„è‰²å½©æ–¹æ¡ˆ,
" ä¹Ÿå°±æ˜¯è¯´åœ¨è‰²å½©æ–¹é¢æŠŠç»ˆç«¯å½“å›¾å½¢ç•Œé¢ä¸€æ ·çœ‹å¾….
"
" for Linux/Unix
if has ('termguicolors') && ($COLORTERM == 'truecolor' || $COLORTERM == '24bit')
  set termguicolors
endif
" for Windows
if has('vcon')
  set termguicolors
endif

" æ˜¯å¦å¯ç”¨ Vim/Neovim é€æ˜èƒŒæ™¯è‰²çš„åŠŸèƒ½, ä»å•ç‹¬çš„é…ç½®æ–‡ä»¶è¯»å–ç›¸å…³å˜é‡å€¼æ¥æ§åˆ¶;
" ä»å•ç‹¬çš„é…ç½®æ–‡ä»¶è¯»å–æ˜¯ä¸ºäº†å˜æ›´æ—¶, ä¸ä¼šå¹²æ‰°åˆ° dotfiles ä»“åº“.
let transparency_file = expand('~/.vim/transparency.vim')
if filereadable(transparency_file)
  exec 'source' transparency_file
else
  " å€¼ä¸º 1 è¡¨ç¤ºå¯ç”¨ Vim/Neovim èƒŒæ™¯é€æ˜, 0 ä¸ºç¦ç”¨.
  let g:bgtransparency=1
endif

" å½“ g:bgtransparent ç­‰äº 1 æ—¶, æ˜¯å¦ä½¿ popup window èƒŒæ™¯å˜é€æ˜, 1 ä¸ºå¼€å¯, 0 ä¸ºå…³é—­.
" NOTE: å˜æ›´æ•ˆæœæ¶‰åŠåˆ° coc.nvim å‘½ä»¤è¡¥å…¨çš„å¼¹å‡ºçª—å£, æ–‡æ¡£æŸ¥çœ‹çª—å£ç­‰.
let g:popup_window_transparent=0

" è§£å†³ Vim åœ¨ cterm å½©è‰²ç»ˆç«¯ä¸‹ä¸æ”¯æŒæ–œä½“å­—çš„é—®é¢˜, Neovim æ²¡æœ‰æ­¤é—®é¢˜.
" è§£å†³æ–¹æ³•æ¥æº: https://rsapkf.xyz/blog/enabling-italics-vim-tmux
" NOTE: ^[ å¿…é¡»é€šè¿‡ <Ctrl-v><Esc> æ•²å‡ºæ¥æ‰å¯ä»¥.
set t_ZH=[3m
set t_ZR=[23m

" colorschemes ä¼˜åŒ–æ–¹æ³•é›†åˆ {{
"
" NOTE:
"   æ–¹æ³•ç»“å°¾æ˜¯ Before çš„ä»£è¡¨éœ€è¦æ”¾åœ¨ colorscheme æŒ‡ä»¤ä¹‹å‰æ‰§è¡Œ;
"   æ–¹æ³•ç»“å°¾æ˜¯ After çš„ä»£è¡¨éœ€è¦æ”¾åœ¨ colorscheme æŒ‡ä»¤ä¹‹åæ‰§è¡Œ.

" é€šç”¨æ–¹æ³• {{

" æ”¯æŒæ–œä½“å­—çš„æ–¹æ³•, å¯¹äºä¸æ”¯æŒæ–œä½“å­—æˆ–æ”¯æŒçš„ä¸å¤ªç†æƒ³çš„ colorscheme,
" å¯ä»¥ä½¿ç”¨æ­¤æ–¹æ³•æä¾›æ”¯æŒæˆ–ä¼˜åŒ–.
function! EnableItalic()
  hi Comment cterm=italic gui=italic
  hi Todo cterm=italic gui=italic
  hi Folded cterm=italic gui=italic
  hi Special cterm=italic gui=italic
  hi String cterm=italic gui=italic
  hi SpellCap cterm=italic gui=italic
  hi htmlBoldItalic cterm=italic gui=italic
  hi htmlBoldUnderlineItalic cterm=italic gui=italic
  hi htmlUnderlineItalic cterm=italic gui=italic
  hi htmlItalic cterm=italic gui=italic
  hi vimCommentTitle cterm=italic gui=italic
  hi markdownItalic cterm=italic gui=italic
endfunction

" è®¾ç½®æç¤ºåˆ—çš„é¢œè‰²æ–¹æ¡ˆ, å»æ‰é»˜è®¤çš„èƒŒæ™¯è‰²,
" æ¯”å¦‚ ale æ’ä»¶çš„ä»£ç é™æ€æ£€æŸ¥çš„é”™è¯¯æˆ–è­¦å‘Šä¿¡æ¯å°±ä¼šå‡ºç°åœ¨æ­¤åˆ—,
" coc-git æ‰©å±•çš„æ–‡ä»¶å˜åŒ–ä¿¡æ¯ä¹Ÿä¼šå‡ºç°åœ¨æ­¤åˆ—.
function! SignColumnHi()
  hi SignColumn cterm=NONE ctermbg=NONE ctermfg=NONE guibg=NONE guifg=NONE
endfunction

" ä¼˜åŒ– ale é”™è¯¯æç¤ºæ ‡è¯†çš„é¢œè‰²æ–¹æ¡ˆ.
function! ALESignHi()
  if &background == 'dark'
    hi ALEErrorSign cterm=NONE ctermbg=NONE ctermfg=DarkRed guibg=NONE guifg=DarkRed
    hi ALEWarningSign cterm=NONE ctermbg=NONE ctermfg=DarkYellow guibg=NONE guifg=DarkYellow
  else
    hi ALEErrorSign cterm=NONE ctermbg=NONE ctermfg=Red guibg=NONE guifg=Red
    hi ALEWarningSign cterm=NONE ctermbg=NONE ctermfg=208 guibg=NONE guifg=#ff8700
  endif
endfunction

" ä¸º coc-git æ’ä»¶æä¾› git å¢åˆ æ”¹æç¤ºæ ‡è¯†çš„é«˜äº®é¢œè‰²æ–¹æ¡ˆ.
" NOTE: å¿…é¡»æ”¾åœ¨é¢œè‰²ä¸»é¢˜è®¾ç½®çš„åé¢æ‰æœ‰æ•ˆæœ.
function! GitSignHi()
  hi GitAddSign    guifg=SeaGreen ctermfg=2
  hi GitChangeSign guifg=DarkYellow ctermfg=3
  hi GitDeleteSign guifg=DarkRed ctermfg=1
  hi GitTopDeleteSign guifg=Red ctermfg=1*
  hi GitChangeDeleteSign guifg=LightRed ctermfg=1*
endfunction

" é‡æ–°åŠ è½½ lightline çŠ¶æ€æ çš„æ–¹æ³•.
" FIXME:
"   1) onehalfdark å’Œ onehalflight ä¹‹é—´åˆ‡æ¢æ— æ³•åˆ‡æ¢ lightline é¢œè‰².
function! LightlineReload()
  if g:colors_name =~# 'gruvbox'
    execute "source " . g:plug_home . "/gruvbox/autoload/lightline/colorscheme/gruvbox.vim"
  elseif g:colors_name =~# 'iceberg'
    execute "source " . g:plug_home . "/iceberg.vim/autoload/lightline/colorscheme/iceberg.vim"
  elseif g:colors_name =~# 'one'
    execute "source " . g:plug_home . "/lightline.vim/autoload/lightline/colorscheme/one.vim"
  elseif g:colors_name =~# 'vadelma'
    execute "source " . g:plug_home . "/vadelma/autoload/lightline/colorscheme/vadelma.vim"
  elseif g:colors_name =~# 'PaperColor'
    " ä½¿ç”¨ vadelma çš„ lightline é…è‰²æ›´èˆ’æœ.
    execute "source " . g:plug_home . "/vadelma/autoload/lightline/colorscheme/vadelma.vim"
  endif

  windo call lightline#colorscheme()
endfunction

" è®¾ç½®èƒŒæ™¯é€æ˜çš„æ–¹æ³•, éœ€è¦æ”¾åˆ° colorscheme æŒ‡ä»¤ä¹‹åæ‰§è¡Œ.
function! BGTransparentAfter()
  if (g:bgtransparency == 1)
    if (g:colors_name != 'PaperColor' && g:colors_name != 'jellybeans')
      " ä½¿ vim/nvim èƒŒæ™¯é€æ˜.
      hi Normal ctermbg=NONE guibg=NONE
    endif

    if (g:popup_window_transparent == 1)
      " ä½¿æ‚¬æµ®çª—å£é€æ˜.
      hi Pmenu ctermbg=NONE guibg=NONE
    endif

    " è‡ªå®šä¹‰è¡Œå·é¢œè‰², ä½¿æ‰€æœ‰é¢œè‰²ä¸»é¢˜ä½¿ç”¨ç›¸åŒè¡Œå·é¢œè‰²æ–¹æ¡ˆ, é»˜è®¤ä¸å¯ç”¨.
    " NOTE: Vim è¯†åˆ«ä¸‰ç§ä¸åŒçš„ç»ˆç«¯, term é»‘ç™½ç»ˆç«¯, cterm å½©è‰²ç»ˆç«¯, gui Gvim çª—å£.
    let linenr_colorscheme_custom=0
    if (linenr_colorscheme_custom==1)
      hi LineNr cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=NONE
    endif
  endif
endfunction

" åœ¨èƒŒæ™¯æ˜¯ dark å’Œ light ä¹‹é—´åˆ‡æ¢çš„æ–¹æ³•.
function! ToggleBGColor()
  " å¯¹äºä¸æ”¯æŒåˆ‡æ¢èƒŒæ™¯è‰²çš„ colorschemes, ç»™å‡ºæç¤ºä¿¡æ¯.
  if g:colors_name == 'ayu' ||
    \ g:colors_name == 'dracula' ||
    \ g:colors_name == 'jellybeans' ||
    \ g:colors_name == 'molokai' ||
    \ g:colors_name == 'rigel' ||
    \ g:colors_name == 'tender' ||
    \ g:colors_name == 'nord' ||
    \ g:colors_name == 'base16-default-dark'

    echo g:colors_name . " has no light colorscheme"
    return
  endif

  " ç”±äº onehalfdark å’Œ onehalflight ä¸ä½¿ç”¨ background é€‰é¡¹æ¥æ§åˆ¶èƒŒæ™¯è‰², æ•…éœ€å•ç‹¬é…ç½®.
  if g:colors_name == 'onehalfdark'
    colorscheme onehalflight
    call OnehalflightAfter()
  elseif g:colors_name == 'onehalflight'
    colorscheme onehalfdark
    call OnehalfdarkAfter()
  else
    " å…¶ä»–ä¸»é¢˜è®¾ç½®åˆ‡æ¢èƒŒæ™¯é¢œè‰².
    let &background = ( &background ==# 'dark'? 'light' : 'dark' )
  endif

  if g:colors_name == 'PaperColor'
    let g:PaperColor_Theme_Options.theme.default.transparent_background = 0
    execute 'colorscheme ' . g:colors_name
    call PaperColorAfter()
  elseif g:colors_name == 'vadelma'
    call VadelmaAfter()
  endif

  " é‡è½½ lightline çŠ¶æ€æ , ä½¿å…¶é¢œè‰²éšç€èƒŒæ™¯è‰²æ”¹å˜.
  call LightlineReload()

  " è§£å†³ä»é€æ˜èƒŒæ™¯çš„åœºæ™¯åˆ‡æ¢èƒŒæ™¯é¢œè‰²å, éœ€è¦è¿ç»­æŒ‰ä¸¤æ¬¡ ,v æ‰èƒ½åˆ‡æ¢æˆèƒŒæ™¯é€æ˜çš„é—®é¢˜.
  let g:bgtransparency = 0
endfunction

" åœ¨èƒŒæ™¯é€æ˜å’Œä¸é€æ˜ä¹‹é—´åˆ‡æ¢çš„æ–¹æ³•.
function! ToggleBGTransparent()
  if g:bgtransparency == 1
    let &background = &background
    let g:bgtransparency = 0

    if g:colors_name == 'PaperColor'
      call PaperColorBefore()
      execute 'colorscheme ' . g:colors_name
      call PaperColorAfter()
    elseif g:colors_name == 'jellybeans'
      let g:jellybeans_overrides = {}
      call JellybeansBefore()
      execute 'colorscheme ' . g:colors_name
      call JellybeansAfter()
    elseif g:colors_name == 'rigel'
      call RigelAfter()
    elseif g:colors_name == 'dracula'
      call DraculaAfter()
    elseif g:colors_name == 'vadelma'
      call VadelmaAfter()
    elseif g:colors_name == 'molokai'
      call MolokaiBefore()
      execute 'colorscheme ' . g:colors_name
      call MolokaiAfter()
    elseif g:colors_name == 'base16-default-dark'
      call Base16DefaultDarkAfter()
    elseif g:colors_name == 'onehalfdark'
      call OnehalfdarkAfter()
    elseif g:colors_name == 'onehalflight'
      call OnehalflightAfter()
    endif
  else
    hi Normal guibg=NONE ctermbg=NONE
    let g:bgtransparency = 1

    if g:colors_name == 'jellybeans'
      call JellybeansBefore()
      execute 'colorscheme ' . g:colors_name
      call JellybeansAfter()
    elseif g:colors_name == 'PaperColor'
      call PaperColorBefore()
      execute 'colorscheme ' . g:colors_name
      call PaperColorAfter()
      call SignColumnHi()
    endif
  endif
endfunction

" }}

" éœ€è¦æ”¾ç½®åˆ° colorscheme æŒ‡ä»¤ä¹‹å‰çš„ä¸»é¢˜ä¼˜åŒ–æ–¹æ³• {{

function! NordBefore()
  let g:nord_italic = 1
  let g:nord_italic_comments = 1
endfunction

function! MolokaiBefore()
  " éœ€è¦è®¾ç½®æˆ 0, å¦åˆ™å¯¹äº vim, å½“èƒŒæ™¯æ˜¯é€æ˜æ—¶éƒ¨åˆ†å…³é”®å­—èƒŒæ™¯æ˜¯é»‘è‰²çš„.
  let g:molokai_italic = 0
endfunction

function! GruvboxBefore()
  " è°ƒæ•´ gruvbox ä¸»é¢˜çš„é¢œè‰²å¯¹æ¯”åº¦.
  " from: https://github.com/morhetz/gruvbox/wiki/Troubleshooting
  " é»˜è®¤å€¼: medium, å¯é€‰å€¼: soft, medium, hard
  let g:gruvbox_contrast_dark = 'medium'
  let g:gruvbox_contrast_light = 'hard'

  " æ˜¯å¦å¯ç”¨ç²—ä½“å­—, 0 ä¸ºç¦ç”¨, 1 ä¸ºå¯ç”¨, é»˜è®¤å€¼: 1
  let g:gruvbox_bold = 1

  " æ˜¯å¦å¯ç”¨æ–œä½“å­—, é»˜è®¤å€¼: 0
  let g:gruvbox_italic = 1

  " å¯¹äºä»£ç ä¸­çš„å­—ç¬¦ä¸²æ˜¯å¦å¯ç”¨æ–œä½“å­—, é»˜è®¤å€¼: 0
  let g:gruvbox_italicize_strings = 1

  " æ³¨é‡Šå†…å®¹æ˜¯å¦å¯ç”¨æ–œä½“å­—, é»˜è®¤å€¼: 1
  let g:gruvbox_italicize_comments = 1
endfunction

function! DraculaBefore()
  " æ˜¯å¦å¯ç”¨æ–œä½“å­—, é»˜è®¤å€¼: 1
  let g:dracula_italic=1

  " æ˜¯å¦å¯ç”¨ç²—ä½“å­—, é»˜è®¤å€¼: 1
  let g:dracula_bold=0
endfunction

function! JellybeansBefore()
  " æ˜¯å¦ç¦ç”¨æ–œä½“å­—, 0 ç¦ç”¨, 1 å¯ç”¨.
  let g:jellybeans_use_term_italics = 1
  let g:jellybeans_use_gui_italics = 1

 if (g:bgtransparency == 1)
    " å¯¹äº jellybeans ä¸»é¢˜, ä½¿ç”¨ hi Normal çš„æ–¹å¼è®¾ç½®èƒŒæ™¯é€æ˜çš„æ–¹å¼,
    " å­˜åœ¨å†…å®¹æœ€åä¸€è¡Œåçš„èƒŒæ™¯ä¸é€æ˜çš„é—®é¢˜, æ‰€ä»¥ä½¿ç”¨è¯¥ä¸»é¢˜è‡ªèº«çš„æŒ‡ä»¤å®ç°.
    let g:jellybeans_overrides = {
    \  'background': { 'ctermbg': 'none', '256ctermbg': 'none' },
    \ }
    if has('termguicolors') && &termguicolors
      let g:jellybeans_overrides['background']['guibg'] = 'none'
    endif
  endif
endfunction

function! PaperColorBefore()
  " papercolor ä¸»é¢˜è®¾ç½®:
  " æ˜¯å¦å…è®¸ç²—ä½“å­—, 1 æ˜¯å…è®¸, 0 æ˜¯ä¸å…è®¸.
  let g:PaperColor_Theme_Options = {
    \  'theme': {
    \    'default': {
    \      'allow_bold': 0,
    \     }
    \   }
    \ }
  " æ˜¯å¦å…è®¸æ–œä½“å­—, 1 æ˜¯å…è®¸, 0 æ˜¯ä¸å…è®¸.
  let g:PaperColor_Theme_Options.theme.default.allow_italic = 1

  if (g:bgtransparency == 1)
    " å¯¹äº papercolor ä¸»é¢˜, ä½¿ç”¨ hi Normal çš„æ–¹å¼è®¾ç½®èƒŒæ™¯é€æ˜çš„æ–¹å¼,
    " å­˜åœ¨å†…å®¹æœ€åä¸€è¡Œåçš„èƒŒæ™¯ä¸é€æ˜çš„é—®é¢˜, æ‰€ä»¥ä½¿ç”¨è¯¥ä¸»é¢˜è‡ªèº«çš„æŒ‡ä»¤å®ç°.
    let g:PaperColor_Theme_Options.theme.default.transparent_background = 1
  endif
endfunction

" }}

" éœ€è¦æ”¾ç½®åˆ° colorscheme æŒ‡ä»¤ä¹‹åçš„ä¸»é¢˜ä¼˜åŒ–æ–¹æ³• {{

function! VadelmaAfter()
  let g:lightline.colorscheme = 'vadelma'

  " for Vim
  if &background == 'dark'
    hi SpecialKey cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#444444
  else
    hi SpecialKey cterm=NONE ctermbg=NONE ctermfg=253 guibg=NONE guifg=#dadada
  endif

  call EnableItalic()
endfunc

function! PaperColorAfter()
  let g:lightline.colorscheme = 'vadelma'

  if &background == 'dark'
    " å…‰æ ‡æ‰€åœ¨è¡Œçš„è¡Œå·é¢œè‰².
    hi CursorLineNr cterm=NONE ctermbg=NONE ctermfg=DarkYellow guibg=NONE guifg=DarkYellow

    " cterm=NONE è¡¨ç¤ºç”¨æ¥å»æ‰é»˜è®¤çš„ç²—ä½“æ˜¾ç¤º.
    hi SpecialKey cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#444444
    hi Whitespace cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#444444
  else
    " for nvim only
    hi Whitespace cterm=NONE ctermbg=NONE ctermfg=251 guibg=NONE guifg=#c6c6c6
  endif

  call EnableItalic()
endfunction

function! JellybeansAfter()
    let g:lightline.colorscheme = 'jellybeans'

    hi SpecialKey ctermbg=NONE ctermfg=237 guibg=NONE guifg=#3a3a3a
    hi Whitespace cterm=NONE ctermbg=NONE ctermfg=237 guibg=NONE guifg=#3a3a3a

    hi ColorColumn ctermbg=236 guibg=#303030

    hi CursorLine cterm=NONE ctermbg=236 ctermfg=NONE guibg=#303030 guifg=NONE
    hi Cursorcolumn cterm=NONE ctermbg=236 ctermfg=NONE guibg=#303030 guifg=NONE

    call EnableItalic()
endfunction

function! Base16DefaultDarkAfter()
  let g:lightline.colorscheme = 'apprentice'

  " cterm=NONE è¡¨ç¤ºç”¨æ¥å»æ‰é»˜è®¤çš„ç²—ä½“æ˜¾ç¤º.
  hi SpecialKey cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#444444
  hi Whitespace cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#444444

  call EnableItalic()
endfunction

function! DraculaAfter()
  " è®¾ç½® popup window èƒŒæ™¯é€æ˜è‰²å, ä½¿ç”¨ vim æ—¶, åœ¨è¿›è¡Œä»£ç æç¤ºçš„æ—¶å€™,
  " dracula ä¸»é¢˜çš„å­—ä½“é¢œè‰²å˜å¾—å¾ˆéš¾è¾¨è®¤, è¿™é‡Œè¿›è¡Œä¼˜åŒ–, nvim æ— æ­¤é—®é¢˜.
  if !has('nvim') && (g:colors_name == 'dracula') && (g:popup_window_transparent == 1)
    hi Pmenu ctermbg=NONE guibg=NONE ctermfg=white
  endif

  let g:lightline.colorscheme = 'dracula'

  hi ColorColumn cterm=NONE ctermbg=237 guibg=#44475a

  " ä¼˜åŒ– Vim çš„éå¯è§å­—ç¬¦çš„é¢œè‰²æ–¹æ¡ˆ.
  hi SpecialKey cterm=NONE ctermbg=NONE ctermfg=237 guibg=NONE guifg=#6272a4
  " ä¼˜åŒ– Neovim çš„éå¯è§å­—ç¬¦çš„é¢œè‰²æ–¹æ¡ˆ.
  hi Whitespace cterm=NONE ctermbg=NONE ctermfg=237 guibg=NONE guifg=#6272a4
endfunction

function! RigelAfter()
  " å®šåˆ¶çŠ¶æ€æ çš„ä¸»é¢˜é¢œè‰².
  let g:rigel_lightline = 1
  let g:lightline.colorscheme = 'rigel'

  " ä¼˜åŒ–éå¯è§å­—ç¬¦ nbsp, tab, trail ç­‰çš„é¢œè‰²æ–¹æ¡ˆ:
  " ç›®çš„æ˜¯æ”¹å˜ tab é”®å’Œè¡Œå°¾ç©ºæ ¼çš„é¢œè‰²æ ·å¼, ä»è€Œæ–¹ä¾¿æˆ‘ä»¬æ˜æ˜¾çš„çœ‹åˆ°å¤šä½™çš„ç©ºç™½å­—ç¬¦.
  " NOTE: å¯¹äº Vim, æ˜¯ç”± SpecialKey é«˜äº®ç»„å®šä¹‰çš„,
  " ä½†å¯¹äº Neovim, åˆ™æ˜¯ç”± Whitespace é«˜äº®ç»„å®šä¹‰çš„.
  hi SpecialKey cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#00384d
  hi Whitespace cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#00384d

  " ä¼˜åŒ– ColorColumn åˆ—çš„é¢œè‰²æ–¹æ¡ˆ.
  " NOTE: è®¾ç½® ctermbg å¯¹ vim æœ‰æ•ˆ, å¯¹ nvim æ— æ•ˆ, è®¾ç½® guibg æ‰å¯¹ nvim æœ‰æ•ˆ.
  hi ColorColumn cterm=NONE ctermbg=black guibg=#00384d

  " ä¼˜åŒ–å…‰æ ‡æ‰€åœ¨è¡Œçš„é¢œè‰²æ–¹æ¡ˆ.
  hi CursorLine cterm=NONE ctermbg=black ctermfg=NONE guibg=#00384d guifg=NONE

  " ä¼˜åŒ–å…‰æ ‡æ‰€åœ¨åˆ—çš„é¢œè‰²æ–¹æ¡ˆ.
  hi Cursorcolumn cterm=NONE ctermbg=black ctermfg=NONE guibg=#00384d guifg=NONE

  " ä¼˜åŒ–å…‰æ ‡æ‰€åœ¨è¡Œçš„è¡Œå·çš„é¢œè‰²æ–¹æ¡ˆ.
  hi CursorLineNr cterm=NONE ctermbg=NONE ctermfg=white guibg=#00384d guifg=#afffff

  call EnableItalic()
endfunction

function! OneAfter()
  let g:lightline.colorscheme = 'one'
  call EnableItalic()
endfunction

function! MolokaiAfter()
  let g:lightline.colorscheme = 'molokai'

  " for Neovim, é€šè¿‡ cterm=NONE æ¥å»æ‰é»˜è®¤çš„ç²—ä½“æ˜¾ç¤º.
  hi Whitespace cterm=NONE guibg=NONE guifg=#465457

  call EnableItalic()
endfunction

function! GruvboxAfter()
  let g:lightline.colorscheme = 'gruvbox'
  call EnableItalic()
endfunction

function! IcebergAfter()
  let g:lightline.colorscheme = 'iceberg'
  call EnableItalic()
endfunction

function! NordAfter()
  let g:lightline.colorscheme = 'nord'
  " nord é»˜è®¤æä¾›çš„æ–œä½“å­—æ”¯æŒä¸å¤Ÿç†æƒ³, ä½¿ç”¨è‡ªå®šä¹‰æ–¹æ³•å¢å¼º.
  call EnableItalic()
endfunction

function! TenderAfter()
  let g:lightline.colorscheme = 'tender'
  call EnableItalic()
endfunction

function! AyuAfter()
  if (g:ayucolor == 'dark')
    let g:lightline.colorscheme = 'ayu_dark'
  elseif (g:ayucolor == 'mirage')
    let g:lightline.colorscheme = 'ayu_mirage'
  else
    let g:lightline.colorscheme = 'ayu_light'
  endif

  call EnableItalic()
endfunction

function! OnehalfdarkAfter()
  let g:lightline.colorscheme = 'onehalfdark'

  " æ­¤ä¸»é¢˜é»˜è®¤å¼¹çª—æ˜¯ light çš„, è¿™é‡Œæ”¹æˆ dark.
  hi Pmenu guibg=#282c34 guifg=#dcdfe4

  " for Vim
  hi SpecialKey cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#444444
  " for Neovim
  hi Whitespace cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#444444

  call EnableItalic()
endfunction

function! OnehalflightAfter()
  let g:lightline.colorscheme = 'one'

  " for Vim
  hi SpecialKey cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#e4e4e4

  call EnableItalic()
endfunction

" }}

" }}

" colorscheme æŒ‡ä»¤ä¹‹å‰æ‰§è¡Œçš„ä¸»é¢˜ä¼˜åŒ–æ–¹æ³•.
call GruvboxBefore()
call DraculaBefore()
call NordBefore()
call MolokaiBefore()
call PaperColorBefore()
call JellybeansBefore()

" åŠ è½½å•ç‹¬çš„ç”¨äºè®¾ç½® colorscheme çš„æ–‡ä»¶, è®¾ç½®è¯¥æ–‡ä»¶çš„ç›®çš„æ˜¯å½“å˜æ›´é¢œè‰²æ–¹æ¡ˆæ—¶,
" dotfiles gitä»“åº“å¯ä»¥ä¸è¢«æ— ç”¨çš„å˜æ›´ä¿¡æ¯å¹²æ‰°.
let colorscheme_file = expand('~/.vim/colorscheme.vim')

if filereadable(colorscheme_file)
  exec 'source' colorscheme_file
else
  " é»˜è®¤çš„èƒŒæ™¯è‰², dark or light.
  set background=dark

  " ä½¿ç”¨ try çš„æ–¹å¼æ•è·å¹¶å¿½ç•¥é”™è¯¯, æ¥å®ç°æ¶ˆé™¤ç¬¬ä¸€æ¬¡ä½¿ç”¨æ­¤é…ç½®æ–‡ä»¶æ—¶çš„æ²¡ç”¨æŠ¥é”™ä¿¡æ¯.
  try
    " è®¾ç½®é»˜è®¤ä¸»é¢˜.
    colorscheme dracula
  catch /Cannot find color scheme 'dracula'/
  endtry
endif

" colorscheme æŒ‡ä»¤ä¹‹åæ‰§è¡Œçš„ä¸»é¢˜ä¼˜åŒ–æ–¹æ³•.
if exists('g:colors_name')
  call BGTransparentAfter()

  if (g:colors_name == 'rigel')
    call RigelAfter()
  elseif (g:colors_name == 'dracula')
    call DraculaAfter()
  elseif (g:colors_name == 'one')
    call OneAfter()
  elseif (g:colors_name == 'molokai')
    call MolokaiAfter()
  elseif (g:colors_name == 'gruvbox')
    call GruvboxAfter()
  elseif (g:colors_name == 'iceberg')
    call IcebergAfter()
  elseif (g:colors_name == 'jellybeans')
    call JellybeansAfter()
  elseif (g:colors_name == 'base16-default-dark')
    call Base16DefaultDarkAfter()
  elseif (g:colors_name == 'nord')
    call NordAfter()
  elseif (g:colors_name == 'tender')
    call TenderAfter()
  elseif (g:colors_name == 'PaperColor')
    call PaperColorAfter()
  elseif (g:colors_name == 'ayu')
    " è§£å†³åœ¨ AyuAfter å‡½æ•°å†…æ‰¾ä¸åˆ° ayucolor å˜é‡çš„é—®é¢˜.
    let g:ayucolor = ayucolor
    call AyuAfter()
  elseif (g:colors_name == 'onehalfdark')
    call OnehalfdarkAfter()
  elseif (g:colors_name == 'onehalflight')
    call OnehalflightAfter()
  elseif (g:colors_name == 'vadelma')
    call VadelmaAfter()
  endif
endif

" è®¾ç½®æç¤ºåˆ—çš„é¢œè‰²æ–¹æ¡ˆ.
call SignColumnHi()

" ä¼˜åŒ– ale é”™è¯¯æç¤ºæ ‡è¯†çš„é¢œè‰²æ–¹æ¡ˆ.
call ALESignHi()

" ä¸º coc-git æ’ä»¶æä¾› git å¢åˆ æ”¹æç¤ºæ ‡è¯†çš„é«˜äº®é¢œè‰²æ–¹æ¡ˆ.
call GitSignHi()

" ,b  normal æ¨¡å¼ä¸‹, åœ¨èƒŒæ™¯æ˜¯ dark å’Œ light ä¹‹é—´åˆ‡æ¢.
nnoremap <silent> <leader>b :call ToggleBGColor()<CR>

" ,v  normal æ¨¡å¼ä¸‹, åœ¨èƒŒæ™¯é€æ˜å’Œä¸é€æ˜ä¹‹é—´åˆ‡æ¢.
" NOTE: terminal éœ€è¦è®¾ç½®é€æ˜åº¦, Vim æ‰èƒ½çœ‹åˆ°åˆ‡æ¢æ•ˆæœ.
nnoremap <silent> <leader>v :call ToggleBGTransparent()<CR>

" }}


" ç›®å½•æ ‘ç­‰å›¾å½¢æ¥å£  UI Interface {{

"""""" preservim/nerdtree
" doc: https://github.com/preservim/nerdtree

" ,t  normal æ¨¡å¼ä¸‹æ˜¾ç¤ºæˆ–éšè—ç›®å½•æ ‘çš„å¿«æ·é”®.
nnoremap <leader>x :NERDTreeToggle<CR>

" ç›®å½•æ ‘æ˜¾ç¤ºåœ¨å·¦ä¾§è¿˜æ˜¯å³ä¾§.
" å¯é€‰å€¼: 'right', 'left', é»˜è®¤å€¼: 'left'
let NERDTreeWinPos = 'left'

" è®¾ç½®ç›®å½•æ ‘çª—å£å®½åº¦, é»˜è®¤å€¼: 31
let NERDTreeWinSize=35

" ä¸æ˜¾ç¤ºç›®å½•æ ‘ä¸Šæ–¹çš„ 'Bookmarks' å’Œ 'Press ? for help' æ–‡æœ¬,
" é»˜è®¤å€¼ä¸º 0, è¡¨ç¤ºæ˜¾ç¤º, 1 è¡¨ç¤ºä¸æ˜¾ç¤º.
let NERDTreeMinimalUI=1

" æŒ‰ m é”®è§¦å‘ menu çš„æ—¶å€™, æ˜¯å¦ä½¿ç”¨ç²¾ç®€ç‰ˆ menu, ç±»ä¼¼è¿™ç§:
"   Menu: [ (a)dd ,m,d,r,o,q,c,l] (Use j/k/enter or shortcut):
" é»˜è®¤å€¼: 0, è¡¨ç¤ºä¸ä½¿ç”¨.
let NERDTreeMinimalMenu=0

" è¿è¡Œ Vim æ—¶, åé¢ä¸æ¥ä»»ä½•æ–‡ä»¶çš„æƒ…å†µ, è‡ªåŠ¨æ‰“å¼€ç›®å½•æ ‘çª—å£.
" NOTE: å¦‚æœä½¿ç”¨äº† firenvim æ’ä»¶, ä¸å»ºè®®å¯ç”¨æ­¤æ¡é…ç½®.
"autocmd StdinReadPre * let s:std_in=1
"autocmd VimEnter * if argc() == 0 && !exists('s:std_in') | NERDTree | endif

" è¿è¡Œ Vim çš„æ—¶å€™è‡ªåŠ¨æ‰“å¼€ç›®å½•æ ‘. å¦‚æœ vim åé¢æ¥äº†æ–‡ä»¶, åˆ™å°†å…‰æ ‡è‡ªåŠ¨ç§»åŠ¨åˆ°æ–‡ä»¶çª—å£.
" NOTE: å¦‚æœä½¿ç”¨ tmux, ä¸å»ºè®®å¯ç”¨æ­¤æ¡é…ç½®.
"autocmd StdinReadPre * let s:std_in=1
"autocmd VimEnter * NERDTree | if argc() > 0 || exists("s:std_in") | wincmd p | endif

" å¦‚æœæ–‡ä»¶éƒ½é€€å‡ºäº†, åªå‰©ç›®å½•æ ‘çª—å£çš„æƒ…å†µä¸‹è‡ªåŠ¨é€€å‡º Vim.
autocmd BufEnter * if tabpagenr('$') == 1 && winnr('$') == 1 && exists('b:NERDTree')
  \ && b:NERDTree.isTabTree() | quit | endif

" æ¯æ–°æ‰“å¼€ä¸€ä¸ªæ ‡ç­¾é¡µéƒ½æ˜¾ç¤ºå½“å‰å·²å­˜åœ¨çš„ç›®å½•æ ‘çª—å£.
" NOTE:
"   1)å®˜æ–¹æä¾›çš„æŒ‡ä»¤æ˜¯: autocmd BufWinEnter * silent NERDTreeMirror,
"     ä½†ç»è¿‡å®æµ‹, ä¼šå’Œä»¥ä¸‹2æ¡æŒ‡ä»¤äº§ç”Ÿå†²çª, å½“ gd æˆ– gr æ‰“å¼€æ–°çš„ buffer æ—¶ä¼šæŠ¥é”™:
"     å†²çªçš„2æ¡æŒ‡ä»¤æ˜¯:
"         1) let g:ale_set_loclist = 1
"         2) map gr :YcmCompleter GoToReferences<CR>
"     ä¿®æ”¹ä¸ºå½“å‰æŒ‡ä»¤å, å¯ä¿®å¤æ­¤é—®é¢˜.
"   2) å¦‚æœä½¿ç”¨ tmux, ä¸å»ºè®®å¯ç”¨æ­¤æ¡é…ç½®.
"autocmd BufWinEnter *.* silent NERDTreeMirror

" å½“é¡¹ç›®ä¸‹æ–°å¢æˆ–åˆ é™¤æ–‡ä»¶æ—¶, ç›®å½•æ ‘çª—å£ä¸­è‡ªåŠ¨æ›´æ–°å˜åŒ–,
" çœå»äº†åœ¨ç›®å½•æ ‘çª—å£ä¸­æ‰‹åŠ¨æŒ‰ R çš„åŠ¨ä½œäº†;
" æ³¨æ„, éœ€è¦å…‰æ ‡ç§»åŠ¨åˆ°ç›®å½•æ ‘çª—å£ä¸­æˆ–é‡æ–°æ‰“å¼€ç›®å½•æ ‘çª—å£æ¥è§¦å‘æ›´æ–°åŠ¨ä½œ.
autocmd BufEnter NERD_tree_* | execute 'normal R'

" ç›®å½•æ ‘ä¸­ç›®å½•æŠ˜å ä¸å±•å¼€çš„æ ·å¼, é»˜è®¤å€¼: 'â–¸' å’Œ 'â–¾';
" å¯ä¾›é€‰æ‹©: '+' ä¸ '~', '<' ä¸ 'v', ç­‰ç­‰.
let g:NERDTreeDirArrowExpandable = 'â–¸'
let g:NERDTreeDirArrowCollapsible = 'â–¾'

" æ ‡ç­¾é¡µåˆ‡æ¢å¿«æ·é”®: `shift h` å‘å·¦, `shift l` å‘å³.
map <S-h> gT
map <S-l> gt

" æ˜¯å¦æ˜¾ç¤ºéšè—æ–‡ä»¶, é»˜è®¤å€¼: 0, è¡¨ç¤ºä¸æ˜¾ç¤º.
let NERDTreeShowHidden=1

" å¿½ç•¥å“ªäº›æ–‡ä»¶çš„æ˜¾ç¤º, å¼€å¯è¿™ä¸ªå°†é»˜è®¤æ˜¾ç¤ºéšè—æ–‡ä»¶.
let NERDTreeIgnore=['\.git$','\.pyc$','__pycache__','\.swp$']

" æ˜¯å¦æ˜¾ç¤ºç›®å½•æ ‘çš„è¡Œå·, é»˜è®¤å€¼: 0, è¡¨ç¤ºä¸æ˜¾ç¤º.
let NERDTreeShowLineNumbers=0

"""""" nerdtree-git-plugin
let g:NERDTreeGitStatusIndicatorMapCustom = {
  \  "Modified"  : "âœ¹",
  \  "Staged"    : "âœš",
  \  "Untracked" : "âœ­",
  \  "Renamed"   : "âœ",
  \  "Unmerged"  : "â•",
  \  "Deleted"   : "âœ–",
  \  "Dirty"     : "âœ—",
  \  "Clean"     : "âœ”ï¸",
  \  'Ignored'   : 'â˜’',
  \  "Unknown"   : "?"
  \ }

"""""" majutsushi/tagbar
" æ˜¾ç¤ºæˆ–éšè—å¤§çº²è§†å›¾çš„å¿«æ·é”®: `,e`
nmap ,e :TagbarToggle<CR>

" Tagbar çª—å£æ˜¯å¦æ˜¾ç¤ºåœ¨å·¦ä¾§, é»˜è®¤å€¼: 0, è¡¨ç¤ºæ˜¾ç¤ºåœ¨å³æµ‹.
let g:tagbar_left = 0

" è®¾ç½® Tagbar çª—å£å®½åº¦, é»˜è®¤å€¼: 40
let g:tagbar_width = 35

" æ˜¯å¦å¼€å¯è‡ªåŠ¨é¢„è§ˆ, å¦‚æœå¼€å¯, å°†å…‰æ ‡ç§»åŠ¨åˆ° Tagbar çª—å£æ—¶, ä¼šè‡ªåŠ¨æ‰“å¼€ä¸€ä¸ªæ–°çª—å£ç”¨äºé¢„è§ˆ,
" éšç€å…‰æ ‡åœ¨æ ‡ç­¾ä¸Šç§»åŠ¨, é¢„è§ˆçª—å£ä¹Ÿä¼šå®æ—¶è¿›è¡Œä»£ç å®šä½.
" é»˜è®¤å€¼: 0, è¡¨ç¤ºä¸å¼€å¯é¢„è§ˆ.
let g:tagbar_autopreview = 1

" æ ¹æ® tag çš„åç§°æ’åº, é»˜è®¤å€¼: 1.
" è®¾ç½®ä¸º 0 è¡¨ç¤ºç¦ç”¨æ’åº, å³æŒ‰æ ‡ç­¾æœ¬èº«åœ¨ä»£ç æ–‡ä»¶ä¸­çš„ä½ç½®æ’åº.
let g:tagbar_sort = 0

"""""" 'ryanoasis/vim-devicons'
" doc: https://github.com/ryanoasis/vim-devicons
" NOTE:
"   1. éœ€è¦æå‰ä¸ºä½ çš„ç»ˆç«¯æ¨¡æ‹Ÿå™¨(terminal emulator)è®¾ç½®å¦‚ä¸‹å­—ä½“:
"      Hack Nerd Font æˆ– Hack Nerd Font Mono
"   2. Hack Nerd Font å­—ä½“å®‰è£…(macOS):
"      brew tap homebrew/cask-fonts && brew install font-hack-nerd-font

" æ˜¯å¦å¯ç”¨æ–‡ä»¶ç±»å‹å›¾æ ‡æ˜¾ç¤º, é»˜è®¤å€¼: 1, è¡¨ç¤ºå¯ç”¨.
let g:webdevicons_enable = 1

" ä¸º gvim/mvim(GUI) è®¾ç½®å­—ä½“å’Œå­—å·.
set guifont=Hack_Nerd_Font:h12

"""""" 'Yggdroot/indentLine'
" doc: https://github.com/Yggdroot/indentLine

" æ­¤æ’ä»¶ä¼šè‡ªåŠ¨è®¾ç½® set conceallevel=2, å¯¼è‡´ markdown éšè—éƒ¨åˆ†è¯­æ³•çš„æ˜¾ç¤º, æ¯”å¦‚ ** **,
" é€šè¿‡åœ¨è¿™é‡Œæ’é™¤æ‰ markdown æ¥è§£å†³è¿™ä¸ªé—®é¢˜.
" NOTE: å¦‚æœ json ç±»å‹æ–‡ä»¶ä¸­æ— æ³•æ˜¾ç¤ºåŒå¼•å·å¯èƒ½ä¹Ÿæ˜¯ç”±æ­¤æ’ä»¶å¯¼è‡´,
" æŠŠ json å’Œ jsonc æ·»åŠ åˆ°ä¸‹é¢åˆ—è¡¨ä¸­å³å¯.
let g:indentLine_fileTypeExclude = ['markdown']

"""""" 'voldikss/vim-floaterm'
" doc: https://github.com/voldikss/vim-floaterm
" FIXME: ä½¿ç”¨ Vim çš„æƒ…å†µ, floaterm çš„é¢œè‰²æ–¹æ¡ˆå’Œ Vim çš„ä¸ä¸€è‡´, ä½¿ç”¨ Neovim æ— æ­¤é—®é¢˜.

" æ˜¾ç¤ºæˆ–éšè—æ‚¬æµ®ç»ˆç«¯çª—å£, å¦‚æœæ‚¬æµ®çª—å£è¿˜ä¸å­˜åœ¨åˆ™æ–°å»º.
let g:floaterm_keymap_toggle = '<leader>t'

" æ–°å»ºä¸€ä¸ªæ‚¬æµ®çª—å£.
let g:floaterm_keymap_new = '<leader>tc'

" å…³é—­å½“å‰æ‚¬æµ®çª—å£.
let g:floaterm_keymap_kill = '<leader>tk'

" åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªæ‚¬æµ®çª—å£.
let g:floaterm_keymap_next = '<leader>tn'

" æ˜¾ç¤ºç›®å‰å­˜åœ¨çš„æ‚¬æµ®çª—å£.
let g:floaterm_keymap_show = '<leader>ts'

"""""" 'francoiscabrol/ranger.vim'
" doc: https://github.com/francoiscabrol/ranger.vim
" NOTE: éœ€è¦åœ¨ ~/.zshrc ä¸­åŠ å…¥ export LC_ALL="en_US.UTF-8", å¦åˆ™ ranger ä¸­å°†å‡ºç°ä¹±ç .

" ç¦ç”¨é»˜è®¤çš„ <leader>f å¿«æ·é”®.
let g:ranger_map_keys = 0

" ,r  æ‰“å¼€ ranger, é€‰æ‹©æ–‡ä»¶åæŒ‰ l æˆ– enter ä»¥æ–°å»ºæ ‡ç­¾é¡µçš„æ–¹å¼æ‰“å¼€æ–‡ä»¶,
" å¦‚æœæ–‡ä»¶å·²ç»æ‰“å¼€äº†, åˆ™ç›´æ¥è·³è½¬åˆ°ç›¸å…³çš„æ ‡ç­¾é¡µ.
map <leader>r :RangerCurrentFileExistingOrNewTab<CR>

"""""" 'uguu-org/vim-matrix-screensaver'
" doc: https://github.com/uguu-org/vim-matrix-screensaver

" åœ¨å½“å‰ Vim çª—å£å¯ç”¨ Matrix å±å¹•ä¿æŠ¤.
nmap <leader>m :Matrix<CR>

" }}


" ç¼–ç¨‹è¯­è¨€  Programming Language {{

"""""""" Go {{

"""""" fatih/vim-go
" doc: https://github.com/fatih/vim-go

" *** ä»£ç è‡ªåŠ¨æ ¼å¼åŒ– ***
" ä½¿ç”¨ ale æ’ä»¶æ¥å®ç°, æ•…ç¦ç”¨ vim-go çš„ç›¸å…³åŠŸèƒ½.

" é»˜è®¤å€¼: 1
let g:go_fmt_autosave = 0

" é»˜è®¤å€¼: 1
let g:go_imports_autosave = 0


" *** ä»£ç é«˜æ•ˆé˜…è¯» ***

" ä½¿ç”¨ K è§¦å‘ :GoDoc æ–‡æ¡£, è¦†ç›–é»˜è®¤çš„ man, é»˜è®¤å€¼: 1, è¡¨ç¤ºå¯ç”¨;
" æ­¤å¤„ç¦ç”¨, è¿™é‡Œä½¿ç”¨ coc.nvim çš„ K æ˜ å°„.
let g:go_doc_keywordprg_enabled = 0

" gr  åœ¨ location list ä¸­åˆ—å‡ºå“ªäº›åœ°æ–¹å¼•ç”¨äº†å…‰æ ‡æ‰€åœ¨çš„å¯¹è±¡.
" NOTE: coc-go çš„ gr è¡¨ç°çš„æ›´å¥½, æ•…æ³¨é‡Šæ‰ä¸ä½¿ç”¨æ­¤é…ç½®.
"au FileType go nmap gr :GoReferrers<CR>

" ,cl  åœ¨ location list ä¸­åˆ—å‡ºå“ªäº›åœ°æ–¹è°ƒç”¨äº†å…‰æ ‡æ‰€åœ¨çš„å‡½æ•°.
au FileType go nmap <leader>cl :GoCallers<CR>
" ,s  æŸ¥çœ‹å…‰æ ‡æ‰€åœ¨çš„ç±»å‹å®ç°äº†å“ªäº›æ¥å£, æ³¨æ„å…‰æ ‡åªèƒ½åœ¨ç±»å‹æˆ–ç±»å‹çš„æ–¹æ³•ä¸Š.
au FileType go nmap <leader>s <Plug>(go-implements)

" NOTE:
"   Go è·³è½¬åˆ°å…‰æ ‡æ‰€åœ¨å‡½æ•°å®šä¹‰å¤„çš„4ç§æ–¹å¼å‡ç”± vim-go æ’ä»¶æä¾›, å’Œ YCM é…ç½®æ— å…³.
"   å¦‚æœå…‰æ ‡æ‰€åœ¨å‡½æ•°å®šä¹‰å¤„å°±æ˜¯åœ¨å½“å‰é¡µé¢, åˆ™ç›´æ¥åœ¨å½“å‰é¡µå†…è·³è½¬, å¹¶ä¸æ‰“å¼€æ–°é¡µé¢;
"   å¦‚æœåœ¨å½“å‰é¡µé¢å†…è·³è½¬, æ¨èä½¿ç”¨ ctrl o/i æ¥å›è·³è½¬åˆ‡æ¢, ä»¥æé«˜æ•ˆç‡.
"
" gd  é»˜è®¤ä»¥è¦†ç›–å½“å‰é¡µé¢çš„æ–¹å¼è·³è½¬åˆ°å‡½æ•°å®šä¹‰å¤„, vim-goæ’ä»¶é»˜è®¤è¡Œä¸º, æ— éœ€é…ç½®.
"
" gl  æ–°å¼€ä¸€ä¸ªæ ‡ç­¾é¡µçš„æ–¹å¼è·³è½¬åˆ°å‡½æ•°å®šä¹‰å¤„.
au FileType go nmap <silent> gl <Plug>(go-def-tab)
" gs  ä¸Šä¸‹åˆ†å±è·³è½¬åˆ°å‡½æ•°å®šä¹‰å¤„.
au FileType go nmap <silent> gs <Plug>(go-def-split)
" gv  å·¦å³åˆ†å±è·³è½¬åˆ°å‡½æ•°å®šä¹‰å¤„.
au FileType go nmap <silent> gv <Plug>(go-def-vertical)

" å¯¹äºè·³è½¬åˆ°å¯¹è±¡å®šä¹‰å¤„çš„åŠŸèƒ½, é‡ç”¨å·²ç»æ‰“å¼€çš„buffer. é»˜è®¤å€¼: 0
let g:go_def_reuse_buffer = 1


" *** ä»£ç è‡ªåŠ¨ç”Ÿæˆ ***

" ,im  è‡ªåŠ¨ä¸ºå…‰æ ‡ä¸‹çš„ç±»å‹ç”ŸæˆæŒ‡å®šæ¥å£çš„å®ç°æ–¹æ³•.
au FileType go nmap <leader>im :GoImpl<CR>
" ,ki  è‡ªåŠ¨æŠŠå…‰æ ‡æ‰€åœ¨çš„ç»“æ„ä½“å­—é¢é‡(ä»…æœ‰valueæ²¡æœ‰keyçš„æƒ…å†µ)è¡¥å……ä¸Šå­—æ®µ.
au FileType go nmap <leader>ki :GoKeyify<CR>
" ,fs  è‡ªåŠ¨æŠŠå…‰æ ‡æ‰€åœ¨çš„ç»“æ„ä½“å­—é¢é‡, ä»¥å­—æ®µé›¶å€¼æ–¹å¼è¡¥ä¸Šå°šæœªå¡«å†™çš„å­—æ®µ.
au FileType go nmap <leader>fs :GoFillStruct<CR>
" ,ie  è‡ªåŠ¨ç”Ÿæˆ if err != nil ä»£ç æ®µ.
au FileType go nmap <leader>ie :GoIfErr<CR>
" ,at  ä¸ºå…‰æ ‡æ‰€åœ¨çš„ç»“æ„ä½“å®šä¹‰è‡ªåŠ¨ç”Ÿæˆå­—æ®µå¯¹åº”çš„tags.
au FileType go nmap <leader>at :GoAddTags<CR>

" ä½¿ç”¨ :GoAddTags æ—¶, æ˜¯å¦å¿½ç•¥æœªå¯¼å‡ºçš„ç»“æ„ä½“å­—æ®µ(å³å°å†™å­—æ®µ), 1 è¡¨ç¤ºå¿½ç•¥. é»˜è®¤å€¼: 0
let g:go_addtags_skip_unexported = 1

" ,rn  çº§è”çš„é‡å‘½åå…‰æ ‡ä¸‹çš„æ ‡è¯†ç¬¦, é‡å‘½åå, é¡¹ç›®å†…çš„æ‰€æœ‰ä¸å…¶ç›¸å…³çš„åœ°æ–¹å…¨éƒ¨ä¼šæ›´æ–°;
"      ç”±äº coc.nvim çš„ ,rn è¡¨ç°çš„æ›´å¥½, æ³¨é‡Šæ­¤é…ç½®.
"au FileType go nmap <leader>rn :GoRename<CR>

" æ–°åˆ›å»ºä¸€ä¸ª .go æ–‡ä»¶æ—¶, æ˜¯å¦è‡ªåŠ¨ä½¿ç”¨æ¨¡ç‰ˆå†…å®¹å¡«å……, é»˜è®¤å€¼: 1
let g:go_template_autocreate = 1
" æ˜¯å¦ä»…è‡ªåŠ¨ç”Ÿæˆ package pkgname ä¸€è¡Œä»£ç , é»˜è®¤å€¼: 0
" NOTE: å°†è¦†ç›–æ‰ let g:go_template_autocreate = 1 çš„ä½œç”¨.
let g:go_template_use_pkg = 1


" *** è¿è¡Œå½“å‰ Go æ–‡ä»¶ ***

" ,gr  go run å½“å‰çš„goæ–‡ä»¶.
au FileType go nmap <leader>gr <Plug>(go-run)
" ,gb  go build å½“å‰çš„goæ–‡ä»¶, ä¸äº§ç”ŸäºŒè¿›åˆ¶æ–‡ä»¶, åªæ˜¯æ£€æŸ¥æ˜¯å¦å¯ä»¥æˆåŠŸbuild.
au FileType go nmap <leader>gb <Plug>(go-build)
" ,gt  go test å½“å‰çš„goæ–‡ä»¶.
au FileType go nmap <leader>gt <Plug>(go-test)
" ,gc  æŸ¥çœ‹å½“å‰ä»£ç æ–‡ä»¶çš„æµ‹è¯•è¦†ç›–ç‡.
au FileType go nmap <leader>gc <Plug>(go-coverage)


" *** ä»£ç è¯­æ³•é«˜äº® ***

" ä»¥ä¸‹æŒ‡ä»¤é»˜è®¤å€¼éƒ½æ˜¯0.
let g:go_highlight_array_whitespace_error = 1
let g:go_highlight_chan_whitespace_error = 1
let g:go_highlight_extra_types = 1
let g:go_highlight_space_tab_error = 1
let g:go_highlight_trailing_whitespace_error = 1
let g:go_highlight_operators = 1
let g:go_highlight_functions = 1
let g:go_highlight_function_parameters = 1
let g:go_highlight_function_calls = 1
let g:go_highlight_types = 1
let g:go_highlight_fields = 1
let g:go_highlight_build_constraints = 1
let g:go_highlight_generate_tags = 1
let g:go_highlight_variable_declarations = 1
let g:go_highlight_variable_assignments = 1

" ä»¥ä¸‹æŒ‡ä»¤é»˜è®¤å€¼éƒ½æ˜¯1.
let g:go_highlight_string_spellcheck = 1
let g:go_highlight_format_strings = 1
let g:go_highlight_diagnostic_errors = 1
let g:go_highlight_diagnostic_warnings = 1

" }}

"""""""" Python {{

" requirements æ–‡æœ¬æ–‡ä»¶å†…å®¹ä¹Ÿé«˜äº®æ˜¾ç¤º.
autocmd BufNewFile,BufRead requirements*.txt set ft=python

" æ–°å»º .py ç»“å°¾çš„æ–‡ä»¶æ—¶, è‡ªåŠ¨è¾“å…¥ä¸€äº›å†…å®¹
func SetTitleForPython()
  call setline(1, "\#!/usr/bin/env python3")
  call setline(2, "\"\"\"")
  call setline(3, "Author: windvalley")  " æ”¹æˆä½ è‡ªå·±çš„åå­—
  call setline(4, "Created Time: ".strftime("%Y-%m-%d %H:%M:%S"))
  call setline(5, "\"\"\"")
  normal G
  normal o
  normal o
  " ä¸ºæ–°åˆ›å»ºçš„ .py æ–‡ä»¶è‡ªåŠ¨èµ‹äºˆå¯æ‰§è¡Œæƒé™
  au BufWritePost *.py silent !chmod a+x <afile>
endfunc
autocmd bufnewfile *.py call SetTitleForPython()

" å¦‚æœä¸€ä¸ª .py æ–‡ä»¶å¼€å¤´ç¬¬ä¸€è¡Œä¸æ˜¯ä»¥ #! å¼€å¤´, å°±å»é™¤æ‰æ–‡ä»¶çš„å¯æ‰§è¡Œæƒé™.
function! NoShabang(line1, current_file)
  if a:line1 !~ '^#!'
    let chmod_command = "silent !chmod ugo-x " . a:current_file
    execute chmod_command
  endif
endfunction
autocmd BufWritePost *.py call NoShabang(getline(1), expand("%:p"))

" }}

"""""""" OpenResty/Lua {{

func SetTitleForLua()
  " è‡ªåŠ¨è·å–æ–‡ä»¶åç§°, ä¸åŒ…å«æ–‡ä»¶æ‰©å±•å.
  let filename = expand('%:r')
  let lua_module_name = join(["_M.name = \"", filename, "\""], "")

  call setline(1, "local ngx = require \"ngx\"")
  call setline(2, "")
  call setline(3, "")
  call setline(4, "local _M = {}")
  call setline(5, "")
  call setline(6, "_M._VERSION = 0.1")
  call setline(7, lua_module_name)
  call setline(8, "")
  normal G
  normal o
  normal o
endfunc
autocmd bufnewfile *.lua call SetTitleForLua()

" }}

"""""""" Javascript/vue/html/css {{

" å°† .json æ–‡ä»¶è®¾ç½®ä¸º jsonc æ–‡ä»¶ç±»å‹, è¿™æ ·å°±å¯ä»¥åœ¨å…¶ä¸­è¿›è¡Œ // æˆ– /**/ æ³¨é‡Šäº†.
autocmd BufRead,BufNewFile *.json set filetype=jsonc

" css
autocmd FileType css set omnifunc=csscomplete#CompleteCSS

"""""" posva/vim-vue æ’ä»¶
" è§£å†³ vim-vue æ’ä»¶å¯¼è‡´çš„ Vim é€Ÿåº¦å˜æ…¢çš„é—®é¢˜.
let g:vue_pre_processors = []

"""""" 'mattn/emmet-vim'
" doc: https://raw.githubusercontent.com/mattn/emmet-vim/master/TUTORIAL
" ä½¿ç”¨æ–¹æ³•:
" 1. æ‰“å¼€ *.html æ–‡ä»¶, è¾“å…¥`html:5`, ç„¶å`ctrl y ,`, å³å¯è‡ªåŠ¨ç”Ÿæˆhtmlä»£ç æ¨¡ç‰ˆ
" 2. è¾“å…¥`div`, ç„¶å`ctrl y ,`, å³å¯è‡ªåŠ¨ç”Ÿæˆ: <div></div>
" 3. è¾“å…¥`#foo`, ç„¶å`ctrl y ,`, å¯è‡ªåŠ¨ç”Ÿæˆ: <div id="foo"></div>
" 4. è¾“å…¥`div>p>a`, ç„¶å`ctrl y ,`, å¯è‡ªåŠ¨ç”Ÿæˆ: <div><p><a href=""></a></p></div>

" Enable just for html/css
let g:user_emmet_install_global = 0
autocmd FileType html,css EmmetInstall

" é»˜è®¤å€¼: <C-y>
let g:user_emmet_leader_key='<C-y>'

" }}

"""""""" Shell {{

func SetTitleForShell()
  let current_filename = expand('%:t')
  call setline(1, "\#!/usr/bin/env bash")
  call setline(2, "# " . current_filename)
  call setline(3, "#")
  " æ”¹æˆä½ è‡ªå·±çš„åå­—
  "call setline(4, "# Author: windvalley")
  "call setline(5, "# Created Time: ".strftime("%Y-%m-%d %H:%M:%S"))
  call setline(4, "")
  normal G
  normal o
  normal o
  " ä¸ºæ–°åˆ›å»ºçš„ .sh æ–‡ä»¶è‡ªåŠ¨èµ‹äºˆå¯æ‰§è¡Œæƒé™
  au BufWritePost *.sh silent !chmod a+x <afile>
endfunc
autocmd bufnewfile *.sh call SetTitleForShell()

" }}

"""""""" Markdown {{

""""""" dhruvasagar/vim-table-mode
" doc: https://github.com/dhruvasagar/vim-table-mode

" normal æ¨¡å¼ä¸‹, é»˜è®¤ä»¥ ,tm æ¥å¼€å¯æˆ–å…³é—­ table mode.
noremap <leader>tm :TableModeToggle<CR>

" åœ¨ insert æ¨¡å¼ä¸‹, è¾“å…¥ || åæŒ‰ ESC æ¥å¼€å¯ table mode,
" è¾“å…¥ __ åæŒ‰ ESC å…³é—­ table mode.
function! s:isAtStartOfLine(mapping)
  let text_before_cursor = getline('.')[0 : col('.')-1]
  let mapping_pattern = '\V' . escape(a:mapping, '\')
  let comment_pattern = '\V' . escape(substitute(&l:commentstring, '%s.*$', '', ''), '\')
  return (text_before_cursor =~? '^' . ('\v(' . comment_pattern . '\v)?')
    \ . '\s*\v' . mapping_pattern . '\v$')
endfunction

inoreabbrev <expr> <bar><bar>
  \ <SID>isAtStartOfLine('\|\|') ?
  \ '<c-o>:TableModeEnable<cr><bar><space><bar><left><left>' : '<bar><bar>'

inoreabbrev <expr> __
  \ <SID>isAtStartOfLine('__') ?
  \ '<c-o>:silent! TableModeDisable<cr>' : '__'

""""""" instant-markdown/vim-instant-markdown
" doc: https://github.com/instant-markdown/vim-instant-markdown

" ,p  æ‰“å¼€æµè§ˆå™¨é¢„è§ˆ.
nmap <leader>p :InstantMarkdownPreview<CR>

" ,,p  å…³é—­é¢„è§ˆ.
nmap <leader>,p :InstantMarkdownStop<CR>

" æ˜¯å¦æ‰“å¼€ markdown ç±»å‹æ–‡ä»¶æ—¶è‡ªåŠ¨æ‰“å¼€é¢„è§ˆ, é»˜è®¤å€¼: 1
let g:instant_markdown_autostart = 0

" æŒ‡å®šæ—¥å¿—æ–‡ä»¶.
let g:instant_markdown_logfile = '/tmp/instant_markdown.log'

" }}

""""""" Vim/Neovim {{

" ç¼©è¿›å¤§å°æ”¹ä¸º 2 ä¸ªç©ºæ ¼, insert æ¨¡å¼ä¸‹å°† tab æ‰©å±•ä¸º 2 ä¸ªç©ºæ ¼,
" æ­¤æ—¶, å¦‚æœæƒ³æ‰“å° tab æœ¬èº«çš„è¯, éœ€è¦æŒ‰ ctrl v tab
au FileType vim setlocal expandtab ts=2 sw=2 sts=2

" }}

""""""" Yaml {{

au FileType yaml setlocal expandtab ts=2 sw=2 sts=2

" }}

" }}


" å¸¸ç”¨åŸç”Ÿé€‰é¡¹  Native Configuration {{

" æ˜¾ç¤ºè¡Œå·.
set nu

" æ˜¾ç¤ºç›¸å¯¹è¡Œå·, ä¾¿äºè·¨è¡Œçš„æ–‡æœ¬å¯¹è±¡æ“ä½œ, æ¯”å¦‚: [n]j/k/y/v/c/d ç­‰.
set relativenumber

" æ˜¾ç¤ºå½“å‰å…‰æ ‡æ‰€åœ¨çš„è¡Œå·å’Œåˆ—å·.
set ruler

" æŒ‡å®šä½•æ—¶æ˜¾ç¤ºé¡µé¢æ ‡ç­¾, é»˜è®¤å€¼: 1
"   0: æ°¸è¿œä¸ä¼š
"   1: è‡³å°‘æœ‰ä¸¤ä¸ªæ ‡ç­¾é¡µæ—¶æ‰ä¼š
"   2: æ°¸è¿œä¼š
set showtabline=1

" å‘½ä»¤è¡Œçª—å£çš„é«˜åº¦, é»˜è®¤å€¼7.
" å‘½ä»¤è¡Œçª—å£æ‰“å¼€çš„æ–¹æ³•:
"   1) command-line æ¨¡å¼ä¸‹, æŒ‰å¿«æ·é”® ctrl f æ‰“å¼€å‘½ä»¤è¡Œçª—å£å¹¶æ˜¾ç¤ºå‘½ä»¤å†å²è®°å½•.
"   2) normal æ¨¡å¼ä¸‹, æŒ‰å¿«æ·é”® q: æ‰“å¼€å‘½ä»¤è¡Œçª—å£å¹¶æ˜¾ç¤ºå‘½ä»¤å†å²è®°å½•.
"   3) normal æ¨¡å¼ä¸‹, æŒ‰å¿«æ·é”® q/ å°†ä¼šæ‰“å¼€å‘½ä»¤è¡Œçª—å£å¹¶æ˜¾ç¤ºå‘ä¸‹æœç´¢çš„å†å²è®°å½•.
"   4) normal æ¨¡å¼ä¸‹, æŒ‰å¿«æ·é”® q? å°†ä¼šæ‰“å¼€å‘½ä»¤è¡Œçª—å£å¹¶æ˜¾ç¤ºå‘ä¸Šæœç´¢çš„å†å²è®°å½•.
set cmdwinheight=8

" çªå‡ºæ˜¾ç¤ºå½“å‰è¡Œ.
set cursorline

" çªå‡ºæ˜¾ç¤ºå½“å‰åˆ—.
set cursorcolumn

" æ˜¾ç¤ºæ‹¬å·åŒ¹é….
set showmatch

" normal æ¨¡å¼ä¸‹æ˜¾ç¤ºè¾“å…¥çš„ Vim å‘½ä»¤.
set showcmd

" ä¸€ä¸ª tab æ˜¾ç¤ºå‡ ä¸ªç©ºæ ¼é•¿åº¦, é»˜è®¤æ˜¯ 8 ä¸ªç©ºæ ¼, è¿™é‡Œæ”¹ä¸º 4 ä¸ªç©ºæ ¼.
set ts=4

" å°† tab ç¼©è¿›ç”¨ç©ºæ ¼æ¥è¡¨ç¤º, æé«˜æ•ˆç‡.
set expandtab

" insert æ¨¡å¼ä¸‹æŒ‰é€€æ ¼é”®çš„æ—¶å€™é€€å›ç¼©è¿›çš„é•¿åº¦ä¸º 4 ä¸ªç©ºæ ¼, é»˜è®¤æ˜¯é€€å›ä¸€ä¸ªç©ºæ ¼.
set softtabstop=4

" normal æ¨¡å¼ä¸‹ shift >> å’Œ shift << æˆ–
" visual æ¨¡å¼ä¸‹ shift > å’Œ shift < æ¯æ¬¡ç¼©è¿›4ä¸ªç©ºæ ¼, é»˜è®¤æ˜¯8ä¸ªç©ºæ ¼.
set shiftwidth=4

" å¯ç”¨æ™ºèƒ½ç¼©è¿›, æŒ‰å›è½¦é”®åè‡ªåŠ¨ç¼©è¿›,
" æ³¨æ„å¯ç”¨æ­¤æ¨¡å¼å, ç²˜è´´ä»£ç æ—¶è¦å…ˆ :set paste
set smartindent

" è¿›è¡Œæœç´¢æ—¶ä¼šå¿«é€Ÿæ‰¾åˆ°ç»“æœ, éšç€è¾“å…¥çš„å­—ç¬¦è¿›è¡ŒåŠæ—¶åŒ¹é….
set incsearch

" æœç´¢å…³é”®å­—é«˜äº®æ˜¾ç¤º.
set hlsearch

" æœç´¢æ—¶å¿½ç•¥å¤§å°å†™.
set ignorecase

" å¦‚æœåŒæ—¶æ‰“å¼€äº†ignorecase, é‚£ä¹ˆå¯¹äºæœç´¢åªæœ‰ä¸€ä¸ªå¤§å†™å­—æ¯çš„æœç´¢è¯, å°†å¤§å°å†™æ•æ„Ÿ;
" å…¶ä»–æƒ…å†µéƒ½æ˜¯å¤§å°å†™ä¸æ•æ„Ÿ, æ¯”å¦‚: æœç´¢ Test æ—¶, å°†ä¸åŒ¹é… test,
" ä½†æœç´¢ test æ—¶, å°†åŒ¹é… Test.
set smartcase

" ä¸åˆ›å»ºå¤‡ä»½æ–‡ä»¶. é»˜è®¤æƒ…å†µä¸‹, æ–‡ä»¶ä¿å­˜æ—¶, ä¼šé¢å¤–åˆ›å»ºä¸€ä¸ªå¤‡ä»½æ–‡ä»¶,
" å®ƒçš„æ–‡ä»¶åæ˜¯åœ¨åŸæ–‡ä»¶åçš„æœ«å°¾, å†æ·»åŠ ä¸€ä¸ªæ³¢æµªå·(ã€œ).
set nobackup

" å‡ºé”™æ—¶ä¸è¦å‘å‡ºå“å£°.
set noerrorbells

" æ‰“å­—çš„æ—¶å€™éšè—é¼ æ ‡å…‰æ ‡.
set mousehide

" åœ¨ä¿®æ”¹å†…å®¹åä¿å­˜æ–‡ä»¶, å¦‚æœæ–‡ä»¶åŒæ—¶å·²ç»è¢«å…¶ä»– Vim å®ä¾‹æ‰“å¼€,
" åˆ™å…¶ä»– Vim å®ä¾‹æ‰“å¼€çš„æ­¤æ–‡ä»¶ä¹Ÿä¼šè‡ªåŠ¨åŒæ­¥å˜æ›´.
set autoread
au FocusGained,BufEnter * checktime

" normal æ¨¡å¼ä¸‹å…è®¸å…‰æ ‡ç§»åŠ¨åˆ°æœ€åä¸€ä¸ªå­—ç¬¦çš„å³è¾¹.
set virtualedit=onemore

" ä¸€è¡Œå†…å®¹è¶…è¿‡ç»ˆç«¯å®½åº¦æ—¶è¿›è¡ŒæŠ˜è¡Œæ˜¾ç¤º.
set wrap

" å½“ä¸€è¡Œå­—ç¬¦é•¿åº¦è¶…è¿‡å¤šå°‘ä¸ªå­—ç¬¦æ—¶, ä¼šè‡ªåŠ¨æŠ˜è¡Œæ˜¾ç¤º, æ³¨æ„ä¼šåŠ ä¸Šæ¢è¡Œç¬¦.
set lbr
set textwidth=500

" åŸºäºæ€§èƒ½è€ƒè™‘, æ‰§è¡Œå®å‘½ä»¤çš„æ—¶å€™ä¸è¿›è¡Œ redraw åŠ¨ä½œ.
set lazyredraw

" }}


" è‡ªå®šä¹‰é…ç½®  Custom Configuration {{

" ,E  æ‰“å¼€ vim æˆ– nvim çš„é…ç½®æ–‡ä»¶.
if has('nvim')
  noremap <silent> <leader>E :e! ~/.config/nvim/init.vim<CR>
else
  noremap <silent> <leader>E :e! ~/.vimrc<CR>
endif

" ,R  å˜æ›´é…ç½®æ–‡ä»¶åä¸éœ€è¦é€€å‡ºå†æ‰“å¼€æ–‡ä»¶, ç›´æ¥ä½¿ç”¨æ­¤å‘½ä»¤è¿›è¡Œ reload ç”Ÿæ•ˆ.
if has('nvim')
  noremap <silent> <leader>R :source ~/.config/nvim/init.vim<CR>:filetype detect<CR>
    \ :exe ":echo '~/.config/nvim/init.vim reloaded'"<CR>
else
  noremap <silent> <leader>R :source ~/.vimrc<CR>:filetype detect<CR>
    \ :exe ":echo '~/.vimrc reloaded'"<CR>
endif

" è§£å†³ä¸­æ–‡ä¹±ç é—®é¢˜.
let $LANG='en'
set langmenu=en
source $VIMRUNTIME/delmenu.vim
source $VIMRUNTIME/menu.vim

" ä½¿æŸ¥çœ‹å¸®åŠ©æ–‡æ¡£çš„çª—å£ä¹Ÿæ˜¾ç¤ºç›¸å¯¹è¡Œå·.
augroup vim help
  autocmd!
  autocmd FileType help setlocal number
  autocmd FileType help setlocal relativenumber
augroup END

" ç¬¬ 80 åˆ—é€šè¿‡é¢œè‰²æ ‡æ³¨, æç¤ºæˆ‘ä»¬å¯¹å•è¡Œä»£ç é•¿åº¦çš„æŒæ§.
autocmd FileType * set colorcolumn=80

" tab é”®æ˜¾ç¤ºä¸º >---, è¡Œå°¾ç©ºæ ¼æ˜¾ç¤ºä¸º -, å¸®åŠ©æˆ‘ä»¬åŠæ—¶å‘ç°è§„èŒƒé—®é¢˜,
" å¦‚æœä¸é…ç½®è¿™è¡Œ, æˆ‘ä»¬å°†çœ‹ä¸åˆ°å¤šä½™çš„ç©ºç™½å­—ç¬¦,
" å¯¹äº Go ç±»å‹æ–‡ä»¶æ¥è¯´, ä¹Ÿæ— æ³•ç›´è§‚ç¡®è®¤ç¼©è¿›æ˜¯å¦æ˜¯ tab äº†.
set list listchars=tab:>-,trail:-

" visual æ¨¡å¼ä¸‹é€‰æ‹©å†…å®¹, ç„¶åé€šè¿‡æŒ‰ ,) æˆ– ,] æˆ– ,} æˆ– ," æˆ– ,' æˆ– ,`
" å°†é€‰æ‹©çš„å†…å®¹ä½¿ç”¨ () æˆ– [] æˆ– {} æˆ– "" æˆ– '' æˆ– `` åŒ…è£¹.
vnoremap <leader>) <esc>`>a)<esc>`<i(<esc>
vnoremap <leader>] <esc>`>a]<esc>`<i[<esc>
vnoremap <leader>} <esc>`>a}<esc>`<i{<esc>
vnoremap <leader>" <esc>`>a"<esc>`<i"<esc>
vnoremap <leader>' <esc>`>a'<esc>`<i'<esc>
vnoremap <leader>` <esc>`>a`<esc>`<i`<esc>

" insert æ¨¡å¼ä¸‹ä½¿ç”¨ emacs é”®ä½.
" å…‰æ ‡ç§»åŠ¨:
"   ctrl p ä¸Š, ctrl n ä¸‹, ctrl b å·¦, ctrl f å³;
"   ctrl a è¡Œé¦–, ctrl e è¡Œå°¾;
" NOTE: å¦‚æœ tmux å°† ctrl a ä½œä¸º prefix, åˆ™è¿™é‡Œéœ€è¦æŒ‰ä¸¤æ¬¡ ctrl a
inoremap <C-f> <Right>
inoremap <C-b> <Left>
inoremap <C-p> <Up>
inoremap <C-n> <Down>
inoremap <C-a> <Home>
inoremap <C-e> <End>
" ç¼–è¾‘åŠ¨ä½œ:
"   ctrl d å‘å³åˆ é™¤ä¸€ä¸ªå­—ç¬¦.
"   ctrl h å‘å·¦åˆ é™¤ä¸€ä¸ªå­—ç¬¦.
"   ctrl w å‘å·¦åˆ é™¤ä¸€ä¸ªå•è¯.
inoremap <C-d> <Del>

" command-line æ¨¡å¼ä¸‹ä½¿ç”¨ emacs é”®ä½, :h emacs-keys
" å…‰æ ‡ç§»åŠ¨:
"   ctrl a ç§»åŠ¨åˆ°è¡Œé¦–, ctrl e ç§»åŠ¨åˆ°è¡Œå°¾;
"   ctrl b å‘å·¦ç§»åŠ¨ä¸€ä¸ªå­—ç¬¦, ctrl f å‘å³ç§»åŠ¨ä¸€ä¸ªå­—ç¬¦;
cnoremap <C-a>  <Home>
cnoremap <C-e>  <End>
cnoremap <C-b>  <Left>
cnoremap <C-f>  <Right>
" ç¼–è¾‘åŠ¨ä½œ:
"   ctrl d åˆ é™¤å…‰æ ‡å³ä¾§å­—ç¬¦;
"   ctrl h åˆ é™¤å…‰æ ‡å·¦ä¾§å­—ç¬¦;
"   ctrl w åˆ é™¤å…‰æ ‡å·¦ä¾§ä¸€ä¸ªå•è¯.
cnoremap <C-d>  <Del>

" normal/visual æ¨¡å¼ä¸‹, æŒ‰ 0 å…‰æ ‡å°†å›åˆ°å½“å‰è¡Œçš„ç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦,
"               å¦‚æœå…‰æ ‡å·²ç»åœ¨ç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦, åˆ™å›åˆ°è¡Œé¦–.
" insert æ¨¡å¼ä¸‹, æŒ‰ ctrl a å…‰æ ‡å°†å›åˆ°å½“å‰è¡Œçš„ç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦,
"        å¦‚æœå…‰æ ‡å·²ç»åœ¨ç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦, åˆ™å›åˆ°è¡Œé¦–.
function! GoToFirstNonBlankOrFirstColumn()
  let cur_col = col('.')
  normal! ^
  if cur_col != 1 && cur_col == col('.')
    normal! 0
  endif
  return ''
endfunction
nnoremap <silent> 0 :call GoToFirstNonBlankOrFirstColumn()<CR>
vnoremap <silent> 0 :call GoToFirstNonBlankOrFirstColumn()<CR>
inoremap <silent> <C-a> <C-R>=GoToFirstNonBlankOrFirstColumn()<CR>

" ctrl e/y  normal æ¨¡å¼ä¸‹, å‘ä¸‹æˆ–å‘ä¸Šç§»åŠ¨å±å¹•é˜…è¯»çš„æ—¶å€™, ä»é»˜è®¤çš„æ¯æ¬¡ç§»åŠ¨1è¡Œæ”¹ä¸º3è¡Œ.
noremap <C-e> 3<C-e>
noremap <C-y> 3<C-y>

" normal æ¨¡å¼ä¸‹, ä½¿ç”¨Yå¤åˆ¶å½“å‰è¡Œå…‰æ ‡ä¹‹åçš„å†…å®¹, å’ŒCå’ŒDç”¨æ³•ç»Ÿä¸€èµ·æ¥.
nnoremap Y y$

" visual æ¨¡å¼ä¸‹è¿›è¡Œ shift > å’Œ shift < ç¼©è¿›æ“ä½œæ—¶,
" ä½¿ä¸é€€å‡º visual æ¨¡å¼, è¿™æ ·å¯æ–¹ä¾¿æ‰§è¡Œå¤šè¡Œçš„è¿ç»­ç¼©è¿›.
vnoremap < <gv
vnoremap > >gv

" é‡æ–°æ‰“å¼€æ–‡ä»¶æ—¶, å…‰æ ‡æ¢å¤åœ¨ä¸Šæ¬¡ç¦»å¼€æ—¶çš„ä½ç½®.
augroup resCur
  autocmd!
  autocmd BufReadPost * call setpos(".", getpos("'\""))
augroup END

" command-line æ¨¡å¼ä¸‹, æ“ä½œæŒ‡ä»¤æŒ‰ä¸‹ tab é”®è‡ªåŠ¨è¡¥å…¨:
" ç¬¬ 1 æ¬¡æŒ‰ä¸‹ tab, ä¼šæ˜¾ç¤ºæ‰€æœ‰åŒ¹é…çš„æ“ä½œæŒ‡ä»¤çš„æ¸…å•, ç¬¬ 2 æ¬¡æŒ‰ä¸‹ tab, ä¼šä¾æ¬¡é€‰æ‹©å„ä¸ªæŒ‡ä»¤.
set wildmenu
set wildmode=longest:list,full

" å¿½ç•¥æ— ç”¨çš„ç¼–è¯‘ç±»ç­‰æ–‡ä»¶.
set wildignore=*.o,*~,*.pyc
if has("win16") || has("win32")
  set wildignore+=.git\*,.hg\*,.svn\*
else
  set wildignore+=*/.git/*,*/.hg/*,*/.svn/*,*/.DS_Store
endif

" insert æ¨¡å¼ä¸‹ä½¿ç”¨ <BS> <Del> <C-W> <C-U>, è§£å†³æ— æ³•å›é€€åˆ é™¤ç­‰é—®é¢˜, æ¯”å¦‚æŒ‰ backspace é”®æ— ååº”.
set backspace=indent,eol,start
set whichwrap+=<,>,h,l

" :W  æ™®é€šç”¨æˆ·æ²¡æœ‰æƒé™æ—¶ä½¿ç”¨ sudo æƒé™ä¿å­˜æ–‡ä»¶.
command! W execute 'w !sudo tee % > /dev/null' <bar> edit!

" ä¿ç•™æ’¤é”€å†å², Vim ä¼šåœ¨ç¼–è¾‘æ—¶ä¿å­˜æ“ä½œå†å², ç”¨æ¥ä¾›ç”¨æˆ·æ’¤æ¶ˆæ›´æ”¹;
" é»˜è®¤æƒ…å†µä¸‹, æ“ä½œè®°å½•åªåœ¨æœ¬æ¬¡ç¼–è¾‘æ—¶æœ‰æ•ˆ, ä¸€æ—¦ç¼–è¾‘ç»“æŸã€æ–‡ä»¶å…³é—­, æ“ä½œå†å²å°±æ¶ˆå¤±äº†;
" æ‰“å¼€è¿™ä¸ªè®¾ç½®, å¯ä»¥åœ¨æ–‡ä»¶å…³é—­å, æ“ä½œè®°å½•ä¿ç•™åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œé¢ç»§ç»­å­˜åœ¨.
" è¿™æ„å‘³ç€, é‡æ–°æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶, å¯ä»¥æ’¤é”€ä¸Šä¸€æ¬¡ç¼–è¾‘æ—¶çš„æ“ä½œ;
" æ’¤æ¶ˆæ–‡ä»¶æ˜¯è·ŸåŸæ–‡ä»¶ä¿å­˜åœ¨ä¸€èµ·çš„éšè—æ–‡ä»¶, æ–‡ä»¶åä»¥ .un~ å¼€å¤´.
set undofile
set undodir=~/.vim/undo
if !isdirectory(&undodir)
  call mkdir(&undodir, 'p', 0700)
endif

" Undo Warnings {{
"
" from: https://github.com/thoughtstream/Damian-Conway-s-Vim-Setup/blob/master/plugin/undowarnings.vim
"
" æ­¤æ®µä»£ç çš„ä½œç”¨:
" åœ¨å¸Œæœ›é€šè¿‡ undofile çš„é…ç½®æ¥æ— é™åˆ¶çš„å¯¹æ›¾ç»çš„ç¼–è¾‘è¿›è¡Œæ’¤é”€,
" åŒæ—¶è¿˜å¸Œæœ›åœ¨é€€å›æ‰“å¼€æ–‡ä»¶çš„çŠ¶æ€ä¹‹å‰èƒ½æœ‰ä¸€ä¸ªæé†’.
"

" Vim global plugin adding warnings to persistent undo
" Last change:  Tue Jun 19 17:25:10 EST 2012
" Maintainer:	Damian Conway
" License:	This file is placed in the public domain.

" If already loaded, we're done...
if exists("loaded_undowarnings")
  finish
endif
let loaded_undowarnings = 1

" Preserve external compatibility options, then enable full vim compatibility...
let s:save_cpo = &cpo
set cpo&vim

"=====[ INTERFACE ]==================

" Remap the undo key to warn about stepping back into a buffer's pre-history...
nnoremap <expr> u  VerifyUndo()

" =====[ IMPLEMENTATION ]==================
"
" Track each buffer's starting position in the undo history...
augroup UndoWarnings
  autocmd!
  autocmd BufReadPost,BufNewFile * :call Rememberundo_start()
augroup END

function! Rememberundo_start ()
  let b:undo_start = exists('b:undo_start') ? b:undo_start : undotree().seq_cur
endfunction

function! VerifyUndo ()
  " Nothing to verify if can't undo into previous sesssion...
  if !exists('*undotree')
    return 'u'
  endif

  " Are we back at the start of this session (but still with undos possible)???
  let undo_now = undotree().seq_cur

  " If so, check whether to undo into pre-history...
  if undo_now > 0 && undo_now == b:undo_start
    return confirm('',"Undo into previous session? (&Yes\n&No)",1) == 1 ? "\<C-L>u" : "\<C-L>"
  " Otherwise, always undo...
  else
    return 'u'
  endif
endfunction

" Restore previous external compatibility options
let &cpo = s:save_cpo

" }}

" normal æ¨¡å¼ä¸‹çš„ nyy å¤åˆ¶(n ä¸ºæ•°å­—), æˆ–è¿›å…¥ visual æ¨¡å¼ä¸‹é€‰æ‹©å†…å®¹åçš„ y å¤åˆ¶,
" é™¤äº†å¯ä»¥å°†å¤åˆ¶çš„å†…å®¹ç²˜è´´(ä½¿ç”¨ p)åˆ°å…¶ä»– Vim å®ä¾‹,
" è¿˜å¯ä»¥å°†å†…å®¹ç²˜è´´(command v)åˆ°ç³»ç»Ÿçš„å…¶ä»–ä»»ä½•å¯è¾“å…¥çª—å£.
"
" æ³¨æ„: ä»¥ä¸Šæ‰€è¯´çš„éƒ½æ˜¯é’ˆå¯¹æœ¬åœ°æ“ä½œç³»ç»Ÿä½¿ç”¨æœ¬åœ° Vim çš„æƒ…å†µ,
" æ¯”å¦‚ macOS/Windows/Linux æœ¬åœ°çš„ Vim å’Œæœ¬åœ°çš„å…¶ä»–åº”ç”¨çª—å£ä¹‹é—´,
" ä¸åŒ…æ‹¬è¿œç¨‹è¿æ¥çš„æ“ä½œç³»ç»Ÿçš„ Vim å’Œæœ¬åœ°åº”ç”¨çš„çª—å£ä¹‹é—´.
if has('clipboard')
  if has('unnamedplus')
    set clipboard=unnamed,unnamedplus " for Linux
  else
    set clipboard=unnamed " for macOSã€Windows
  endif
endif

" ctrl s  åœ¨ normal/insert æ¨¡å¼ä¸‹æ‰“å¼€/å…³é—­è‹±æ–‡çš„æ‹¼å†™æ£€æŸ¥.
" NOTE:
"   1) æœ‰äº† spell åçš„ ! å°±å¯ä»¥æ”¯æŒ toggle äº†, ä¹Ÿå°±æ˜¯æ—¢æ”¯æŒæ‰“å¼€åˆæ”¯æŒå…³é—­;
"   2) <C-o> å’Œ :setlocal ä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼.
nmap <silent> <C-s> :setlocal spell! spelllang=en,cjk<CR>
imap <silent> <C-s> <C-o>:setlocal spell! spelllang=en,cjk<CR>

" ä»é¢å¤–çš„æœ¬åœ°é…ç½®æ–‡ä»¶(å¦‚æœå­˜åœ¨çš„è¯)åŠ è½½é…ç½®.
let vimrc_local='~/.vimrc.local'
if filereadable(expand(vimrc_local))
  exec 'source' vimrc_local
endif

" }}


" å¤‡ç”¨é…ç½®  Stand-by Configuration {{

" å°† sign åˆ—åˆå¹¶åˆ°è¡Œå·åˆ—, ä¼šå½±å“åˆ° [n]k/j å¿«é€Ÿè·³è½¬åˆ°æŒ‡å®šè¡Œ, æ‰€ä»¥ä¸å»ºè®®å¼€å¯æ­¤é…ç½®.
"set signcolumn=number

" sign åˆ—å§‹ç»ˆæ˜¾ç¤º, æ ¹æ®ä¸ªäººå–œå¥½å†³å®šæ˜¯å¦å¯ç”¨.
"set signcolumn=yes

" è¾“å…¥çš„æ–‡å­—åˆ°è¾¾ç»ˆç«¯è¾¹ç¼˜æ—¶ä¸è‡ªåŠ¨æŠ˜è¡Œ, æ‰€è°“æŠ˜è¡ŒæŒ‡çš„æ˜¯ä¸€è¡Œå†…å®¹è§†è§‰ä¸Šæ˜¾ç¤ºä¸ºå¤šè¡Œ,
" ä¸æ˜¯çœŸæ­£çš„åŠ æ¢è¡Œç¬¦çš„æ¢è¡Œ.
"set nowrap

" ä¿å­˜æ–‡ä»¶æ—¶è‡ªåŠ¨å»é™¤è¡Œå°¾ç©ºæ ¼, æ³¨æ„å·²ç»é€šè¿‡ ale é…ç½®, æ­¤æ¡æ³¨é‡Šä¸å†ä½¿ç”¨.
"autocmd BufWritePre *.sh,*.lua,*.js,*.html,*.vue,*.toml,*.yaml,*.yml :%s/\s\+$//e

" é€€å‡º insert æ¨¡å¼æ—¶æŒ‡å®šç±»å‹çš„æ–‡ä»¶å°†è‡ªåŠ¨ä¿å­˜.
"au InsertLeave *.go,*.lua,*.sh,*.py,*.js,*.md write

" é€€å‡ºæ–‡ä»¶å, å±å¹•ä¾ç„¶æ˜¾ç¤ºè¯¥æ–‡ä»¶å†…å®¹.
"set t_ti= t_te=

" è¦†ç›–æ‰é»˜è®¤çš„æ‹¼å†™æ£€æŸ¥è®¾ç½®, ä¸å¯ç”¨æ‹¼å†™æ£€æŸ¥.
"autocmd VimEnter * set nospell

" ä¸åˆ›å»ºäº¤æ¢æ–‡ä»¶, äº¤æ¢æ–‡ä»¶ä¸»è¦ç”¨äºç³»ç»Ÿå´©æºƒæ—¶æ¢å¤æ–‡ä»¶, æ–‡ä»¶åä»¥ . å¼€å¤´, æ–‡ä»¶åç¼€æ˜¯ .swp
"set noswapfile

" å‡ºé”™æ—¶, å‘å‡ºè§†è§‰æç¤º, é€šå¸¸æ˜¯å±å¹•é—ªçƒ.
"set visualbell

" å¤šçª—å£ä¹‹é—´ä¸Šä¸‹å·¦å³ç§»åŠ¨çš„å¿«æ·é”®é‡æ–°æ˜ å°„, ç”±äºå’Œ vim-move æ’ä»¶çš„æŒ‰é”®é‡åˆ, æ•…æš‚ä¸ä½¿ç”¨.
"noremap <C-h> <C-w>h
"noremap <C-j> <C-w>j
"noremap <C-k> <C-w>k
"noremap <C-l> <C-w>l

" }}


" Vim/Neovim ä½¿ç”¨æŠ€å·§  Tips {{

"""""""""" å¸¸ç”¨å‘½ä»¤è¡Œ {{
"
" vim/nvim --version                     å¯ä»¥æŸ¥çœ‹åˆ°å…¨å±€å’Œç”¨æˆ·çº§åˆ«çš„é…ç½®æ–‡ä»¶çš„åŠ è½½é¡ºåºç­‰ä¿¡æ¯.
" vim -g æˆ– mvim æˆ– gvim                 macOS ä¸‹è¿è¡Œ Vim çš„å›¾å½¢ç•Œé¢æ¨¡å¼, éœ€å®‰è£… macvim.
" vim -c 'normal 5G36|'                  normal æ¨¡å¼ä¸‹è·³è½¬åˆ°ç¬¬ 5 è¡Œç¬¬ 36 åˆ—.
" vimtutor                               Vim è‡ªå¸¦çš„å­¦ä¹ æ•™ç¨‹.
" vim -e --cmd 'echo $VIM|quit'          æŸ¥çœ‹ $VIM å˜é‡çš„å€¼.
" vim -e --cmd 'echo $VIMRUNTIME|quit'   æŸ¥çœ‹ $VIMRUNTIME å˜é‡çš„å€¼.
"
" }}

"""""""""" æ€§èƒ½ä¼˜åŒ– {{
"
" * æ— æ’ä»¶æ–¹å¼è¿è¡Œ Vim.
"    vim -u NONE
"
" * å°† Vim è¿è¡Œçš„è¯¦ç»†æ—¥å¿—ä¿å­˜åˆ° vim.log æ–‡ä»¶ä¸­.
"    vim -V9vim.log
"
" * è®°å½•å¸¦æ—¶é—´å­—æ®µçš„å¯åŠ¨æ—¥å¿—, ç”¨äºä¼˜åŒ– vim å¯åŠ¨æ—¶é—´.
"    vim --startuptime vim.log
"
" * æ‰¾å‡ºå“ªä¸ªæ’ä»¶æ‹–æ…¢äº† Vim çš„é€Ÿåº¦:
"    :profile start profile.log
"    :profile func *
"    :profile file *
"    At this point do slow actions (æ¯”å¦‚ä¿å­˜æ–‡ä»¶ :w æ¯”è¾ƒæ…¢)
"    :profile pause
"    :q
"    ç„¶åæŸ¥çœ‹ profile.log æ–‡ä»¶å°¾éƒ¨çš„æ€§èƒ½åˆ†ææ±‡æ€»éƒ¨åˆ†å³å¯.
"
" }}

"""""""""" å¸¸ç”¨çš„åŸç”Ÿèƒ½åŠ› {{
"
" ** æŒç»­ä¼˜åŒ–ä½ çš„ vimrc æ–‡ä»¶:
"           :version  æ˜¾ç¤ºå½“å‰ Vim çš„ç‰ˆæœ¬å·å’Œæ”¯æŒçš„ç‰¹æ€§.
"     :help [object]  object è¡¨ç¤ºä½ è¦æŸ¥çœ‹å…¶æ–‡æ¡£çš„ Vim æŸä¸ªå‘½ä»¤æˆ–è€…æ’ä»¶åç§°ç­‰.
"        :h [object]  åŒä¸Š.
"           :h index  æŸ¥è¯¢ Vim æ‰€æœ‰é”®ç›˜å‘½ä»¤å®šä¹‰.
"          :h ctrl-p  æŸ¥çœ‹ normal æ¨¡å¼ä¸‹ ctrl p å¿«æ·é”®çš„æ„æ€.
"        :h i_ctrl-p  æŸ¥çœ‹ insert æ¨¡å¼ä¸‹ ctrl p å¿«æ·é”®çš„æ„æ€.
"                  K  1)é€šè¿‡ä¸Šä¸ªå‘½ä»¤æ‰“å¼€æ–‡æ¡£, å¯¹äºæœ‰ä¸‹åˆ’çº¿çš„æ–‡æœ¬å¯¹è±¡,
"                       æŒ‰ K å³å¯ç›´æ¥è·³è½¬åˆ°ç›¸å…³çš„æ–‡æ¡£,
"                       ctrl o/i å¯æ¥å›è·³è½¬, å¢åŠ æ–‡æ¡£é˜…è¯»æ•ˆç‡;
"                     2)åœ¨é˜…è¯» .vimrc æ—¶, å¯é€šè¿‡æŒ‰ K è‡ªåŠ¨æ‰“å¼€å…‰æ ‡æ‰€åœ¨å¯¹è±¡çš„æ–‡æ¡£.
"              :so %  ä¼˜åŒ–å˜æ›´ä½ çš„ ~/.vimrc æ–‡ä»¶å†…å®¹å¹¶ä¿å­˜å,
"                     ä½¿ç”¨æ­¤ command-line æ¨¡å¼å‘½ä»¤, å¯ä»¥ç›´æ¥ä½¿é…ç½®ç”Ÿæ•ˆ.
"                 ,R  åŒä¸Š, åªä¸è¿‡è¿™ä¸ªæ˜¯ä¸ºäº†æ“ä½œç®€ä¾¿åšçš„è‡ªå®šä¹‰é…ç½®.
"          :messages  å¦‚æœå‡ºç°æŠ¥é”™ä¿¡æ¯, ä½†æ˜¯ä½ è¿˜æ²¡çœ‹æ¸…æ¥šå°±æ¶ˆæ¯å°±å·²ç»é€€å‡ºäº†,
"                     ä½¿ç”¨æ­¤å‘½ä»¤å¯ä»¥é‡æ–°çœ‹åˆ°é”™è¯¯ä¿¡æ¯.
"           :h error  æŸ¥çœ‹ Vim éƒ½æœ‰å“ªäº›é”™è¯¯ä¿¡æ¯.
"             :h E11  æŸ¥çœ‹å…·ä½“çš„æŸä¸€ä¸ªé”™è¯¯ç¼–å·çš„é‡Šä¹‰.
"
" ** æ–‡æœ¬å¯¹è±¡çš„å¿«æ·ç¼–è¾‘:
"
"   æ¶‰åŠåˆ°çš„å¸¸ç”¨å­—ç¬¦è¯´æ˜:
"                  y  è¡¨ç¤ºå¤åˆ¶.
"                  v  è¡¨ç¤ºé€‰æ‹©, é€‰æ‹©åè¿›å…¥ visual æ¨¡å¼.
"                  d  è¡¨ç¤ºåˆ é™¤.
"                  x  è¡¨ç¤ºåˆ é™¤, ä½†åˆ é™¤å¯¹è±¡åªèƒ½æ˜¯å­—ç¬¦å•ä½.
"                  c  è¡¨ç¤ºä¿®æ”¹, æ„æ€æ˜¯åˆ é™¤æ–‡æœ¬å¯¹è±¡åè¿›å…¥ insert æ¨¡å¼ç­‰å¾…è¾“å…¥æ–°å†…å®¹.
"                  s  è¡¨ç¤ºä¿®æ”¹, ä½†ä¿®æ”¹å¯¹è±¡åªèƒ½æ˜¯å­—ç¬¦å•ä½,
"                     ä½†æœ¬ vimrc å·²ç»é…ç½®å°† s ç»™ easymotion æ’ä»¶ä½¿ç”¨.
"                  J  è¡¨ç¤º join, åˆå¹¶å¤šè¡Œåˆ°å½“å‰è¡Œ.
"
"                  l  è¡¨ç¤ºå…‰æ ‡å³ä¾§ 1 ä¸ªå­—ç¬¦.
"                  h  è¡¨ç¤ºå…‰æ ‡å·¦ä¾§ 1 ä¸ªå­—ç¬¦.
"                  e  è¡¨ç¤ºå…‰æ ‡å³ä¾§ 1 ä¸ªå•è¯, end æŒ‡çš„æ˜¯å•è¯ç»“å°¾,
"                     ä¹Ÿå°±æ˜¯ä¸åŒ…å«å³ä¾§ç´§é‚»çš„ç©ºç™½å­—ç¬¦, ç›¸å½“äº iw.
"                  w  è¡¨ç¤ºå…‰æ ‡å³ä¾§ 1 ä¸ªå•è¯, å¦‚å³ä¾§æŒ¨ç€ç©ºç™½å­—ç¬¦, åˆ™åŒ…å«å³ä¾§æŒ¨ç€çš„æ‰€æœ‰ç©ºç™½å­—ç¬¦,
"                     å¦‚æœæ˜¯ aw, åˆ™ä»…åŒ…å«å³ä¾§æŒ¨ç€çš„ 1 ä¸ªç©ºç™½å­—ç¬¦.
"                  b  è¡¨ç¤ºå…‰æ ‡å·¦ä¾§ 1 ä¸ªå•è¯.
"                  W  è¡¨ç¤ºå…‰æ ‡å³ä¾§ 1 ä¸ªå•è¯, è¿™é‡Œçš„å•è¯æ˜¯æŒ‡éç©ºç™½å­—ç¬¦éƒ½æ˜¯å•è¯çš„ç»„æˆéƒ¨åˆ†,
"                     ä¹Ÿå°±æ˜¯ä»¥ç©ºç™½å­—ç¬¦ä½œä¸ºå•è¯åˆ†éš”ç¬¦, åŒæ ·å¦‚æœå³ä¾§æŒ¨ç€ç©ºç™½å­—ç¬¦, ä¹ŸåŒ…å«ç©ºç™½å­—ç¬¦.
"                  B  è¡¨ç¤ºå…‰æ ‡å·¦ä¾§ 1 ä¸ªå•è¯(éç©ºç™½å­—ç¬¦ä¹Ÿæ˜¯å•è¯çš„ç»„æˆéƒ¨åˆ†).
"                  s  sentence, å¥å­.
"                  p  paragraph, æ®µè½.
"                  t  tag, html æ ‡ç­¾.
"
"                  n  è¡¨ç¤ºè¦æ“ä½œçš„æ–‡æœ¬å¯¹è±¡çš„æ•°é‡, ä¸å†™ n çš„è¯, é»˜è®¤æ˜¯ 1.
"                  i  inside, è¡¨ç¤ºå…‰æ ‡åœ¨è¦æ“ä½œçš„æ–‡æœ¬å¯¹è±¡çš„å†…éƒ¨, ä¸åŒ…å«è¾¹ç•Œ.
"                  a  around, è¡¨ç¤ºå…‰æ ‡åœ¨è¦æ“ä½œçš„æ–‡æœ¬å¯¹è±¡çš„å†…éƒ¨, åŒ…å«è¾¹ç•Œ.
"                  t  till, å‘å³åˆ°æŸä¸ªå­—ç¬¦, ä¸åŒ…å«ç›®æ ‡å­—ç¬¦.
"                  T  å‘å·¦åˆ°æŸä¸ªå­—ç¬¦, ä¸åŒ…å«ç›®æ ‡å­—ç¬¦.
"                  f  forward, å‘å³åˆ°æŸä¸ªå­—ç¬¦, åŒ…å«ç›®æ ‡å­—ç¬¦.
"                  F  å‘å·¦åˆ°æŸä¸ªå­—ç¬¦, åŒ…å«ç›®æ ‡å­—ç¬¦.
"
" ä»¥ä¸Šå­—ç¬¦å¯æŒ‰åŸºæœ¬è§„åˆ™è‡ªç”±ç»„åˆ:
"       y/v/d/c [n]l  å¤åˆ¶/é€‰æ‹©/åˆ é™¤/ä¿®æ”¹å…‰æ ‡å³ n ä¸ªå­—ç¬¦, n å¯ä¸è¾“å…¥, é»˜è®¤æ˜¯ 1.
"       y/v/d/c [n]h  å¤åˆ¶/é€‰æ‹©/åˆ é™¤/ä¿®æ”¹å…‰æ ‡å·¦ n ä¸ªå­—ç¬¦.
"       y/v/d/c [n]e  å¤åˆ¶/é€‰æ‹©/åˆ é™¤/ä¿®æ”¹å…‰æ ‡å³ n ä¸ªå•è¯, ä¸åŒ…å«å³ä¾§ç©ºç™½å­—ç¬¦.
"       y/v/d/c [n]w  å¤åˆ¶/é€‰æ‹©/åˆ é™¤/ä¿®æ”¹å…‰æ ‡å³ n ä¸ªå•è¯, åŒ…å«å³ä¾§ç©ºç™½å­—ç¬¦.
"       y/v/d/c [n]W  å¤åˆ¶/é€‰æ‹©/åˆ é™¤/ä¿®æ”¹å…‰æ ‡å³ n ä¸ªå•è¯, ç‰¹æ®Šå­—ç¬¦ä¹Ÿä½œä¸ºå•è¯çš„ä¸€éƒ¨åˆ†,
"                     åŒ…å«å³ä¾§ç©ºç™½å­—ç¬¦.
"       y/v/d/c [n]b  å¤åˆ¶/é€‰æ‹©/åˆ é™¤/ä¿®æ”¹å…‰æ ‡å·¦ n ä¸ªå•è¯.
"       y/v/d/c [n]B  å¤åˆ¶/é€‰æ‹©/åˆ é™¤/ä¿®æ”¹å…‰æ ‡å·¦ n ä¸ªå•è¯, ç‰¹æ®Šå­—ç¬¦ä¹Ÿä½œä¸ºå•è¯çš„ä¸€éƒ¨åˆ†.
"         y/v/d/c f*  å¤åˆ¶/é€‰æ‹©/åˆ é™¤/ä¿®æ”¹å…‰æ ‡å³ä¾§ç›´åˆ° * çš„æ–‡æœ¬,
"                     åŒ…å« *, * è¡¨ç¤ºä¸€ä¸ªå…·ä½“çš„å­—ç¬¦.
"         y/v/d/c t*  å¤åˆ¶/é€‰æ‹©/åˆ é™¤/ä¿®æ”¹å…‰æ ‡å³ä¾§ç›´åˆ° * çš„æ–‡æœ¬, ä¸åŒ…å« *,
"                     * è¡¨ç¤ºä¸€ä¸ªå…·ä½“çš„å­—ç¬¦.
"        [n]yy/dd/cc  å¤åˆ¶/åˆ é™¤/ä¿®æ”¹ n è¡Œ.
"         y/v/d/c ip  å¤åˆ¶/é€‰æ‹©/åˆ é™¤/ä¿®æ”¹ å…‰æ ‡æ‰€åœ¨æ®µè½.
"         y/v/d/c it  å¤åˆ¶/é€‰æ‹©/åˆ é™¤/ä¿®æ”¹ å…‰æ ‡æ‰€åœ¨çš„ html æ ‡ç­¾.
"          y/v/d/c 0  ä»å…‰æ ‡ä½ç½® å¤åˆ¶/é€‰æ‹©/åˆ é™¤/ä¿®æ”¹ åˆ°è¡Œé¦–.
"          y/v/d/c $  ä»å…‰æ ‡ä½ç½® å¤åˆ¶/é€‰æ‹©/åˆ é™¤/ä¿®æ”¹ åˆ°è¡Œå°¾.
"         di "/(/{/[  åˆ é™¤ "" æˆ– () æˆ– {} ç­‰ä¹‹é—´çš„æ‰€æœ‰å­—ç¬¦, ä¸åŒ…æ‹¬å®ƒä»¬æœ¬èº«.
"         da "/(/{/[  åˆ é™¤ "" æˆ– () æˆ– {} ç­‰ä¹‹é—´çš„æ‰€æœ‰å­—ç¬¦, ä¹ŸåŒ…æ‹¬å®ƒä»¬æœ¬èº«.
"               c2i(  åˆ é™¤ 2 å±‚ () å†…çš„å†…å®¹, åªç•™ä¸‹ä¸€å¯¹ (),  å¹¶è¿›å…¥ insert æ¨¡å¼.
"                     è¿˜æœ‰å¾ˆå¤šä¸åŒç»„åˆ, è¯·äº²è‡ªå°è¯•ç†è§£:
"                         yw/ye/yiw/y3w/yW/yi{/ya{/y3i{/yb/yB
"                         vw/ve/viw/vaw/v3iw/vW/vi{/va{/v3i{
"                         cw/ciw/c3w/cW/cb/cB
"                         dw/diw/db/dB/d3w
"                         ...
"                dgg  ä»å…‰æ ‡ä½ç½®åˆ é™¤åˆ°æ–‡ä»¶å¤´éƒ¨.
"                 dG  ä»å…‰æ ‡ä½ç½®åˆ é™¤åˆ°æ–‡ä»¶å°¾éƒ¨.
"                dip  å…‰æ ‡åœ¨ç©ºç™½è¡Œæ—¶, ä½¿ç”¨æ­¤å¿«æ·é”®åˆ é™¤æ‰€æœ‰ä¸´è¿‘çš„ç©ºç™½è¡Œ.
"                  D  åˆ é™¤å½“å‰è¡Œå…‰æ ‡ä¹‹åçš„å†…å®¹.
"                  C  ä¿®æ”¹å½“å‰è¡Œå…‰æ ‡ä¹‹åçš„å†…å®¹.
"               [n]x  å‰ªåˆ‡å…‰æ ‡å³ä¾§ n ä¸ªå­—ç¬¦, åŒ d[n]l.
"               [n]X  å‰ªåˆ‡å…‰æ ‡å·¦ä¾§ n ä¸ªå­—ç¬¦, åŒ d[n]h.
"               [n]s  ä¿®æ”¹å…‰æ ‡å n ä¸ªå­—ç¬¦, åŒ c[n]l.
"                     NOTE: æœ¬ vimrc æ–‡ä»¶é…ç½®å·²å°† s å‘½ä»¤ç»™ easymotion æ’ä»¶ä½¿ç”¨.
"               [n]S  ä¿®æ”¹æ•´è¡Œ, åŒ [n]cc.
"               [n]J  åˆå¹¶åŒ…å«å…‰æ ‡æ‰€åœ¨è¡Œåœ¨å†…çš„ n è¡Œåˆ°å½“å‰è¡Œ,
"                     å¦‚æœåªæ˜¯ J, åˆ™æ˜¯åˆå¹¶ä¸‹ä¸€è¡Œåˆ°å…‰æ ‡æ‰€åœ¨è¡Œ.
"                p/P  åœ¨å…‰æ ‡ å³ä¾§/å·¦ä¾§ ç²˜è´´.
"               [n]r  æ›¿æ¢å½“å‰å…‰æ ‡å³ä¾§ n ä¸ªå­—ç¬¦.
"                  R  è¿›å…¥ replace æ¨¡å¼, æ¯æ¬¡æŒ‰é”®æ›¿æ¢ä¸€ä¸ªå­—ç¬¦,
"                     ç›´åˆ°æŒ‰ ESC é”®é€€å‡º replace æ¨¡å¼.
"                  u  undo, æ’¤é”€æœ€è¿‘ä¸€æ¬¡çš„ä¿®æ”¹åŠ¨ä½œ.
"                  U  æ’¤é”€å½“å‰æ‰€åœ¨è¡Œçš„æ‰€æœ‰ä¿®æ”¹.
"             ctrl r  redo, æ¢å¤æœ€è¿‘ä¸€æ¬¡çš„æ’¤é”€å†…å®¹.
"    :n,ms/old/new/g  å°†æ–‡ä»¶å†…ç¬¬ n è¡Œåˆ°ç¬¬ m è¡Œçš„æ‰€æœ‰ old æ›¿æ¢ä¸º new;
"                     å¦‚æœæ˜¯å…ˆåœ¨ visual æ¨¡å¼ä¸‹é€‰æ‹©äº†ä¸€æ®µå†…å®¹,
"                     å†æŒ‰ : åˆ™ command-line æ¨¡å¼æ ä¼šå˜ä¸º :'<,'>,
"                     æœ€åæˆ‘ä»¬è¡¥å…¨ä¸º :'<,'>s/old/new/g, å³å¯å®Œæˆæ›¿æ¢é€‰æ‹©çš„æ–‡æœ¬éƒ¨åˆ†.
"      :%s/old/new/g  å°†æ–‡ä»¶å†…æ‰€æœ‰ old æ›¿æ¢ä¸º new, g è¡¨ç¤ºå…¨å±€æ›¿æ¢, å¦‚æœæ²¡æœ‰ g,
"                     åˆ™æ¯è¡Œåªæ›¿æ¢ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹.
"     :%s/old/new/gc  æ¯ä¸ªåŒ¹é…ä¸²æ›¿æ¢å‰å…ˆæç¤ºæ˜¯å¦è¿›è¡Œæ›¿æ¢.
"             ctrl o  insert æ¨¡å¼ä¸‹, ä½¿ä¸´æ—¶è¿›å…¥ normal æ¨¡å¼ä¸‹,
"                     æ‰§è¡Œä¸€ä¸ª normal å‘½ä»¤å°±è‡ªåŠ¨å†è¿”å› insert æ¨¡å¼ä¸‹.
"         ctrl h/w/u  insert æ¨¡å¼ä¸‹, å‘å·¦åˆ é™¤ 1ä¸ªå­—ç¬¦/1ä¸ªå•è¯/åˆ°è¡Œé¦–.
"      ctrl od l/w/e  insert æ¨¡å¼ä¸‹, å‘å³åˆ é™¤ 1ä¸ªå­—ç¬¦/1ä¸ªå•è¯/1ä¸ªä¸å«ç©ºæ ¼çš„å•è¯.
"            ctrl oD  insert æ¨¡å¼ä¸‹, å‘å³åˆ é™¤åˆ°è¡Œå°¾.
"
" ** å¤§å°å†™è½¬æ¢:
"               gUiw  å°†å•è¯è½¬æˆå¤§å†™.
"               guiw  å°†å•è¯è½¬æˆå°å†™.
"                guu  å°†å…¨è¡Œè½¬æˆå°å†™.
"                gUU  å°†å…¨è¡Œè½¬æˆå¤§å†™.
"
" ** ç§»åŠ¨å…‰æ ‡:
"               kjhl  ä¸Šä¸‹å·¦å³ç§»åŠ¨å…‰æ ‡.
"              gk/gj  å¯¹äºæŠ˜è¡Œçš„æƒ…å†µ, å‘ä¸Š/å‘ä¸‹åœ¨æŠ˜è¡Œé—´ç§»åŠ¨å…‰æ ‡.
"                w/W  å‘å³ç§»åŠ¨ä¸€ä¸ªå•è¯ä½ç½®, å…‰æ ‡åœ¨å•è¯å¼€å¤´,
"                     å¤§å†™è¡¨ç¤ºç‰¹æ®Šç¬¦å·ä¹Ÿç®—å•è¯çš„ç»„æˆéƒ¨åˆ†, å¯å‰ç½®æ•°å­—è¡¨ç¤ºç§»åŠ¨çš„å•è¯æ•°é‡.
"                e/E  åŒä¸Š, åŒºåˆ«æ˜¯ç§»åŠ¨åˆ°å•è¯æœ«å°¾.
"                b/B  å‘å·¦ç§»åŠ¨ä¸€ä¸ªå•è¯ä½ç½®, å…‰æ ‡åœ¨å•è¯å¼€å¤´, å…¶ä»–åŒ w/W.
"                  0  å…‰æ ‡è·³è½¬åˆ°è¡Œé¦–.
"                     NOTE: å·²è‡ªå®šä¹‰é…ç½®ä¸ºè·³è½¬åˆ°è¡Œé¦–ç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦, å†æŒ‰ä¸€æ¬¡æ‰åˆ°è¡Œé¦–.
"                  ^  å…‰æ ‡è·³è½¬åˆ°è¡Œé¦–ç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦.
"                  $  å…‰æ ‡è·³è½¬åˆ°è¡Œå°¾.
"                (/)  ç§»åŠ¨åˆ°ä¸Šä¸€å¥/ä¸‹ä¸€å¥.
"                {/}  ç§»åŠ¨åˆ°ä¸Šä¸€æ®µè½/ä¸‹ä¸€æ®µè½.
"                  M  å…‰æ ‡ç§»åŠ¨åˆ°å½“å‰å±å¹•çš„ä¸­é—´è¡Œçš„è¡Œé¦–.
"             Ngg/NG  å…‰æ ‡ç§»åŠ¨åˆ°ç¬¬ N è¡Œ.
"                 N%  å…‰æ ‡ç§»åŠ¨åˆ° N% è¡Œå¤„.
"                 N|  è‡³ç¬¬ N åˆ—, è¿™é‡Œçš„ | æ˜¯ç«–çº¿å­—ç¬¦.
"                */#  åŒ¹é…å½“å‰å…‰æ ‡æ‰€åœ¨å•è¯å¹¶è·³è½¬åˆ°ä¸‹ä¸€ä¸ªå•è¯/ä¸Šä¸€ä¸ªå•è¯.
"                 f*  è¿™é‡Œçš„ * è¡¨ç¤ºä»»æ„ä½ è¦è·³è½¬åˆ°çš„æœ¬è¡Œå­—ç¬¦, æ¯”å¦‚ä½ è¦è·³è½¬åˆ° m, åˆ™ fm,
"                     ç„¶åæŒ‰ ; ç»§ç»­å‘å³åŒ¹é…, æŒ‰ , å‘å·¦åŒ¹é…, ç›´åˆ°è·³è½¬åˆ°è‡ªå·±æƒ³å»çš„ä½ç½®.
"                 t*  åŒä¸Š, åŒºåˆ«æ˜¯ä¸åŒ…å«ç›®æ ‡å­—ç¬¦.
"              F*/T*  åŒä¸Š, åŒºåˆ«æ˜¯æ–¹å‘æ˜¯å‘å·¦çš„.
"           ctrl o/i  å°†å…‰æ ‡è·³è½¬åˆ°ä¹‹å‰/ä¹‹åçš„ä½ç½®.
"           ctrl f/b  å‘ä¸‹/å‘ä¸Šç¿»æ•´å±.
"           ctrl d/u  å‘ä¸‹/å‘ä¸Šç¿»åŠå±.
"           ctrl e/y  ä»¥ 1 è¡Œ(å·²è‡ªå®šä¹‰é…ç½®æˆ 3 è¡Œ)ä¸ºå•ä½ä¸Šä¸‹ç§»åŠ¨å±å¹•, è€Œä¸ç§»åŠ¨å…‰æ ‡.
"                     NOTE: é˜…è¯»çš„æ—¶å€™æ¨èä½¿ç”¨è¿™ç§æ–¹å¼, è€Œä¸æ˜¯é€šè¿‡ jklh æˆ– ctrl d/u/f/b å¿«æ·é”®.
"           zt/zz/zb  æŠŠå…‰æ ‡æ‰€åœ¨è¡Œæ”¾ç½®åˆ°å±å¹•çš„é¡¶éƒ¨ã€ä¸­é—´ã€åº•éƒ¨.
"                  %  è·³è½¬åˆ°å…‰æ ‡æ‰€åœ¨çš„ {([ åŒ¹é…åŒ¹é…çš„å¦ä¸€ç«¯.
"                 gf  è·³è½¬åˆ°å…‰æ ‡æ‰€åœ¨æ–‡æœ¬å¯¹è±¡æ‰€å¯¹åº”çš„æ–‡ä»¶.
"                 gd  è·³è½¬åˆ°å…‰æ ‡æ‰€åœ¨æ–‡æœ¬å¯¹è±¡çš„å®šä¹‰å¤„.
"                 `.  å›åˆ°ä¸Šæ¬¡ç¼–è¾‘çš„ä½ç½®.
"
" ** æ’ç‰ˆ:
"              >>/<<  normal æ¨¡å¼ä¸‹å‘ å³/å·¦ ç¼©è¿›4ä¸ªç©ºæ ¼.
"                >/<  visual æ¨¡å¼ä¸‹å‘ å³/å·¦ ç¼©è¿›4ä¸ªç©ºæ ¼.
"                 ==  è‡ªåŠ¨ç¼©è¿›.
"                :ce  æœ¬è¡Œæ–‡å­—å±…ä¸­(center).
"                :le  æœ¬è¡Œæ–‡å­—é å·¦(left).
"                :ri  æœ¬è¡Œæ–‡å­—é å³(right).
"
" ** è¿›å…¥ insert æ¨¡å¼çš„å‡ ç§æ–¹æ³•:
"                  i  åœ¨å½“å‰å…‰æ ‡ä½ç½®æ’å…¥.
"                  I  åœ¨å½“å‰è¡Œç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦å‰æ’å…¥.
"                 gI  åœ¨è¡Œé¦–æ’å…¥.  å›åˆ°ä¸Šæ¬¡ç¼–è¾‘çš„ä½ç½®.
"                  a  å…‰æ ‡å‘å³ç§»åŠ¨ä¸€ä¸ªä½ç½®.
"                  A  å…‰æ ‡è·³è½¬åˆ°è¡Œå°¾æ’å…¥.
"                  o  å‘ä¸‹æ–°å»ºä¸€è¡Œæ’å…¥.
"                  O  å‘ä¸Šæ–°å»ºä¸€è¡Œæ’å…¥.
"
" ** visual æ¨¡å¼:
"                  v  è¿›å…¥ visual æ¨¡å¼.
"                  V  è¿›å…¥ visual line æ¨¡å¼.
"             ctrl v  è¿›å…¥ visual block æ¨¡å¼.
"                  o  ä½¿å…‰æ ‡åœ¨é€‰æ‹©èŒƒå›´çš„å¼€å¤´å’Œç»“å°¾æ¥å›è·³è½¬.
"                  O  visual block æ¨¡å¼ä¸‹é™¤äº† o å…‰æ ‡è·³è½¬, O æ˜¯å¦ä¸€ç§è·³è½¬æ–¹å¼.
"                  u  é€‰æ‹©çš„åŒºåŸŸå…¨éƒ¨è½¬æ¢æˆå°å†™.
"                  U  é€‰æ‹©çš„åŒºåŸŸå…¨éƒ¨è½¬æ¢æˆå¤§å†™.
"                  ~  é€‰æ‹©çš„åŒºåŸŸçš„å¤§å°å†™åè½¬.
"           g ctrl g  æ˜¾ç¤ºé€‰æ‹©åŒºåŸŸçš„ç»Ÿè®¡ä¿¡æ¯.
"
" ** åˆ†å±/å¤šçª—å£ç®¡ç†:
"            :sp/:vs  ä¸Šä¸‹/å·¦å³ åˆ†å‰²çª—å£.
"       :sp/:vs file  ä¸Šä¸‹/å·¦å³ åˆ†å±åˆ›å»ºæ–°æ–‡ä»¶.
"            ctrl ww  å…‰æ ‡åœ¨å¤šä¸ªåˆ†å±çª—å£ä¹‹é—´å¾ªç¯ç§»åŠ¨.
"     ctrl w j/k/h/l  å…‰æ ‡ç§»åŠ¨åˆ° ä¸‹é¢/ä¸Šé¢/å·¦è¾¹/å³è¾¹ çš„çª—å£.
"            ctrl wp  å…‰æ ‡ç§»åŠ¨åˆ°ä¸Šä¸€æ¬¡æ‰€åœ¨çš„çª—å£.
"              :only  å¤šä¸ªåˆ†å±çª—å£çš„åœºæ™¯ä¸‹, ä½¿ç”¨æ­¤å‘½ä»¤ä»…ä¿ç•™å½“å‰å…‰æ ‡æ‰€åœ¨çª—å£, å…³é—­æ‰€æœ‰å…¶ä»–çª—å£.
"
" ** å¯¹äºå·²æ‰“å¼€æ–‡ä»¶(buffer)çš„æ“ä½œ:
"                :ls  æŸ¥çœ‹ buffer åˆ—è¡¨.
"                :bn  åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ª buffer.
"                :bp  åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ª buffer.
"                :bd  åˆ é™¤ buffer.
"               :b 1  åˆ‡æ¢åˆ° 1 å· buffer.
"             :b abc  åˆ‡æ¢åˆ°æ–‡ä»¶åä»¥ abc å¼€å¤´çš„ buffer.
"
" ** å…¶ä»–:
"              :help  é¡¶éƒ¨åˆ†å±æ‰“å¼€å¸®åŠ©æ–‡æ¡£çª—å£.
"             :[tab]  command-line æ¨¡å¼ä¸‹è¦æ“…ç”¨ tab è¡¥å…¨.
"          :x/:wq/ZZ  ä¿å­˜å¹¶é€€å‡ºæ–‡ä»¶.
"                 :q  ä¸ä¿å­˜é€€å‡ºæ–‡ä»¶æˆ–å…³é—­çª—å£.
"                 :!  åé¢è¾“å…¥è¦æ‰§è¡Œçš„ç³»ç»Ÿå‘½ä»¤, å›è½¦æ‰§è¡Œ.
"                  .  é‡å¤æ‰§è¡Œæœ€è¿‘ä¸€æ¬¡çš„ä¿®æ”¹åŠ¨ä½œ.
"                  /  æ­£å‘æœç´¢æ¨¡å¼.
"                  ?  åå‘æœç´¢æ¨¡å¼.
"                n/N  é…åˆä¸Šé¢ä¸¤ä¸ªå‘½ä»¤, æ­£å‘/æ–¹å‘è·³è½¬åˆ°æœç´¢å…³é”®å­—.
"             ctrl g  æ˜¾ç¤ºå…‰æ ‡æ‰€åœ¨æ–‡ä»¶çš„å…¨è·¯å¾„, å½“å‰æ–‡ä»¶ä¸€å…±å¤šå°‘è¡Œ,
"                     å…‰æ ‡æ‰€åœ¨è¡Œæ˜¯å½“å‰æ–‡ä»¶çš„ç™¾åˆ†ä¹‹å¤šå°‘çš„ä½ç½®.
"             ctrl f  command-line æ¨¡å¼ä¸‹, æŒ‰å¿«æ·é”® ctrl f æ‰“å¼€å‘½ä»¤è¡Œçª—å£å¹¶æ˜¾ç¤ºå‘½ä»¤å†å²è®°å½•.
"                 q:  normal æ¨¡å¼ä¸‹, æŒ‰å¿«æ·é”® q: æ‰“å¼€å‘½ä»¤è¡Œçª—å£å¹¶æ˜¾ç¤ºå‘½ä»¤å†å²è®°å½•.
"                 q/  normal æ¨¡å¼ä¸‹, æŒ‰å¿«æ·é”® q/ å°†ä¼šæ‰“å¼€å‘½ä»¤è¡Œçª—å£å¹¶æ˜¾ç¤ºå‘ä¸‹æœç´¢çš„å†å²è®°å½•.
"                 q?  normal æ¨¡å¼ä¸‹, æŒ‰å¿«æ·é”® q? å°†ä¼šæ‰“å¼€å‘½ä»¤è¡Œçª—å£å¹¶æ˜¾ç¤ºå‘ä¸Šæœç´¢çš„å†å²è®°å½•.
"                 z=  å½“ä½ æ‹¼å†™ä¸€ä¸ªä¸ç†Ÿæ‚‰çš„è‹±æ–‡å•è¯æ—¶, å¯ä»¥ä½¿ç”¨æ­¤å¿«æ·é”®ç»™å‡ºå»ºè®®åˆ—è¡¨.
"                     NOTE: éœ€è¦æ‰“å¼€è‹±æ–‡æ‹¼å†™æ£€æŸ¥.
"               "ayy  å°†å½“å‰è¡Œæ‹·è´åˆ°å¯„å­˜å™¨ a, a ä¹Ÿå¯ä»¥æ˜¯å…¶ä»–å­—ç¬¦, yy åŠ¨ä½œä¹Ÿå¯ä»¥æ˜¯å…¶ä»–æ‹·è´åŠ¨ä½œ.
"                "ap  å°†å¯„å­˜å™¨ a ä¸­çš„å†…å®¹ç²˜è´´åˆ°å…‰æ ‡æ‰€åœ¨å¤„, æˆ‘ä»¬å¯ä»¥æ‹·è´ä¸åŒå†…å®¹åˆ°ä¸åŒçš„å¯„å­˜å™¨,
"                     ç²˜è´´æ—¶åˆ†åˆ«é€‰æ‹©ç›¸åº”çš„å¯„å­˜å™¨çš„å†…å®¹è¿›è¡Œç²˜è´´.
"               :reg  æŸ¥çœ‹å½“å‰ Vim å®ä¾‹çš„å¯„å­˜å™¨åˆ—è¡¨.
"
" ** ä¸ä¾èµ–æ’ä»¶çš„è‡ªå®šä¹‰é…ç½®æä¾›çš„åŠŸèƒ½:
"                  Y  è¿™ä¸ªå‘½ä»¤é»˜è®¤æ˜¯å¤åˆ¶æ•´è¡Œçš„æ„æ€, è¿™é‡Œæ›´æ”¹ä¸ºå¤åˆ¶å…‰æ ‡ä½ç½®åˆ°è¡Œç»“å°¾çš„å†…å®¹.
"       ctrl b/f/p/n  insert æ¨¡å¼ä¸‹å·¦å³ä¸Šä¸‹ç§»åŠ¨å…‰æ ‡, æˆ–
"                     command-line æ¨¡å¼ä¸‹å‘å·¦/å‘å³ç§»åŠ¨å…‰æ ‡, å‘ä¸Šæˆ–å‘ä¸‹ç¿»é˜…å†å²å‘½ä»¤.
"           ctrl a/e  insert/command-line æ¨¡å¼ä¸‹è·³è½¬åˆ°è¡Œé¦–/è¡Œå°¾,
"                     ctrl a ä¼šè·³è½¬åˆ°è¡Œé¦–ç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦, å†æŒ‰ä¸€æ¬¡è·³è½¬åˆ°è¡Œé¦–.
"            esc b/f  insert/command-line æ¨¡å¼ä¸‹å‘å·¦æˆ–å‘å³ç§»åŠ¨ä¸€ä¸ªå•è¯.
"           ctrl h/d  insert/command-line æ¨¡å¼ä¸‹å‘å·¦æˆ–å‘å³åˆ é™¤ä¸€ä¸ªå­—ç¬¦.
"             ctrl w  insert/command-line æ¨¡å¼ä¸‹å‘å·¦åˆ é™¤ä¸€ä¸ªå•è¯.
"      , )/]/}/"/'/`  å°† visual æ¨¡å¼ä¸‹é€‰æ‹©çš„å†…å®¹ä½¿ç”¨ () æˆ– [] æˆ– {} æˆ– "" æˆ– '' æˆ– `` åŒ…è£¹.
"                 ,R  æ–‡ä»¶ ~/.vimrc æˆ– ~/.config/nvim/init.vim å‘ç”Ÿå˜åŒ–å,
"                     æ­£åœ¨ç¼–è¾‘çš„æ–‡ä»¶ä¸éœ€è¦é€€å‡º, é€šè¿‡è¯¥å¿«æ·é”®å³å¯é‡æ–°åŠ è½½è¯¥é…ç½®æ–‡ä»¶,
"                     ä½¿å˜æ›´é©¬ä¸Šç”Ÿæ•ˆ.
"                 ,E  ä¸Šä¸‹åˆ†å±æ–¹å¼æ‰“å¼€ ~/.vimrc æˆ– ~/.config/nvim/init.vim æ–‡ä»¶.
"             ctrl s  normal/insert æ¨¡å¼ä¸‹, æ‰“å¼€/å…³é—­è‹±æ–‡æ‹¼å†™æ£€æŸ¥.
"                 ,b  normal æ¨¡å¼ä¸‹, åœ¨èƒŒæ™¯æ˜¯ dark å’Œ light ä¹‹é—´åˆ‡æ¢.
"                 ,v  normal æ¨¡å¼ä¸‹, åœ¨èƒŒæ™¯æ˜¯é€æ˜å’Œä¸é€æ˜ä¹‹é—´åˆ‡æ¢.

" }}

"""""""""" æ’ä»¶æä¾›çš„èƒ½åŠ› {{
"
" ** neoclide/coc.nvim (https://github.com/neoclide/coc.nvim)
"                 gd  è·³è½¬åˆ°å®šä¹‰å¤„, ctrl o è·³è½¬å›æ¥, ctrl i å†è·³è½¬è¿‡å».
"                 gy  è·³è½¬åˆ°ç±»å‹å®šä¹‰å¤„.
"                 gi  è·³è½¬åˆ°æ¥å£å®ç°å¤„.
"                 gr  åœ¨ location list ä¸­åˆ—å‡ºç›¸å…³æ¡ç›®, å¦‚æœåªæœ‰ 1 æ¡, åˆ™ç›´æ¥è·³è½¬è¿‡å».
"                  K  ä½¿ç”¨ K åœ¨é¢„è§ˆçª—å£ä¸­æŸ¥çœ‹æ–‡æ¡£.
"           ctrl d/u  ä½¿ç”¨ K æŸ¥çœ‹æ–‡æ¡£æ—¶, æˆ–è€…å‡ºç°ä»£ç è¡¥å…¨æç¤ºæ—¶,
"                     å¦‚æœæ–‡æ¡£æˆ–æç¤ºæ‰€åœ¨çš„æ‚¬æµ®çª—å£å‡ºç°äº†æ»šåŠ¨æ¡,
"                     åˆ™ä½¿ç”¨æ­¤å¿«æ·é”®è¿›è¡Œå‘ä¸‹æˆ–å‘ä¸Šç¿»æ»šé¡µé¢.
"
" ** coc-translator (https://github.com/voldikss/coc-translator)
"                 ts  normal å’Œ visual æ¨¡å¼ä¸‹, å°†å…‰æ ‡ä¸‹çš„å•è¯ä»¥å¼¹å‡ºæ¼‚æµ®çª—å£çš„æ–¹å¼æ˜¾ç¤ºç¿»è¯‘ç»“æœ.
"                tse  åœ¨çŠ¶æ€æ ä¸‹é¢æ˜¾ç¤ºç¿»è¯‘çš„ç»“æœ.
"                tsr  å°†ç¿»è¯‘ç»“æœæ›¿æ¢æ‰å…‰æ ‡ä¸‹çš„å•è¯.
"
" ** dense-analysis/ale (https://github.com/dense-analysis/ale)
"                 :w  ä¿å­˜ä»£ç æ–‡ä»¶çš„æ—¶å€™, å°†è‡ªåŠ¨æ£€æŸ¥è¯­æ³•é”™è¯¯å¹¶æç¤º.
"              , k/j  å‘ä¸Šæˆ–å‘ä¸‹è·³è½¬åˆ°ä¸‹ä¸€ä¸ªé”™è¯¯æç¤ºçš„ä½ç½®.
"
" ** Yggdroot/LeaderF (https://github.com/Yggdroot/LeaderF)
"                ,ff  è¿›å…¥æ–‡ä»¶æœç´¢çš„æ¨¡ç³Šæœç´¢æ–¹å¼;
"             ctrl r  åœ¨ ,ff å‘½ä»¤çš„åŸºç¡€ä¸Š, æŒ‰è¿™ä¸ªå¿«æ·é”®è¿›å…¥æ–‡ä»¶æœç´¢çš„æ­£åˆ™åŒ¹é…æ–¹å¼;
"                ,fb  æœç´¢å½“å‰å·²ç»æ‰“å¼€çš„æ‰€æœ‰æ–‡ä»¶çš„å†…å®¹.
"                ,fm  æ˜¾ç¤ºæœ€è¿‘æ‰“å¼€è¿‡çš„æ–‡ä»¶åˆ—è¡¨.
"                ,ft  æ˜¾ç¤ºå½“å‰æ–‡ä»¶çš„ tags åˆ—è¡¨.
"                ,fl  æ˜¾ç¤ºå½“å‰æ–‡ä»¶çš„å»é™¤ç©ºè¡Œçš„æ‰€æœ‰è¡Œ.
"                ,rg  ä» normal æ¨¡å¼ä¸‹æŒ‰ ,rg è¿›å…¥ command-line æ¨¡å¼ä¸‹,
"                     ç„¶åè¾“å…¥è¦æœç´¢çš„æ–‡æœ¬(æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼),
"                     å›è½¦å³å¯æ˜¾ç¤ºæ­¤é¡¹ç›®å†…åŒ…å«æ­¤æ–‡æœ¬çš„æ–‡ä»¶åˆ—è¡¨;
"                     åœ¨å¼¹å‡ºçš„ç»“æœçª—å£ä¸­, æŒ‰ gi å¯ä»¥å°†å…‰æ ‡ç§»åŠ¨åˆ°è¾“å…¥æ¡†,
"                     å¯ä»¥ç»§ç»­è¾“å…¥å†…å®¹ç¼©å°ç»“æœåˆ—è¡¨,
"                     ç„¶åæŒ‰ tab è¿›å…¥ç»“æœåˆ—è¡¨ä¸­, æŒ‰ j/k ä¸Šä¸‹é€‰æ‹©, é€‰æ‹©ä¸€ä¸ªæ–‡ä»¶å,
"                     æŒ‰ t å°†ä»¥æ–°å»ºæ ‡ç­¾é¡µçš„æ–¹å¼æ‰“å¼€é€‰æ‹©çš„æ–‡ä»¶.
"                 rg  visual æ¨¡å¼ä¸‹é€‰æ‹©æ–‡æœ¬å, æŒ‰ rg åœ¨æ•´ä¸ªé¡¹ç›®å†…æœç´¢é€‰æ‹©çš„æ–‡æœ¬, æ˜¾ç¤ºæœç´¢ç»“æœ.
"                ,rc  ,rg/rg æœç´¢å†…å®¹å…³é—­å, æƒ³å†æ¬¡æœç´¢ä¸Šæ¬¡æœç´¢çš„å†…å®¹,
"                     normal æ¨¡å¼ä¸‹æŒ‰ ,rc å³å¯.
" ** francoiscabrol/ranger.vim (https://github.com/francoiscabrol/ranger.vim)
"                 ,r  æ‰“å¼€ ranger, é€‰æ‹©æ–‡ä»¶åæŒ‰ enter æˆ– l ä»¥æ–°å»ºæ ‡ç­¾é¡µçš„æ–¹å¼æ‰“å¼€æ–‡ä»¶,
"                     å¦‚æœæ–‡ä»¶å·²ç»æ‰“å¼€äº†, åˆ™ç›´æ¥è·³è½¬åˆ°ç›¸å…³æ ‡ç­¾é¡µ.
"
" ** terryma/vim-multiple-cursors (https://github.com/mg979/vim-visual-multi)
"             ctrl n  å¼€å¯å¤šå…‰æ ‡æ¨¡å¼, é»˜è®¤å¯¹åº” Vim çš„ visual æ¨¡å¼.
"                n/N  å¼€å¯å¤šå…‰æ ‡æ¨¡å¼å, æŒ‰ n/N å‘ä¸‹æˆ–å‘ä¸Šé€‰æ‹©å…‰æ ‡ä¸‹çš„å•è¯.
"                  q  å–æ¶ˆé€‰æ‹©å½“å‰è¡Œçš„ç›®æ ‡å•è¯å¹¶åŒæ—¶é€‰æ‹©ä¸‹ä¸€è¡Œçš„ç›®æ ‡å•è¯.
"                  Q  ä¸é€‰æ‹©å½“å‰è¡Œçš„ç›®æ ‡å•è¯.
"                tab  åœ¨å¤šå…‰æ ‡çš„ visual æ¨¡å¼å’Œå¤šå…‰æ ‡çš„ normal æ¨¡å¼ä¹‹é—´åˆ‡æ¢.
"              c/d/i  å¤šå…‰æ ‡é€‰æ‹©å®Œç›®æ ‡å•è¯å, å¯¹ç›®æ ‡å•è¯è¿›è¡Œä¿®æ”¹.
"                ESC  é€€å‡ºå¤šå…‰æ ‡æ¨¡å¼.
"
" ** easymotion/vim-easymotion (https://github.com/easymotion/vim-easymotion)
"                 ,s  æŒ‰æ­¤å¿«æ·é”®å, å†è¾“å…¥ä¸€ä¸ªå…‰æ ‡è¦è·³è½¬åˆ°çš„å­—ç¬¦ x,
"                     ä½ ä¼šå‘ç° x å˜æˆäº†å¦å¤–ä¸€ä¸ªå­—ç¬¦ g, ä½ ç›´æ¥è¾“å…¥ g å³å¯å®Œæˆè·³è½¬.
"                 ,w  æ ‡è®°æ‰€æœ‰çª—å£çš„å•è¯.
"                 ,L  æ ‡è®°æ‰€æœ‰çª—å£çš„æ‰€æœ‰è¡Œé¦–å­—ç¬¦.
"                 ,l  æ ‡è®°å½“å‰è¡Œå…‰æ ‡å³ä¾§çš„å­—ç¬¦.
"                 ,h  æ ‡è®°å½“å‰è¡Œå…‰æ ‡å·¦ä¾§çš„å­—ç¬¦.
"                  s  è¾“å…¥1ä¸ªç›®æ ‡å­—ç¬¦å³å¯é«˜äº®å®šä½, æ”¯æŒå¤šçª—å£åŒæ—¶å®šä½.
"
" ** preservim/nerdcommenter (https://github.com/preservim/nerdcommenter)
"       [n],c<space>  æ³¨é‡Šæˆ–å–æ¶ˆæ³¨é‡Šå…‰æ ‡æ‰€åœ¨è¡Œ,
"                     æˆ– visual æ¨¡å¼ä¸‹é€‰æ‹©å¤šè¡Œæ¥æ³¨é‡Šæˆ–å–æ¶ˆæ³¨é‡Š.
"             [n],cc  åªæ³¨é‡Š, å¦‚æœåŸæ¥å°±æœ‰æ³¨é‡Šåˆ™å¤šä¸€å±‚æ³¨é‡Š.
"             [n],cm  å¯¹è¢«é€‰åŒºåŸŸç”¨ä¸€å¯¹æ³¨é‡Šç¬¦è¿›è¡Œæ³¨é‡Š, æ¯”å¦‚ç”± // æ”¹ä¸º /* */.
"             [n],cs  æ·»åŠ è¾ƒç¾è§‚çš„æ³¨é‡Š.
"             [n],cy  æ·»åŠ æ³¨é‡Šå¹¶å¤åˆ¶è¢«è¢«æ³¨é‡Šçš„éƒ¨åˆ†.
"             [n],cA  è·³è½¬åˆ°è¯¥è¡Œç»“å°¾æ·»åŠ æ³¨é‡Šç¬¦å·ï¼Œå¹¶è¿›å…¥ insert æ¨¡å¼.
"
" ** skywind3000/asyncrun.vim (https://github.com/skywind3000/asyncrun.vim)
"                ,ar  command-line æ¨¡å¼ä¸‹å¼‚æ­¥è¿è¡Œå‘½ä»¤, å¹¶åœ¨å½“å‰çª—å£åº•éƒ¨è¾“å‡ºæ‰§è¡Œç»“æœ.
"
" ** fatih/vim-go (https://github.com/fatih/vim-go/wiki/Tutorial)
"   ä»£ç é˜…è¯»ç›¸å…³:
"                  K  æŸ¥çœ‹å…‰æ ‡æ‰€åœ¨å¯¹è±¡çš„å¸®åŠ©æ–‡æ¡£.
"                 gr  åœ¨ location list ä¸­åˆ—å‡ºå“ªäº›åœ°æ–¹å¼•ç”¨äº†å…‰æ ‡æ‰€åœ¨çš„å¯¹è±¡.
"                ,cl  åœ¨ location list ä¸­åˆ—å‡ºå“ªäº›åœ°æ–¹è°ƒç”¨äº†å…‰æ ‡æ‰€åœ¨çš„å‡½æ•°.
"                 ,s  æŸ¥çœ‹å…‰æ ‡æ‰€åœ¨çš„ç±»å‹å®ç°äº†å“ªäº›æ¥å£,
"                     æ³¨æ„å…‰æ ‡åªèƒ½åœ¨ç±»å‹æˆ–ç±»å‹çš„æ–¹æ³•ä¸Š.
"
"   è·³è½¬åˆ°å¯¹è±¡(å‡½æ•°)å®šä¹‰æˆ–å£°æ˜å¤„çš„å‡ ç§æ–¹å¼:
"                 gd  è¦†ç›–å½“å‰é¡µé¢.
"                 gl  æ–°å¼€ä¸€ä¸ªæ ‡ç­¾é¡µ.
"                 gs  åœ¨ä¸Šæ–¹åˆ†å±.
"                 gv  åœ¨å³ä¾§åˆ†å±.
"
"   ä»£ç è‡ªåŠ¨ç”Ÿæˆç›¸å…³:
"                ,im  è‡ªåŠ¨ä¸ºå…‰æ ‡ä¸‹çš„ç±»å‹ç”ŸæˆæŒ‡å®šæ¥å£çš„å®ç°æ–¹æ³•.
"                ,ki  è‡ªåŠ¨æŠŠå…‰æ ‡æ‰€åœ¨çš„ç»“æ„ä½“å­—é¢é‡(ä»…æœ‰ value æ²¡æœ‰ key çš„æƒ…å†µ)è¡¥å……ä¸Šå­—æ®µ.
"                ,fs  è‡ªåŠ¨æŠŠå…‰æ ‡æ‰€åœ¨çš„ç»“æ„ä½“å­—é¢é‡, ä»¥å­—æ®µé›¶å€¼æ–¹å¼è¡¥ä¸Šå°šæœªå¡«å†™çš„å­—æ®µ.
"                ,ie  è‡ªåŠ¨ç”Ÿæˆ if err != nil ä»£ç æ®µ.
"                ,at  ä¸ºå…‰æ ‡æ‰€åœ¨çš„ç»“æ„ä½“å®šä¹‰è‡ªåŠ¨ç”Ÿæˆå­—æ®µå¯¹åº”çš„ tags.
"                ,rn  çº§è”çš„é‡å‘½åå…‰æ ‡ä¸‹çš„æ ‡è¯†ç¬¦, é‡å‘½åå, é¡¹ç›®å†…çš„æ‰€æœ‰ä¸å…¶ç›¸å…³çš„åœ°æ–¹å…¨éƒ¨ä¼šæ›´æ–°.
"
"   ä»£ç è¿è¡Œç›¸å…³:
"                ,gr  go run å½“å‰çš„ go æ–‡ä»¶.
"                ,gb  go build å½“å‰çš„ go æ–‡ä»¶, ä¸äº§ç”ŸäºŒè¿›åˆ¶æ–‡ä»¶, åªæ˜¯æ£€æŸ¥æ˜¯å¦å¯ä»¥æˆåŠŸ build.
"                ,gt  go test å½“å‰çš„ go æ–‡ä»¶.
"                ,gc  æŸ¥çœ‹å½“å‰ä»£ç æ–‡ä»¶çš„æµ‹è¯•è¦†ç›–ç‡.
"
" ** scrooloose/nerdtree (https://github.com/preservim/nerdtree)
"                 ,x  æ‰“å¼€æˆ–å…³é—­å·¦ä¾§ç›®å½•æ ‘.
"                  q  å…³é—­ç›®å½•æ ‘çª—å£.
"                  ?  æ‰“å¼€/å…³é—­è¯¥æ’ä»¶çš„å¸®åŠ©æ–‡æ¡£.
"                o/O  å±•å¼€ç›®å½•/é€’å½’çš„å±•å¼€ç›®å½•, åŸåœ°å†æŒ‰ä¸€æ¬¡åˆ™å¯¹åº”å…³é—­ç›®å½•.
"                x/X  é—­åˆç›®å½•/é—­åˆé€’å½’å±•å¼€çš„ç›®å½•,
"                     è¿›è¡Œæ­¤æ“ä½œæ—¶, å…‰æ ‡åº”è¯¥åœ¨è¦é—­åˆçš„ç›®å½•ä¸­.
"                t/T  ä»¥æ ‡ç­¾é¡µå½¢å¼æ‰“å¼€/é™é»˜æ‰“å¼€æ–‡ä»¶,
"                     å¦‚æœå…‰æ ‡åœ¨ç©ºç›®å½•ä¸Šåˆ™æ–°åˆ›å»ºä¸€ä¸ªç©ºæ–‡ä»¶å¹¶æ‰“å¼€,
"                     ç„¶åä½¿ç”¨ :w newfilename æ¥ä¿å­˜æ–‡ä»¶, æœ€å r æ¥æ›´æ–°å·¦ä¾§ç›®å½•æ ‘çš„æ˜¾ç¤º.
"              gt/gT  å‘å³/å‘å·¦åˆ‡æ¢æ ‡ç­¾é¡µ.
"                3gt  åˆ‡æ¢åˆ°ç¬¬ 3 ä¸ªæ ‡ç­¾, åˆ‡æ¢åˆ°å…¶ä»–æ ‡ç­¾çš„æ–¹æ³•ç±»ä¼¼.
"          shift l/h  å‘å³/å‘å·¦åˆ‡æ¢æ ‡ç­¾é¡µ, æ˜¯åœ¨ .vimrc ä¸­é…ç½®çš„ä¸Šä¸€æ¡å¿«æ·é”®çš„æ˜ å°„.
"          3 shift l  åˆ‡æ¢åˆ°ç¬¬ 3 ä¸ªæ ‡ç­¾.
"                  R  å˜æ›´ç›®å½•åç§°å, æ›´æ–°ç›®å½•æ ‘ä¸­çš„ç›®å½•æ˜¾ç¤º.
"                 CD  å¦‚æœå½“å‰ç›®å½•æ ‘çš„æ ¹ç›®å½•åŒ…å«äº†å¾ˆå¤šé¡¹ç›®, è¦å°†æŸä¸ªé¡¹ç›®è®¾ç½®ä¸ºç›®å½•æ ‘çš„æ ¹,
"                     åˆ™é€‰æ‹©è¿™ä¸ªé¡¹ç›®ç›®å½•, æŒ‰ CD.
"                 go  é€‰æ‹©ä¸€ä¸ªæ–‡ä»¶, æŒ‰ go åªæ˜¯åœ¨å½“å‰çª—å£å±•ç¤ºè¿™ä¸ªæ–‡ä»¶çš„å†…å®¹, å…‰æ ‡è¿˜åœç•™åœ¨ç›®å½•æ ‘çª—å£.
"                  I  æ˜¾ç¤º/éšè—ä»¥ . å¼€å¤´çš„æ–‡ä»¶.
"                  m  å…‰æ ‡ç§»åŠ¨åˆ°æŸä¸ªæ–‡ä»¶æˆ–ç›®å½•, æŒ‰ m å±•ç¤ºå¯æ“ä½œçš„ menu åˆ—è¡¨,
"                     é€‰æ‹©ä½ è¦çš„æ“ä½œ, æ¯”å¦‚åˆ é™¤/æ·»åŠ /ç§»åŠ¨æ–‡ä»¶æˆ–ç›®å½•ç­‰,
"                     ä½¿ç”¨ ESC ä¸­é€”é€€å‡ºæ“ä½œ.
"
" ** majutsushi/tagbar (https://github.com/preservim/tagbar)
"                 ,e  æ‰“å¼€å³ä¾§å¤§çº²çª—å£.
"
" ** tpope/vim-fugitive (https://github.com/tpope/vim-fugitive)
"      :Git/:Gstatus  git status
"        :Git status  git status
"              :Glog  git log
"           :Git log  ç±»ä¼¼ git log, å…‰æ ‡ç§»åŠ¨åˆ°ä¸€ä¸ª commit è¡Œ,
"                     ç„¶åæŒ‰ o æˆ– O æˆ– enter, æ‰“å¼€ commit è¯¦ç»†å†…å®¹æµè§ˆ,
"                     q é€€å‡ºæµè§ˆçª—å£, ctrl o/i æ¥å›è·³è½¬.
"            :Gblame  git blame
"         :Git blame  git blame
"             :Gdiff  æ°´å¹³åˆ†å±æ¯”è¾ƒå½“å‰æ–‡ä»¶ä¸æš‚å­˜åŒºç‰ˆæœ¬çš„åŒºåˆ«.
"            :Gvdiff  å‚ç›´åˆ†å±æ¯”è¾ƒå½“å‰æ–‡ä»¶ä¸æš‚å­˜åŒºç‰ˆæœ¬çš„åŒºåˆ«, è¿™ä¸ªæ›´å¥½ç”¨ä¸€ç‚¹.
"          :Git diff  git diff
"
" ** junegunn/gv.vim (https://github.com/junegunn/gv.vim)
"                :GV  ç±»ä¼¼ :Git log.
"               :GV!  è¿™ä¸ªåªçœ‹å½“å‰æ–‡ä»¶çš„ git log.
"
" ** tpope/vim-surround (https://github.com/tpope/vim-surround)
"               ysw"  ä½¿å…‰æ ‡æ‰€åœ¨å•è¯ä½¿ç”¨ " åŒ…è£¹, ä¸åŒ…æ‹¬å…‰æ ‡å‰çš„å­—ç¬¦.
"              ysiw"  å…‰æ ‡æ‰€åœ¨çš„å®Œæ•´å•è¯ä½¿ç”¨ " åŒ…è£¹, åŒ…æ‹¬å…‰æ ‡å‰çš„å­—ç¬¦.
"              ysiW"  ä»¥ç©ºæ ¼ä½œä¸ºåˆ†éš”ç¬¦æ¥ä½œä¸ºå•è¯, ç‰¹æ®Šç¬¦å·ä¹Ÿå¯ä»¥ä½œä¸ºå•è¯çš„ä¸€éƒ¨åˆ†äº†.
"              ys3w"  ä»¥å…‰æ ‡æ‰€åœ¨ä½ç½®ä¸ºèµ·å§‹ä½ç½®å‘å³çš„ 3 ä¸ªå•è¯ä½¿ç”¨ " åŒ…è£¹.
"               yss"  ä»¥å…‰æ ‡æ‰€åœ¨è¡Œä¸ºå•ä½åŒ…è£¹.
"                ds"  åˆ é™¤å…‰æ ‡å‘¨å›´çš„åŒå¼•å·.
"               cs"'  æŠŠå…‰æ ‡æ‰€åœ¨å‘¨å›´çš„åŒå¼•å·æ›¿æ¢ä¸ºå•å¼•å·.
"               cst'  å°†ç±»ä¼¼ <div>hello world</div> å˜ä¸º 'hello world'.
"
" ** mattn/emmet-vim (https://raw.githubusercontent.com/mattn/emmet-vim/master/TUTORIAL)
"           ctrl y ,  æ‰“å¼€ *.html æ–‡ä»¶:
"                     1) è¾“å…¥ html:5 ç„¶åæŒ‰æ­¤å¿«æ·é”®, å³å¯è‡ªåŠ¨ç”Ÿæˆ html ä»£ç æ¨¡ç‰ˆ.
"                     2) è¾“å…¥ div ç„¶åæŒ‰æ­¤å¿«æ·é”®, å³å¯è‡ªåŠ¨ç”Ÿæˆ: <div></div>
"                     3) è¾“å…¥ #foo ç„¶åæŒ‰æ­¤å¿«æ·é”®, å¯è‡ªåŠ¨ç”Ÿæˆ: <div id="foo"></div>
"                     4) è¾“å…¥ div>p>a , ç„¶åæŒ‰æ­¤å¿«æ·é”®, å¯è‡ªåŠ¨ç”Ÿæˆ:
"                        <div><p><a href=""></a></p></div>
"
" ** instant-markdown/vim-instant-markdown (https://github.com/instant-markdown/vim-instant-markdown)
"                 ,p  æ‰“å¼€æµè§ˆå™¨é¢„è§ˆå½“å‰çš„ markdown æ–‡ä»¶.
"                ,,p  å…³é—­é¢„è§ˆ.
"
" ** dhruvasagar/vim-table-mode (https://github.com/dhruvasagar/vim-table-mode)
"                ,tm  å¼€å¯æˆ–å…³é—­ table mode.
"                 ||  åœ¨ insert æ¨¡å¼ä¸‹, è¾“å…¥ || åæŒ‰ ESC æ¥å¼€å¯ table mode.
"                 __  åœ¨ insert æ¨¡å¼ä¸‹, è¾“å…¥ __ åæŒ‰ ESC æ¥å…³é—­ table mode.
"
" ** voldikss/vim-floaterm (https://github.com/voldikss/vim-floaterm)
"                 ,t  æ˜¾ç¤ºæˆ–éšè—æ‚¬æµ®ç»ˆç«¯çª—å£, å¦‚æœæ‚¬æµ®çª—å£è¿˜ä¸å­˜åœ¨åˆ™æ–°å»º.
"                ,tc  æ–°å»ºä¸€ä¸ªæ‚¬æµ®çª—å£.
"                ,tk  å…³é—­å½“å‰æ‚¬æµ®çª—å£.
"                ,tn  åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªæ‚¬æµ®çª—å£.
"                ,ts  æ˜¾ç¤ºç›®å‰å­˜åœ¨çš„æ‚¬æµ®çª—å£.
"
" ** rhysd/git-messenger.vim (https://github.com/rhysd/git-messenger.vim)
"                ,gm  å¼¹å‡ºçª—å£æ˜¾ç¤ºå…‰æ ‡ä¸‹ä»£ç çš„ commit ä¿¡æ¯.
"                o/O  å½“å…‰æ ‡åœ¨å¼¹å‡ºçš„çª—å£ä¸­æ—¶, å‘åæˆ–å‘å‰ç¿»é˜… commit å†å².
"                  ?  å½“å…‰æ ‡åœ¨å¼¹å‡ºçš„çª—å£ä¸­æ—¶, æŸ¥çœ‹å¯ç”¨æŒ‡ä»¤çš„å¸®åŠ©æ–‡æ¡£.
"                  q  å…³é—­å¼¹å‡ºçš„çª—å£.
"
" ** RRethy/vim-hexokinase (https://github.com/RRethy/vim-hexokinase)
"                ,ys  æ˜¾ç¤ºæˆ–ä¸æ˜¾ç¤ºé¢œè‰²æ ‡è¯†ç¬¦çš„é¢œè‰².
"
" ** vim-scripts/SyntaxAttr.vim (https://github.com/vim-scripts/SyntaxAttr.vim)
"                 ,a  æ˜¾ç¤ºå…‰æ ‡æ‰€åœ¨çš„è¯­æ³•é«˜äº®è¯¦æƒ…, ä¾¿äºè°ƒè¯•é…è‰²æ–¹æ¡ˆ.
"
" ** uguu-org/vim-matrix-screensaver (https://github.com/uguu-org/vim-matrix-screensaver)
"            :Matrix  åœ¨å½“å‰çª—å£å¯ç”¨ç±»ä¼¼é»‘å®¢å¸å›½çš„ Vim å±å¹•ä¿æŠ¤, æŒ‰ä»»æ„é”®é€€å‡ºå±ä¿.
"                 ,m  åŒä¸Š.
"
" ** matze/vim-move (https://github.com/matze/vim-move)
"
"   [n] ctrl k/j/h/l  normal æ¨¡å¼ä¸‹å°†å…‰æ ‡æ‰€åœ¨è¡Œå‘ä¸Š/å‘ä¸‹ç§»åŠ¨ n è¡Œ,
"                     æˆ–å°†å…‰æ ‡æ‰€åœ¨å­—ç¬¦å‘å·¦/å‘å³ç§»åŠ¨ n ä¸ªå­—ç¬¦;
"                     visual æ¨¡å¼ä¸‹å°†é€‰æ‹©çš„å†…å®¹å‘ä¸Š/å‘ä¸‹ç§»åŠ¨ n è¡Œ,
"                     æˆ–å°†é€‰æ‹©çš„å†…å®¹å—å‘å·¦/å‘å³ç§»åŠ¨ n ä¸ªå­—ç¬¦.
"
" ** AndrewRadev/splitjoin.vim (https://github.com/AndrewRadev/splitjoin.vim)
"                 gS  å°†å•è¡Œä»£ç æ‹†åˆ†æˆå¤šè¡Œ.
"                 gJ  å°†å¤šè¡Œä»£ç åˆå¹¶æˆå•è¡Œ.
"
" }}

"""""""""" å®ä¾‹ç»ƒä¹  {{
"
" ** å°† one two three four five six æ”¹ä¸º "one","two","four","five","six"
"                  ^  å…‰æ ‡ç§»åŠ¨åˆ°ç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦.
"           f<space>  å…‰æ ‡ç§»åŠ¨åˆ°ç¬¬ä¸€ä¸ªç©ºæ ¼.
"                 cl  åˆ é™¤ 1 ä¸ªç©ºæ ¼å¹¶è¿›å…¥åˆ° insert æ¨¡å¼,
"                     è¾“å…¥ "," ä¹‹åæŒ‰ ESC è¿›å…¥åˆ° normal æ¨¡å¼.
"                  ;  å…‰æ ‡è·³è½¬åˆ°ä¸‹ä¸€ä¸ªç©ºæ ¼.
"                  .  é‡å¤æ‰§è¡Œæ­¥éª¤ 3, ç„¶å ; å’Œ . é‡å¤å¤šæ¬¡ç›´åˆ°å°†æ‰€æœ‰ç©ºæ ¼éƒ½æ›¿æ¢æˆ ",".
"                  I  å°†å…‰æ ‡è·³è½¬åˆ°è¡Œé¦–å¹¶è¿›å…¥åˆ° insert æ¨¡å¼,
"                     è¾“å…¥ " ä¹‹åæŒ‰ ESC è¿›å…¥åˆ° normal æ¨¡å¼.
"                  A  å°†å…‰æ ‡è·³è½¬åˆ°è¡Œå°¾å¹¶è¿›å…¥åˆ° insert æ¨¡å¼,
"                     è¾“å…¥ " ä¹‹åæŒ‰ ESC è¿›å…¥åˆ° normal æ¨¡å¼.
"
" ** æŠŠæ–‡ä»¶å†…çš„æŸä¸ªè¿ç»­çš„è¡Œå°¾/æˆ–è¡Œé¦–åŠ ä¸Šé€—å·:
"             ctrl v  è¿›å…¥ visual block æ¨¡å¼, é€‰æ‹©è¦æ“ä½œçš„é‚£äº›è¿ç»­è¡Œ.
"                  $  ç§»åŠ¨åˆ°è¡Œå°¾.
"                I/A  è¿›å…¥ insert æ¨¡å¼, å…‰æ ‡åœ¨ è¡Œé¦–/è¡Œå°¾, è¾“å…¥è¦å¢åŠ çš„å­—ç¬¦ `,`.
"            ESC ESC  è¿ç»­æŒ‰ 2 æ¬¡ ESC å³å¯.
"
" ** å°†å¤šè¡Œåˆå¹¶æˆ 1 è¡Œ:
"         v/V/ctrl v  è¿›å…¥ visual æˆ– visual line æˆ– visual block æ¨¡å¼.
"                  J  åˆå¹¶æˆ 1 è¡Œ.
"
" ** æœ¬åœ°ç¼–è¾‘å™¨ä¹‹é—´çš„å¤åˆ¶å’Œç²˜è´´:
"       [n]yy / Y æˆ– v é€‰æ‹©æ–‡æœ¬ä½¿ç”¨ y å¤åˆ¶ç­‰å¤åˆ¶å‘½ä»¤éœ€è¦çš„æ–‡æœ¬å¯¹è±¡,
"       æ­¤æ—¶é»˜è®¤å·²å¤åˆ¶åˆ°æœ¬åœ°ç³»ç»Ÿå‰ªè´´æ¿,
"       å¯åœ¨æœ¬æ–‡ä»¶ã€å…¶ä»– Vim å®ä¾‹æ–‡ä»¶ normal æ¨¡å¼ä¸‹æŒ‰ p/P æ¥ç²˜è´´,
"       æˆ– insert æ¨¡å¼ä¸‹ command v ç²˜è´´,
"       æˆ–æ“ä½œç³»ç»Ÿä¸Šçš„ä»»ä½•æ–‡æœ¬æ¡†å†…è¿›è¡Œ command v ç²˜è´´.
"
" ** å®çš„ä½¿ç”¨æ–¹æ³•ä¸¾ä¾‹, æ¯”å¦‚ç»™æ–‡æœ¬çš„æ¯ä¸€è¡Œçš„è¡Œé¦–å’Œè¡Œå°¾éƒ½åŠ ä¸ŠåŒå¼•å·:
"       normal æ¨¡å¼ä¸‹æŒ‰ qa,  å…¶ä¸­ q æ˜¯å®æŒ‡ä»¤, è¡¨æ˜å¼€å§‹å½•åˆ¶å®, a ä¸ºå®çš„åç§°,
"       å¯ä»¥æ˜¯ a-z çš„ä»»ä½•å­—æ¯, ç„¶åæˆ‘ä»¬ç»™ä¸€è¡Œçš„è¡Œé¦–å’Œè¡Œå°¾éƒ½åŠ ä¸ŠåŒå¼•å·,
"       æœ€å normal æ¨¡å¼ä¸‹ q, è¡¨ç¤ºç»“æŸå®çš„å½•åˆ¶;
"       æ¥ä¸‹æ¥æˆ‘ä»¬æŠŠè¿™ä¸ªå® a è¿ç”¨åœ¨æ¯ä¸€è¡Œä¸Š, æˆ‘ä»¬é€‰æ‹©æ–‡æœ¬æ‰€æœ‰çš„è¡Œ,
"       ç„¶å command-line æ¨¡å¼ :normal @a,
"       æˆ–è€… :% normal @a, è¿™æ ·æ‰€æœ‰è¡Œå°±éƒ½å®ŒæˆåŒå¼•å·åŒ…è£¹äº†.
"
" }}

"""""""""" æ³¨æ„äº‹é¡¹ {{
"
"   1. python-mode/python-mode  å»ºè®®ä¸è¦ä½¿ç”¨è¿™ä¸ªæ’ä»¶, ä¸å¤ªå¥½ç”¨,
"      æ–‡æ¡£æ˜¾ç¤ºæ–¹å¼å¾ˆè¹©è„š, ä¼šå½±å“åˆ° coc-jedi çš„æ­£å¸¸å‘æŒ¥, coc-jedi è¶³çŸ£.
"
"   2. å¦‚ä¸‹ golines é…ç½®ä¸å»ºè®®ä½¿ç”¨, æœ‰æ—¶ä¼šä¸¥é‡æ‹–æ…¢ä¿å­˜æ–‡ä»¶çš„é€Ÿåº¦.
"      æ ¼å¼åŒ– Go ä»£ç æ¯è¡Œçš„é•¿åº¦, ä½¿ä¸è¶…è¿‡ 120 ä¸ªå­—ç¬¦:
"      let g:go_fmt_command = "golines"
"      let g:go_fmt_options = {
"        \  'golines': '-m 120',
"        \  }
"
"   3. ä¸è¦æ‹¿ <Esc> é”®åšå¿«æ·é”®æ˜ å°„, ä¼šæ‹–æ…¢ä» insert æ¨¡å¼åˆ‡æ¢åˆ° normal æ¨¡å¼çš„é€Ÿåº¦,
"      æŸ¥çœ‹ insert æ¨¡å¼ä¸‹å½“å‰æœ‰å“ªäº›å’Œ <Esc> æœ‰å…³çš„æ˜ å°„ :verbose imap <Esc>, ç»“æœå¦‚ä¸‹:
"      inoremap <Esc>b <S-Left>
"      inoremap <Esc>f <S-Right>
"
" }}

" }}
