" vimrc by @windvalley
" https://raw.githubusercontent.com/vimhack/dotfiles/master/vim/vimrc

" vim: set foldmarker={{,}} foldlevel=0 foldmethod=marker:
"
" æŸ¥çœ‹æŠ˜å å†…å®¹çš„æ–¹æ³•:
"    za: normal æ¨¡å¼ä¸‹æŒ‰ za, è¡¨ç¤ºå½“å…‰æ ‡åœ¨å…³é—­æŠ˜å ä¸Šæ—¶æ‰“å¼€ä¹‹, åœ¨æ‰“å¼€æŠ˜å ä¸Šæ—¶å…³é—­ä¹‹;
"        åœ¨æ‰“å¼€çš„æŠ˜å å†…éƒ¨ä»»æ„å¤„æŒ‰ za, ä¹Ÿä¼šå…³é—­æŠ˜å .
"    zA: æ˜¯ za çš„é€’å½’æ“ä½œ, æ˜¯é’ˆå¯¹åµŒå¥—æŠ˜å çš„åœºæ™¯.

" å®‰è£…æ­¥éª¤  Installation {{

" ä¸€. å®‰è£… Vim åŠä¾èµ–
"
"    1. macOS ç³»ç»Ÿ
"
"      1) ä¾èµ–å®‰è£…
"
"      # ç”¨äºç›®å½•æ ‘æ–‡ä»¶å›¾æ ‡æ˜¾ç¤ºçš„ä¾èµ–å®‰è£…
"      brew tap homebrew/cask-fonts && brew install font-hack-nerd-font
"
"      # å®‰è£…å…¶ä»–ä¾èµ–
"      brew install cmake python mono go nodejs yarn
"      brew install ctags rg
"
"      2) Vim
"
"      brew install macvim
"
"      3) Neovim
"
"      brew install neovim
"      pip3 install neovim
"
"    2. Linux ç³»ç»Ÿ
"
"      1) ä¾èµ–å®‰è£…
"
"      # ç”¨äºç›®å½•æ ‘æ–‡ä»¶å›¾æ ‡æ˜¾ç¤º
"      mkdir -p ~/.local/share/fonts
"      cd ~/.local/share/fonts && \
"         curl -fLo "Droid Sans Mono for Powerline Nerd Font Complete.otf" \
"         https://github.com/ryanoasis/nerd-fonts/raw/master/patched-fonts/DroidSansMono/complete/Droid%20Sans%20Mono%20Nerd%20Font%20Complete.otf
"
"      2) Vim
"
"      sudo yum -y remove vim-common vim-enhanced vim-filesystem
"      sudo yum -y install gcc-c++ make ncurses ncurses-devel python3 ctags git
"      sudo yum -y install epel-release && yum -y install golang
"
"      # https://www.mono-project.com/download/stable/#download-lin-centos
"      sudo yum -y install mono-devel
"      curl -fsSL https://rpm.nodesource.com/setup_15.x | bash -
"      sudo yum -y install nodejs  # node & npm
"      sudo yum -y install tcl-devel ruby ruby-devel lua lua-devel luajit luajit-devel \
"         python3 python3-devel perl perl-devel perl-ExtUtils-ParseXS perl-ExtUtils-XSpp \
"         perl-ExtUtils-CBuilder perl-ExtUtils-Embed
"
"      git clone https://github.com/vim/vim.git
"      cd vim
"      ./configure --with-features=huge --enable-multibyte --enable-python3interp \
"         --enable-rubyinterp --enable-perlinterp --enable-luainterp
"      make && sudo make install
"
"      3) Neovim
"
"      # https://github.com/neovim/neovim/releases
"      sudo yum install -y neovim python3 nodejs
"
" äºŒ. é…ç½®æ­¥éª¤
"
"    1. Vim
"
"      1) å¤‡ä»½åŸé…ç½®æ–‡ä»¶ ~/.vimrc
"         mv ~/.vimrc ~/.vimrc.$(date +%F_%T)

"      2) æ›¿æ¢ä½ çš„å½“å‰ ~/.vimrc æ–‡ä»¶
"         curl -sfLo ~/.vimrc https://raw.githubusercontent.com/vimhack/dotfiles/master/vim/vimrc
"         curl --create-dirs -sfLo ~/.vim/coc-settings.json https://raw.githubusercontent.com/vimhack/dotfiles/master/vim/coc-settings.json

"    2. Neovim
"
"      1) å¤‡ä»½åŸé…ç½®æ–‡ä»¶ ~/.config/nvim/init.vim
"         mv ~/.config/nvim/init.vim ~/.config/nvim/init.vim.$(date +%F_%T)
"
"      2) æ›¿æ¢ä½ çš„å½“å‰ ~/.config/nvim/init.vim æ–‡ä»¶
"         curl --create-dirs -sfLo ~/.config/nvim/init.vim https://raw.githubusercontent.com/vimhack/dotfiles/master/vim/vimrc
"         curl -sfLo ~/.config/nvim/coc-settings.json https://raw.githubusercontent.com/vimhack/dotfiles/master/vim/coc-settings.json
"
" ä¸‰. æ³¨æ„äº‹é¡¹
"
"    * Vim ç‰ˆæœ¬è¦æ±‚åœ¨ 8.2+, å¯é€šè¿‡ vim --version æŸ¥çœ‹.
"    * Neovim ç‰ˆæœ¬è¦æ±‚åœ¨ 0.4.0+, å¯é€šè¿‡ nvim --version æŸ¥çœ‹.
"    * å¯¹äº Vim, ä¸ºäº†æ”¯æŒ python3 å’Œå¤åˆ¶ç²˜è´´çš„ä¾¿åˆ©, éœ€è¦ Vim æ”¯æŒ python3 å’Œ clipboard,
"      å¯é€šè¿‡`vim --version|grep -Eo '\+python3|\+clipboard'`æŸ¥çœ‹æ˜¯å¦æœ‰ç›¸å…³è¾“å‡º,
"      æ²¡æœ‰çš„è¯è¯·é‡æ–°ç¼–è¯‘å®‰è£….
"    * æœ¬é…ç½®æ–‡ä»¶é»˜è®¤é›†æˆäº† Go å¼€å‘æ’ä»¶ vim-go, éœ€è¦ç³»ç»Ÿå·²ç»æœ‰ Go ç¯å¢ƒ.
"    * macOS å’Œ Linux ç³»ç»Ÿå¯æ­£å¸¸ä½¿ç”¨, Windows ç³»ç»Ÿæœªæµ‹è¯•.
"    * æŒ‰é…ç½®æ­¥éª¤é…ç½®å®Œæˆå, ç¬¬ä¸€æ¬¡æ‰“å¼€ vim æˆ– nvim ä¼šè‡ªåŠ¨å®‰è£…æ’ä»¶ç®¡ç†å·¥å…·ä»¥åŠé…ç½®çš„ä¼—å¤šæ’ä»¶,
"      å®‰è£…å®Œæˆå, é‡æ–°æ‰“å¼€ vim/nvim å³å¯.
"    * Vim å’Œ Neovim å¯åŒæ—¶å®‰è£…åœ¨æ“ä½œç³»ç»Ÿä¸­, å…±äº« ~/.vim/ ç›®å½•ä¸‹çš„æ’ä»¶.

" }}

" åŸºç¡€ç¯å¢ƒ  Basic Configuration {{

" å…³é—­å…¼å®¹æ¨¡å¼, ä¹Ÿå°±æ˜¯ä¸å†å…¼å®¹ VI, å¿…éœ€æ”¾åœ¨ç¬¬ä¸€è¡Œ.
set nocompatible

" è®¾ç½® Vim å†…éƒ¨ä½¿ç”¨çš„å­—ç¬¦ç¼–ç , é»˜è®¤å€¼ latin1 æˆ–è€…æ“ä½œç³»ç»Ÿ $LANG ç¯å¢ƒå˜é‡å¯¹åº”çš„ç¼–ç .
set encoding=utf-8
set fileencodings=utf8,ucs-bom,utf-8,cp936,latin1

" Vim ä¿å­˜å¤šå°‘ä¸ªå†å²å‘½ä»¤, ä¸€èˆ¬ä¿å­˜åœ¨ ~/.viminfo éšè—æ–‡ä»¶ä¸­.
set history=1000

" å¦‚æœè¿‡äº†è¿™ä¹ˆå¤šæ¯«ç§’æ•°ä»¥åè¿˜æ²¡æœ‰ä»»ä½•è¾“å…¥, åˆ™æŠŠäº¤æ¢æ–‡ä»¶å†™å…¥ç£ç›˜,
" ä¹Ÿç”¨äº CursorHold è‡ªåŠ¨å‘½ä»¤äº‹ä»¶.
" é»˜è®¤å€¼: 4000(æ¯«ç§’)
set updatetime=100

" æ‰“å¼€æ–‡ä»¶ç±»å‹æ£€æµ‹, å…è®¸æ’ä»¶æ–‡ä»¶è½½å…¥, å…è®¸ç¼©è¿›æ–‡ä»¶è½½å…¥.
filetype plugin indent on

" é‡æ–°è®¾ç½® leader é”®, å³ä¸€äº›è‡ªå®šä¹‰å‘½ä»¤çš„å‰ç¼€, é»˜è®¤å€¼: '\'
let mapleader = ','

" }}

" æ’ä»¶å®‰è£…  Plugins Installation {{

" vim-plug å®‰è£…ä¸é…ç½® {{
" doc: https://github.com/junegunn/vim-plug

" è‡ªåŠ¨å®‰è£…ç”¨äºç®¡ç† Vim/Neovim ä¼—å¤šæ’ä»¶çš„æ’ä»¶: vim-plug
if has('nvim')
  if !filereadable(expand('~/.config/nvim/autoload/plug.vim'))
    " å®‰è£…å®Œ vim-plug æ’ä»¶å, è‡ªåŠ¨æ¸…é™¤ä¸‹é¢çš„ echo ä¿¡æ¯.
    set shortmess=aO

    echo "Downloading 'junegunn/vim-plug' to ~/.config/nvim/autoload/ for managing plugins,
      \ please wait..."

    silent !curl -sfLo ~/.config/nvim/autoload/plug.vim --create-dirs
      \ https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
  endif
else
  if !filereadable(expand('~/.vim/autoload/plug.vim'))
    " NOTE: å’Œå¦‚ä¸Š Neovim ä¸ä¸€æ ·, Vim è¿™é‡Œä¸èƒ½ç›´æ¥ä½¿ç”¨ echo "",
    "   éœ€è¦ä½¿ç”¨ silent !echo "" çš„æ–¹å¼, å¦åˆ™ä¼šæç¤ºå¦‚ä¸‹äº¤äº’ä¿¡æ¯:
    "   'Press ENTER or type command to continue'
    silent !echo "Downloading 'junegunn/vim-plug' to ~/.vim/autoload/ for managing plugins,
      \ please wait..."

    silent !curl -sfLo ~/.vim/autoload/plug.vim --create-dirs
      \ https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
  endif
endif

" å¯åŠ¨ Vim/Neovim æ—¶å¦‚æœå‘ç°æœ‰é…ç½®äº†ä½†è¿˜æœªå®‰è£…çš„æ’ä»¶, åˆ™è‡ªåŠ¨å®‰è£….
autocmd VimEnter *
  \  if len(filter(values(g:plugs), '!isdirectory(v:val.dir)'))
  \|   PlugInstall --sync | q
  \| endif

" æä¾›è§£é™¤æœ¬é…ç½®æ–‡ä»¶ä¸­é…ç½®çš„é»˜è®¤æ’ä»¶çš„æŒ‡ä»¤, ä½¿ç”¨æ–¹æ³•:
" åœ¨ $HOME/.vimrc.plugins.local ä¸­ä½¿ç”¨ UnPlug 'PluginRepoName'
function! s:plugRemove(plugin_repo)
  let plugin_repo = substitute(a:plugin_repo, '[\/]\+$', '', '')
  let plugin_name = fnamemodify(plugin_repo, ':t:s?\.git$??')
  call remove(g:plugs, plugin_name)
endfunction
command! -nargs=1 -bar UnPlug call s:plugRemove(<args>)

" }}

" å¼€å§‹å®‰è£… Vim/Neovim çš„ä¼—å¤šæ’ä»¶,
" å¯é€šè¿‡ command-line æ¨¡å¼ :help æ’ä»¶åç§° æ¥æŸ¥çœ‹ç›¸å…³æ’ä»¶çš„å¸®åŠ©æ–‡æ¡£.
" NOTE: å¦‚æœæ²¡æœ‰ç‰¹åˆ«è¯´æ˜, å¦‚ä¸‹æ‰€æœ‰æ’ä»¶å¯¹ Vim å’Œ Neovim å‡æ”¯æŒ.
call plug#begin('~/.vim/plugged')

" é¢œè‰²ä¸»é¢˜  Colorschemes {{

" gruvbox
Plug 'morhetz/gruvbox'

" dracula
Plug 'dracula/vim', { 'as': 'dracula' }

" one: from Atom theme
Plug 'rakr/vim-one'

" iceberg
Plug 'cocopon/iceberg.vim'

" jellybeans
Plug 'nanotech/jellybeans.vim'

" base16-default-dark
Plug 'chriskempson/base16-vim'

" nord
Plug 'arcticicestudio/nord-vim'

" papercolor
Plug 'NLKNguyen/papercolor-theme'

" ayu
Plug 'ayu-theme/ayu-vim'

" tender
Plug 'jacoborus/tender.vim'

" rigel
Plug 'Rigellute/rigel'

" onehalf
Plug 'sonph/onehalf', { 'rtp': 'vim' }

" molokai
" è¯¥ç‰ˆæœ¬è§£å†³äº†è®¾ç½®é€æ˜èƒŒæ™¯è‰²æ—¶, å¯¹äº Vim éƒ¨åˆ†å…³é”®å­—èƒŒæ™¯é¢œè‰²æ²¡æœ‰å˜é€æ˜çš„é—®é¢˜,
" Neovim ä¸å­˜åœ¨æ­¤é—®é¢˜.
Plug 'vimhack/molokai'

" monokai
Plug 'sickill/vim-monokai'

" vadelma
Plug 'severij/vadelma'

" pencil
Plug 'preservim/vim-colors-pencil'

" github
Plug 'cormacrelf/vim-colors-github'

" srcery
Plug 'srcery-colors/srcery-vim'

" solarized
Plug 'lifepillar/vim-solarized8'

" spring-night
Plug 'rhysd/vim-color-spring-night'

" primary
Plug 'google/vim-colorscheme-primary'

" embark
Plug 'embark-theme/vim', { 'as': 'embark' }

" no color: off
Plug 'pbrisbin/vim-colors-off'

" }}

" ä»£ç è¡¥å…¨  Code AutoCompletion {{

" é€Ÿåº¦æ›´å¿«, ä½“éªŒæ›´ä¼˜ä¸”æ”¯æŒæ›´å¤šç¼–ç¨‹è¯­è¨€çš„ä»£ç è¡¥å…¨å¹³å°.
Plug 'neoclide/coc.nvim', {'branch': 'release'}

" ä¸º coc-ultisnips æä¾›ä»£ç ç‰‡æ®µæº.
Plug 'SirVer/ultisnips'

" ä¸º coc-snippets æä¾›ä»£ç ç‰‡æ®µæº.
Plug 'honza/vim-snippets'

" ä¸º viml è„šæœ¬è¯­è¨€æä¾›è¡¥å…¨æ”¯æŒ.
Plug 'Shougo/neco-vim'
Plug 'neoclide/coc-neco'

" è‡ªåŠ¨è¡¥å…¨å¼•å·(å•å¼•å·/åŒå¼•å·/åå¼•å·)ã€æ‹¬å·(å°æ‹¬å·/ä¸­æ‹¬å·/å¤§æ‹¬å·)çš„æ’ä»¶.
Plug 'Raimondi/delimitMate'

" è‘—åçš„ AI è¡¥å…¨æ’ä»¶ copilot(å·²æ”¶è´¹).
" doc: https://copilot.github.com, https://docs.github.com/en/copilot/getting-started-with-github-copilot?tool=neovim
" Start Neovim and invoke :Copilot setup
" NOTE: 1. é¦–æ¬¡å®‰è£…éœ€è¦ç­‰å¾…å®˜æ–¹æˆæƒæ‰èƒ½ä½¿ç”¨.
" 2. åªæ”¯æŒ neovim 0.6+ ç‰ˆæœ¬.
" 3. æ²¡æœ‰ä»»ä½•è¡¥å…¨æç¤ºçš„åŸå› æ’æŸ¥:
"    :help Copilot
"    :Copilot status
"    :Copilot log
" 4. æ›´æ–°æ­¤æ’ä»¶, å¯è§£å†³éƒ¨åˆ†é—®é¢˜:
"    :PlugUpdate copilot.vim
" 5. é‡æ–°å®‰è£…æ­¤æ’ä»¶å¯è§£å†³å¤§éƒ¨åˆ†é—®é¢˜, æ–¹æ³•:
"    å…ˆæ³¨é‡Šæ­¤è¡Œ, é‡æ–°æ‰“å¼€æ­¤æ–‡ä»¶, æ‰§è¡Œ :PlugClean è¿›è¡Œå¸è½½;
"    å†å–æ¶ˆæ³¨é‡Š, æ‰§è¡Œ :PlugInstall è¿›è¡Œå®‰è£….
" Plug 'github/copilot.vim'

" ä¸ªäººå…è´¹çš„AIè¡¥å…¨æ’ä»¶, å¯æ›¿ä»£copilot.
" doc: https://github.com/Exafunction/codeium.vim
" NOTE: 1. Run `:Codeium Auth` to set up the plugin and start using Codeium;
" 2. Run `:help codeium` for a full list of commands and configuration options.
Plug 'Exafunction/codeium.vim'

" }}

" ä»£ç æ£€æŸ¥  Code Static Check {{

" ä»£ç é™æ€æ£€æŸ¥ä¸è‡ªåŠ¨ä¿®å¤æ’ä»¶: ALE(Asynchronous Lint Engine)
Plug 'dense-analysis/ale'

" }}

" ä»£ç è°ƒè¯•  Code Debug {{

" ä»£ç  debug æ’ä»¶
Plug 'puremourning/vimspector', {'do': './install_gadget.py
  \ --enable-c
  \ --enable-rust
  \ --enable-go
  \ --enable-python
  \ --enable-lua
  \ --enable-bash
  \ '}

" }}

" ç¼–ç¨‹è¯­è¨€  Programming Languages {{

" ä¸ºå‡ ä¹æ‰€æœ‰è¯­è¨€æä¾›è¯­æ³•é«˜äº®æ”¯æŒ.
Plug 'sheerun/vim-polyglot'

"""""""" Go
" æ­å»º Go å¼€å‘ç¯å¢ƒçš„ Vim æ’ä»¶, å®‰è£…è¯¥æ’ä»¶çš„è¿‡ç¨‹ä¸­,
" ä¼šè‡ªåŠ¨å®‰è£…è¯¥æ’ä»¶ä¾èµ–çš„å¤§é‡ Go äºŒè¿›åˆ¶å·¥å…·;
" å¦‚æœç”±äº Go ç¯å¢ƒç­‰é—®é¢˜å¯¼è‡´è‡ªåŠ¨å®‰è£…å¤±è´¥,
" å¯åç»­é€šè¿‡ command-line æ¨¡å¼å®‰è£… `:GoInstallBinaries`.
Plug 'fatih/vim-go', { 'do': ':GoUpdateBinaries' }

" è‡ªåŠ¨ä¸º Go ç”Ÿæˆå•å…ƒæµ‹è¯•ç”¨ä¾‹æ¨¡ç‰ˆä»£ç .
" éœ€æå‰å®‰è£… gotests å·¥å…·:
"   go get -u github.com/cweill/gotests/...
Plug 'buoto/gotests-vim'

"""""""" Rust
" https://github.com/rust-lang/rust.vim
Plug 'rust-lang/rust.vim'

" å¸®åŠ©åˆ†æå½“å‰é¡¹ç›®çš„ä¾èµ–æ˜¯å¦æ˜¯æœ€æ–°çš„ç‰ˆæœ¬, ä»…æ”¯æŒ Neovim.
Plug 'mhinz/vim-crates'

"""""""" openresty
" æä¾› nginx/openresty è¯­æ³•é«˜äº®ä¸æŒ‡ä»¤è¡¥å…¨.
Plug 'spacewander/openresty-vim'

"""""""" javascript/html/css/vue/json
" å‰ç«¯åˆ©å™¨ html/css/js
Plug 'mattn/emmet-vim'

" é«˜äº® jsonc ç±»å‹æ–‡ä»¶, æœ‰æ­¤æ’ä»¶å°±å¯ä»¥å¯¹ json è¿›è¡Œæ³¨é‡Šäº†.
Plug 'neoclide/jsonc.vim'

"""""""" markdown
" é€šè¿‡æµè§ˆå™¨å®æ—¶é¢„è§ˆ Markdown æ–‡æœ¬çš„æ’ä»¶.
Plug 'instant-markdown/vim-instant-markdown', {'for': 'markdown', 'do': 'yarn install'}

" åœ¨ markdown ä¸­é«˜æ•ˆç¼–è¾‘è¡¨æ ¼.
Plug 'dhruvasagar/vim-table-mode'

"""""""" toml
" toml è¯­æ³•é«˜äº®æ’ä»¶.
Plug 'cespare/vim-toml'

" }}

" å…‰æ ‡ç§»åŠ¨  Cursor Movement {{

" å…‰æ ‡é«˜æ•ˆè·³è½¬æ’ä»¶.
Plug 'easymotion/vim-easymotion'

" }}

" æ–‡æœ¬ç¼–è¾‘  Text Editing {{

" å¤šå…‰æ ‡æ‰¹é‡æ“ä½œæ–‡æœ¬å¯¹è±¡æ’ä»¶.
Plug 'mg979/vim-visual-multi', {'branch': 'master'}

" ä»£ç æ³¨é‡Šæ’ä»¶.
Plug 'tpope/vim-commentary'
" è§£å†³ç±»ä¼¼vueæ–‡ä»¶ä¸­å­˜åœ¨å¤šç§è¯­è¨€åœºæ™¯çš„æ³¨é‡Šé—®é¢˜.
Plug 'suy/vim-context-commentstring'

" ä½¿ç”¨æŒ‡å®šç¬¦å·åŒ…å›´å…‰æ ‡æ‰€åœ¨å•è¯, æ¯”å¦‚:
" ys2w"  è¡¨ç¤ºä»å…‰æ ‡ä½ç½®å¼€å§‹çš„ 2 ä¸ªå•è¯ä½¿ç”¨åŒå¼•å·åŒ…å›´.
"   ds"  normal æ¨¡å¼ä¸‹åˆ é™¤å…‰æ ‡å‘¨å›´çš„åŒå¼•å·.
"  cs"'  normal æ¨¡å¼ä¸‹æŠŠå…‰æ ‡æ‰€åœ¨å‘¨å›´çš„åŒå¼•å·æ›¿æ¢ä¸ºå•å¼•å·.
Plug 'tpope/vim-surround'

" normal æ¨¡å¼ä¸‹ç§»åŠ¨å…‰æ ‡æ‰€åœ¨è¡Œ, visual æ¨¡å¼ä¸‹ç§»åŠ¨é€‰æ‹©çš„è¡Œ.
Plug 'matze/vim-move'

" å°†ä»£ç ä»å¤šè¡Œè½¬æ¢ä¸ºå•è¡Œæˆ–å°†å•è¡Œè½¬æ¢ä¸ºå¤šè¡Œ.
Plug 'AndrewRadev/splitjoin.vim'

" }}

" æ–‡ä»¶æµè§ˆ  File Navigation {{

" ç›®å½•æ ‘çª—å£æ’ä»¶.
Plug 'preservim/nerdtree'

" å¿«é€Ÿæ‰“å¼€æƒ³è¦çš„æ–‡ä»¶, ç±»ä¼¼grepæœç´¢æ–‡ä»¶å†…å®¹ç­‰, æ›¿ä»£ctrlpæ’ä»¶.
Plug 'Yggdroot/LeaderF', { 'do': ':LeaderfInstallCExtension' }
Plug 'junegunn/fzf', { 'do': { -> fzf#install() } }
Plug 'junegunn/fzf.vim'

" é›†æˆ ranger æ–‡ä»¶ç®¡ç†å™¨.
Plug 'francoiscabrol/ranger.vim'

" }}

" Gitç›¸å…³  Git Related {{

" ä½¿ç›®å½•æ ‘æ”¯æŒ git çš„æ’ä»¶.
Plug 'Xuyuanp/nerdtree-git-plugin'

" æ·±åº¦é›†æˆ git çš„æ’ä»¶.
Plug 'tpope/vim-fugitive'

" git å†å²ç‰ˆæœ¬çš„æµè§ˆæ’ä»¶, è¯¥æ’ä»¶ä¾èµ– vim-fugitive æ’ä»¶.
Plug 'junegunn/gv.vim'

" æ˜¾ç¤ºå…‰æ ‡æ‰€åœ¨å†…å®¹çš„ git commit ä¿¡æ¯, æ–¹ä¾¿äº†è§£ä»£ç èƒŒæ™¯.
Plug 'rhysd/git-messenger.vim'

" }}

" ç”¨æˆ·æ¥å£  User Interface {{

" æä¾›å¼€å§‹ç•Œé¢.
" The fancy start screen for Vim.
Plug 'mhinz/vim-startify'

" ä¸ºæ­£åœ¨ç¼–è¾‘çš„æ–‡ä»¶ç”Ÿæˆå¤§çº²è§†å›¾, åŒ…æ‹¬æ¥å£/æ–¹æ³•/å˜é‡ç­‰,
" å¯é€‰ä¸­å¿«é€Ÿè·³è½¬, é€‚åˆå•ä¸ªæ–‡ä»¶ä»£ç è¾ƒå¤šçš„åœºæ™¯.
" éœ€è¦å…ˆåœ¨ç³»ç»Ÿå‘½ä»¤è¡Œå®‰è£… ctags, æ¯”å¦‚å¦‚æœæ˜¯ macOS ç³»ç»Ÿ, åˆ™: brew install ctags
Plug 'majutsushi/tagbar'

" ç¾åŒ–çŠ¶æ€æ æ’ä»¶.
Plug 'vimhack/lightline.vim'

" ä¸º lightline æ’ä»¶æä¾›æ˜¾ç¤º ale æ£€æŸ¥å‡ºæ¥çš„é”™è¯¯æˆ–è­¦å‘Šçš„ç»Ÿè®¡ä¿¡æ¯;
" å¦å¤–å®‰è£…æ­¤æ’ä»¶å¯ä»¥è§£å†³ vim æ‰“å¼€æ–‡ä»¶åŒæ—¶æ˜¾ç¤ºç›®å½•æ ‘çª—å£çš„åœºæ™¯æ—¶,
" æ— æ³•æ­£å¸¸åŠ è½½ lightline çŠ¶æ€æ çš„é—®é¢˜.
Plug 'maximbaz/lightline-ale'

" å½©è™¹æ‹¬å·æ’ä»¶, å±‚çº§è¾ƒå¤šçš„æ‹¬å·åœºæ™¯ä½¿ç”¨ä¸åŒé¢œè‰²åŒºåˆ†.
Plug 'luochen1990/rainbow'

" æ‚¬æµ®ç»ˆç«¯æ’ä»¶.
Plug 'voldikss/vim-floaterm'

" æµè§ˆæºä»£ç æ—¶, è¿›è¡Œä¸Šä¸‹æ–‡æç¤º, ä½¿èƒ½æŒæ¡å½“å‰ä»£ç æ‰€å±ä½ç½®.
Plug 'wellle/context.vim'

" æ˜¾ç¤ºç¼©è¿›çº¿æ’ä»¶.
Plug 'Yggdroot/indentLine'

" ä¸ºè¡Œå†…è·³è½¬æŒ‡ä»¤ f F t T æä¾›é«˜äº®å­—ç¬¦æ˜¾ç¤º.
Plug 'unblevable/quick-scope'

" å¤åˆ¶æ–‡æœ¬å¯¹è±¡çš„æ—¶å€™, é«˜äº®æ˜¾ç¤ºå¤åˆ¶çš„æ–‡æœ¬å¯¹è±¡.
Plug 'machakann/vim-highlightedyank'

" Vim å±ä¿ Matrix.
Plug 'uguu-org/vim-matrix-screensaver'

" åœ¨æ–‡ä»¶å†…ç›´æ¥æ˜¾ç¤ºé¢œè‰²ä»£ç æ‰€è¡¨ç¤ºçš„é¢œè‰².
" NOTE: è¯¥æ’ä»¶éœ€è¦æ“ä½œç³»ç»Ÿæœ‰ Go ç¯å¢ƒ.
Plug 'rrethy/vim-hexokinase', { 'do': 'make hexokinase' }

" ä¸ºç›®å½•æ ‘ã€LeaderFã€rangerã€vim-startify ç­‰æ’ä»¶æ˜¾ç¤ºæ–‡ä»¶ç±»å‹.
" NOTE: 1) éœ€å®‰è£… nerd-fonts, å¹¶è®¾ç½®ç»ˆç«¯æ¨¡æ‹Ÿå™¨çš„å­—ä½“ä¸ºç›¸å…³å­—ä½“.
" # doc: https://github.com/ryanoasis/nerd-fonts#font-installation
" 2) æ­¤æ’ä»¶è¦å®‰è£…åœ¨ç›®å½•æ ‘ã€LeaderF ç­‰æ’ä»¶çš„åé¢.
Plug 'ryanoasis/vim-devicons'

" åœ¨ vim-devicons æ’ä»¶çš„åŸºç¡€ä¸Š, æ ¹æ®æ–‡ä»¶ç±»å‹çš„ä¸åŒ, æ”¹å˜å›¾æ ‡çš„é¢œè‰².
Plug 'tiagofumo/vim-nerdtree-syntax-highlight'

" }}

" å…¶ä»–  Others  {{

" å¼‚æ­¥ä»»åŠ¡æ’ä»¶.
Plug 'skywind3000/asynctasks.vim'
Plug 'skywind3000/asyncrun.vim'

" å¯¹ Vim ä¸»é¢˜é…è‰²æ–¹æ¡ˆè¿›è¡Œè°ƒæ•´æ—¶, å¯ä½¿ç”¨æ­¤å·¥å…·è·å–å…‰æ ‡ä¸‹æ ‡è¯†ç¬¦å½“å‰é…è‰²æ–¹æ¡ˆçš„è¯¦ç»†ä¿¡æ¯.
Plug 'vim-scripts/SyntaxAttr.vim'

" æ—¥å†æ’ä»¶.
Plug 'itchyny/calendar.vim'

" åœ¨ .tmux.conf ä¸­ç›´æ¥é€šè¿‡ K æŸ¥çœ‹ tmux æ–‡æ¡£ç­‰åŠŸèƒ½.
Plug 'tmux-plugins/vim-tmux'

" Vim ä»èœé¸Ÿåˆ°é«˜æ‰‹ä¹‹è·¯å¿…å¤‡, ç¦æ­¢è¿ç»­æŒ‰ jkhl ç­‰ä½æ•ˆæ“ä½œ,
" å¼ºåˆ¶ä½ æ ¹æ®ä¸åŒåœºæ™¯æ¥æ€è€ƒä½¿ç”¨æ›´é«˜æ•ˆçš„å‘½ä»¤çš„ä¹ æƒ¯.
Plug 'takac/vim-hardtime'

" Vim ä½œè€… Bram å†™çš„ä¸€ä¸ªå°æ¸¸æˆ, ç”¨äºæ¼”ç¤º Vim8.2 çš„å‡ ä¸ªæ–°åŠŸèƒ½.
" NOTE: :Kill å¯åŠ¨æ¸¸æˆ, æŒ‰è¯´æ˜ç©æ—¢å¯, åªæ”¯æŒ Vim8.2+, ä¸æ”¯æŒ Neovim.
Plug 'vim/killersheep'

" }}

" åŠ è½½è‡ªå®šä¹‰æ’ä»¶çš„é…ç½®æ–‡ä»¶.
let vimrc_plugins_local = $HOME . '/.vimrc.plugins.local'
if filereadable(expand(vimrc_plugins_local))
  exec 'source' vimrc_plugins_local
endif

" æœ€å command-line æ¨¡å¼ä¸‹æ‰§è¡Œ :PlugInstall è‡ªåŠ¨å®‰è£…ä¸Šé¢æœªå®‰è£…çš„æ’ä»¶, å…¶ä»–å¸¸ç”¨å‘½ä»¤:
"    :PlugStatus   æŸ¥çœ‹å½“å‰çŠ¶æ€, å®‰è£…è¿›åº¦ç­‰;
"    :PlugUpdate   æ›´æ–°æ‰€æœ‰æ’ä»¶, å»ºè®®å®šæœŸæ›´æ–°æ‰€æœ‰æ’ä»¶;
"    :PlugClean    å¸è½½æ’ä»¶, éœ€è¦å…ˆåœ¨ä¸Šé¢æ³¨é‡Šæ‰æˆ–åˆ é™¤ç›¸å…³æ’ä»¶,
"                  ç„¶åé‡æ–°æ‰“å¼€æ­¤æ–‡ä»¶æˆ– normal æ¨¡å¼ä¸‹æŒ‰ ,R æ‰§è¡Œæ­¤å‘½ä»¤;
"    :PlugUpgrade  æ›´æ–° vim-plug æœ¬èº«.
call plug#end()

" }}

" çŠ¶æ€æ å®šåˆ¶  Statusline&Tabline Customization {{

"""""" itchyny/lightline.vim
" doc: https://github.com/itchyny/lightline.vim

if &rtp =~ '/lightline.vim'
  " æœ¬é€‰é¡¹çš„å€¼å½±å“æœ€åä¸€ä¸ªçª—å£ä½•æ—¶æœ‰çŠ¶æ€è¡Œ:
  "     0: æ°¸ä¸
  "     1: åªæœ‰åœ¨æœ‰è‡³å°‘ä¸¤ä¸ªçª—å£æ—¶
  "     2: æ€»æ˜¯
  " é»˜è®¤å€¼: 1, ä¸ºäº†å•çª—å£ä¹Ÿå¯ä»¥æ˜¾ç¤ºçŠ¶æ€æ , æ­¤å¤„è®¾ç½®ä¸º2.
  set laststatus=2

  " æŒ‡å®šä½•æ—¶æ˜¾ç¤ºé¡µé¢æ ‡ç­¾, é»˜è®¤å€¼: 1
  "   0: æ°¸è¿œä¸ä¼š
  "   1: è‡³å°‘æœ‰ä¸¤ä¸ªæ ‡ç­¾é¡µæ—¶æ‰ä¼š
  "   2: æ°¸è¿œä¼š
  set showtabline=1

  " ç”±äºæ­¤æ’ä»¶å·²ç»å¸®æˆ‘ä»¬ç¾åŒ–æ˜¾ç¤ºäº†å½“å‰çš„ Vim æ¨¡å¼, æ‰€ä»¥ Vim è‡ªå¸¦çš„æ¨¡å¼æ˜¾ç¤ºå¯ä»¥å»é™¤.
  set noshowmode

  let g:lightline = {}
endif

"""""" 'maximbaz/lightline-ale'
" doc: https://github.com/maximbaz/lightline-ale

if &rtp =~ '/lightline-ale,'
  " ç¾åŒ–é”™è¯¯ä¸è­¦å‘Šç­‰ä¿¡æ¯çš„æ˜¾ç¤ºå›¾æ ‡.
  let g:lightline#ale#indicator_checking = "\uf110"
  let g:lightline#ale#indicator_ok = "\uf00c"

  " ä»¥ä¸‹ä¸‰æ¡æŒ‡ä»¤çš„å­—ç¬¦ä¸²å€¼ç»“å°¾å¤šä¸€ä¸ªç©ºæ ¼, ç”¨æ¥è§£å†³å›¾æ ‡å’Œæ•°å­—é‡å çš„é—®é¢˜.
  let g:lightline#ale#indicator_infos = "\uf129 "
  let g:lightline#ale#indicator_warnings = "\uf071 "
  let g:lightline#ale#indicator_errors = "\uf05e "

  let g:lightline.component_expand = {
    \  'linter_checking': 'lightline#ale#checking',
    \  'linter_infos': 'lightline#ale#infos',
    \  'linter_warnings': 'lightline#ale#warnings',
    \  'linter_errors': 'lightline#ale#errors',
    \  'linter_ok': 'lightline#ale#ok',
    \ }

  let g:lightline.component_type = {
    \  'linter_checking': 'right',
    \  'linter_infos': 'right',
    \  'linter_warnings': 'warning',
    \  'linter_errors': 'error',
    \  'linter_ok': 'right',
    \ }

  " å·²ä» left ä¸­å»é™¤ cocstatus, å¯é€‰æ‹©æ€§åŠ å…¥.
  let g:lightline.active = {
    \  'left': [ [ 'mode', 'paste' ],
    \            [ 'git', 'bgit', 'method', 'readonly', 'filename', 'modified' ],
    \            [ 'codeium' ],
    \  ],
    \  'right': [ [ 'lineinfo' ],
    \             [ 'percent' ],
    \             [ 'fileformat', 'fileencoding', 'filetype' ],
    \             [ 'linter_checking', 'linter_errors', 'linter_warnings',
    \               'linter_infos', 'linter_ok' ],
    \             [ 'blame' ],
    \  ],
    \ }

  let g:lightline.component_function = {
    \  'cocstatus': 'coc#status',
    \  'git': 'LightlineGitStatus',
    \  'bgit': 'LightlineBufferGitStatus',
    \  'blame': 'LightlineGitBlame',
    \  'codeium': 'codeium#GetStatusString',
    \ }

  " å¦‚æœçŠ¶æ€æ å†…å®¹è¿‡å¤š, ä»å³ä¾§ç æ‰éƒ¨åˆ†å†…å®¹.
  let g:lightline.component = {
    \  'lineinfo': '%3l:%-2v%<',
    \ }

  " doc: https://github.com/neoclide/coc-git
  "   *  è¡¨ç¤º git ä»“åº“å†…å®¹æœ‰å˜æ›´;
  "   x  è¡¨ç¤º git ä»“åº“å†…å®¹æœ‰å†²çª;
  "   â—  è¡¨ç¤º git æ–°å¢æˆ–å˜åŒ–å†…å®¹å·²ç»æäº¤åˆ°æš‚å­˜åŒº;
  "   â€¦  è¡¨ç¤º git ä»“åº“å†…æœ‰æœªè·Ÿè¸ªçš„æ–°æ–‡ä»¶;
  "   ä»¥ä¸Šç¬¦å·å¯åŒæ—¶åœ¨åˆ†æ”¯åæ˜¾ç¤º, å¦‚æœåˆ†æ”¯åç§°åæ²¡æœ‰ä»»ä½•ä¸Šè¿°ç¬¦å·, è¯´æ˜åˆ†æ”¯æ˜¯å¹²å‡€çš„.
  function! LightlineGitStatus() abort
    let gstatus = get(g:, 'coc_git_status', '')
    return gstatus
  endfunction

  function! LightlineBufferGitStatus() abort
    let gbstatus = get(b:, 'coc_git_status', '')
    return gbstatus
  endfunction

  function! LightlineGitBlame() abort
    let blame = get(b:, 'coc_git_blame', '')

    " çª—å£å®½åº¦å¤§äº120æ—¶, çŠ¶æ€æ æ‰æ˜¾ç¤º git blame ä¿¡æ¯.
    return winwidth(0) > 120 ? blame : ''
  endfunction
endif

"""""" çŠ¶æ€æ å’Œæ ‡ç­¾é¡µæ çš„ä½¿ç”¨å›¾æ ‡è¿›è¡Œç¾åŒ–

" åœ¨çŠ¶æ€æ æ·»åŠ æ–‡ä»¶ç±»å‹å’Œæ–‡ä»¶æ ¼å¼å›¾æ ‡.
let g:lightline.component_function.filetype = 'MyFiletype'
let g:lightline.component_function.fileformat = 'MyFileformat'

function! MyFiletype()
  return winwidth(0) > 70 ? (strlen(&filetype) ? &filetype
    \ . ' ' . WebDevIconsGetFileTypeSymbol() : 'no ft') : ''
endfunction

function! MyFileformat()
  return winwidth(0) > 70 ? (&fileformat . ' ' . WebDevIconsGetFileFormatSymbol()) : ''
endfunction

let g:lightline.tab_component_function = {
  \ 'modified': 'LightlineTablineModified',
  \ 'tabnum': 'LightlineTablineWebDevIcons',
  \ }

" æ ‡ç­¾é¡µæ•°å­—è‡ªå®šä¹‰.
let g:tabnum_map = {
  \ 0: 'â°', 1: 'Â¹', 2: 'Â²', 3: 'Â³', 4: 'â´',
  \ 5: 'âµ', 6: 'â¶', 7: 'â·', 8: 'â¸', 9: 'â¹',
  \ 10: 'Â¹â°', 11: 'Â¹Â¹', 12: 'Â¹Â²', 13: 'Â¹Â³',
  \ 14: 'Â¹â´', 15: 'Â¹âµ', 16: 'Â¹â¶', 17: 'Â¹â·',
  \ 18: 'Â¹â¸', 19: 'Â¹â¹', 20: 'Â²â°', 21: 'Â²Â¹',
  \ }

" æ ‡ç­¾é¡µæ˜¾ç¤ºå½“å‰æ–‡ä»¶ç±»å‹å›¾æ ‡å’Œæ ‡ç­¾åºå·.
function! LightlineTablineWebDevIcons(n)
  let l:bufnr = tabpagebuflist(a:n)[tabpagewinnr(a:n) - 1]
  return g:tabnum_map[a:n] . " " . WebDevIconsGetFileTypeSymbol(bufname(l:bufnr))
endfunction

" æ ‡ç­¾é¡µä½¿ç”¨è‡ªå®šä¹‰å›¾æ ‡è¡¨ç¤ºæ­£åœ¨ä¿®æ”¹ã€ç¦æ­¢ä¿®æ”¹å’Œåªè¯»çŠ¶æ€.
let s:modified_icon = 'âœ'
let s:unmodifiable_icon = 'ï€£'
let s:readonly_icon = 'î‚¢'

function! LightlineTablineModified(n)
  let l:window_number = tabpagewinnr(a:n, '$')
  let l:modified = v:false
  let l:unmodifiable = v:true
  let l:readonly = v:true
  for winnr in range(1, l:window_number)
    let l:modified = l:modified || gettabwinvar(a:n, winnr, '&modified')
    let l:unmodifiable = l:unmodifiable && !gettabwinvar(a:n, winnr, '&modifiable')
    let l:readonly = l:readonly && gettabwinvar(a:n, winnr, '&readonly')
  endfor
  let l:string = ''
  if l:unmodifiable
    let l:string = s:unmodifiable_icon
  elseif l:readonly
    let l:string = s:readonly_icon
  endif
  if l:modified
    if l:string != ""
      let l:string = l:string . " " . s:modified_icon
    else
      let l:string = s:modified_icon
    endif
  endif
  return l:string
endfunction

" }}

" ä¸»é¢˜å®šåˆ¶  Colorscheme Customization {{
"
" ä¼˜ç§€çš„é¢œè‰²ä¸»é¢˜æ–¹æ¡ˆ:
"   dracula: https://draculatheme.com/vim
"   rigel: https://github.com/Rigellute/rigel
"   gruvbox: https://github.com/morhetz/gruvbox
"   molokai: https://github.com/tomasr/molokai
"   monokai: https://github.com/sickill/vim-monokai
"   one: https://github.com/rakr/vim-one
"   iceberg: https://github.com/cocopon/iceberg.vim
"   jellybeans: https://github.com/nanotech/jellybeans.vim
"   nord: https://github.com/arcticicestudio/nord-vim
"   tender: https://github.com/jacoborus/tender.vim
"   papercolor: https://github.com/NLKNguyen/papercolor-theme
"   ayu: https://github.com/ayu-theme/ayu-vim
"   onehalf: https://github.com/sonph/onehalf
"   vadelma: https://github.com/severij/vadelma
"   pencil: https://github.com/preservim/vim-colors-pencil
"   github: https://github.com/cormacrelf/vim-colors-github
"   srcery: https://github.com/srcery-colors/srcery-vim
"   solarized8: https://github.com/lifepillar/vim-solarized8
"   spring-night: https://github.com/rhysd/vim-color-spring-night
"   primary: https://github.com/google/vim-colorscheme-primary
"   base16-*: https://github.com/chriskempson/base16-vim
"   embark: https://github.com/embark-theme/vim
"   off: https://github.com/pbrisbin/vim-colors-off
"
" NOTE: ä½¿ç”¨é¢œè‰²ä¸»é¢˜(colorscheme), åŒæ—¶è¯·å°†ç»ˆç«¯ä¹Ÿè®¾ç½®æˆå¯¹åº”çš„ä¸»é¢˜, è¿™æ ·æ‰èƒ½è·å¾—æ›´å¥½çš„è§†è§‰æ•ˆæœ.

" ä»£ç é«˜äº®æ˜¾ç¤º.
syntax enable

" å¦‚æœå½“å‰ vim/neovim ç‰ˆæœ¬æ”¯æŒ termguicolors, åˆ™å¯ç”¨ 24bit çœŸå½©;
" å¯ç”¨ termguicolors å, å°†ä½¿ç”¨ guifg/guibg é…ç½®çš„è‰²å½©æ–¹æ¡ˆ,
" ä¹Ÿå°±æ˜¯è¯´åœ¨è‰²å½©æ–¹é¢æŠŠç»ˆç«¯å½“å›¾å½¢ç•Œé¢ä¸€æ ·çœ‹å¾….
"
" for Linux/Unix
if has ('termguicolors') && ($COLORTERM == 'truecolor' || $COLORTERM == '24bit')
  set termguicolors
endif
" for Windows
if has('vcon')
  set termguicolors
endif

" å½“ g:enable_bg_transparent ç­‰äº 1 æ—¶, æ˜¯å¦ä½¿ popup window èƒŒæ™¯å˜é€æ˜, 1 ä¸ºå¼€å¯, 0 ä¸ºå…³é—­.
" NOTE: å˜æ›´æ•ˆæœæ¶‰åŠåˆ° coc.nvim å‘½ä»¤è¡¥å…¨çš„å¼¹å‡ºçª—å£, æ–‡æ¡£æŸ¥çœ‹çª—å£ç­‰.
let g:popup_window_transparent=0

" è§£å†³ Vim åœ¨ cterm å½©è‰²ç»ˆç«¯ä¸‹ä¸æ”¯æŒæ–œä½“å­—çš„é—®é¢˜, Neovim æ²¡æœ‰æ­¤é—®é¢˜.
" è§£å†³æ–¹æ³•æ¥æº: https://rsapkf.xyz/blog/enabling-italics-vim-tmux
" NOTE: ^[ å¿…é¡»é€šè¿‡ <Ctrl-v><Esc> æ•²å‡ºæ¥æ‰å¯ä»¥.
set t_ZH=[3m
set t_ZR=[23m

" *** colorschemes ä¼˜åŒ–æ–¹æ³•é›†åˆ ***
"
" NOTE: æ–¹æ³•ç»“å°¾æ˜¯ Before çš„ä»£è¡¨éœ€è¦æ”¾åœ¨ colorscheme æŒ‡ä»¤ä¹‹å‰æ‰§è¡Œ;
" æ–¹æ³•ç»“å°¾æ˜¯ After çš„ä»£è¡¨éœ€è¦æ”¾åœ¨ colorscheme æŒ‡ä»¤ä¹‹åæ‰§è¡Œ.

" é€šç”¨æ–¹æ³• {{

function! Colorscheme()
  " åŠ è½½å•ç‹¬çš„ç”¨äºè®¾ç½® colorscheme çš„æ–‡ä»¶, è®¾ç½®è¯¥æ–‡ä»¶çš„ç›®çš„æ˜¯å½“å˜æ›´é¢œè‰²æ–¹æ¡ˆæ—¶,
  " dotfiles git ä»“åº“å¯ä»¥ä¸è¢«æ— ç”¨çš„å˜æ›´ä¿¡æ¯å¹²æ‰°.
  let colorscheme_file = expand('~/.vim/colorscheme.vim')

  if filereadable(colorscheme_file)
    exec 'source' colorscheme_file
  else
    " é»˜è®¤çš„èƒŒæ™¯è‰², dark or light.
    set background=dark

    " ä½¿ç”¨ try çš„æ–¹å¼æ•è·å¹¶å¿½ç•¥é”™è¯¯, æ¥å®ç°æ¶ˆé™¤ç¬¬ä¸€æ¬¡ä½¿ç”¨æ­¤é…ç½®æ–‡ä»¶æ—¶çš„æ²¡ç”¨æŠ¥é”™ä¿¡æ¯.
    try
      " è®¾ç½®é»˜è®¤ä¸»é¢˜.
      colorscheme dracula
    catch /Cannot find color scheme 'dracula'/
    endtry
  endif
endfunction

" æ˜¯å¦å¯ç”¨ Vim/Neovim é€æ˜èƒŒæ™¯è‰²çš„åŠŸèƒ½, ä»å•ç‹¬çš„é…ç½®æ–‡ä»¶è¯»å–ç›¸å…³å˜é‡å€¼æ¥æ§åˆ¶;
" ä»å•ç‹¬çš„é…ç½®æ–‡ä»¶è¯»å–æ˜¯ä¸ºäº†å˜æ›´æ—¶, ä¸ä¼šå¹²æ‰°åˆ° dotfiles ä»“åº“.
function! ToggleVimTransparentBgFeature()
  let bg_transparent_file = expand('~/.vim/bg_transparent.vim')
  if filereadable(bg_transparent_file)
    exec 'source' bg_transparent_file
  else
    " å€¼ä¸º 1 è¡¨ç¤ºå¯ç”¨ Vim/Neovim èƒŒæ™¯é€æ˜, 0 ä¸ºç¦ç”¨.
    " é»˜è®¤å€¼: 1
    let g:enable_bg_transparent=1
  endif
endfunction

" æ”¯æŒæ–œä½“å­—çš„æ–¹æ³•, å¯¹äºä¸æ”¯æŒæ–œä½“å­—æˆ–æ”¯æŒçš„ä¸å¤ªç†æƒ³çš„ colorscheme,
" å¯ä»¥ä½¿ç”¨æ­¤æ–¹æ³•æä¾›æ”¯æŒæˆ–ä¼˜åŒ–.
function! EnableItalic()
  hi Comment cterm=italic gui=italic
  hi Todo cterm=italic gui=italic
  hi Folded cterm=italic gui=italic
  hi Special cterm=italic gui=italic
  hi String cterm=italic gui=italic
  hi SpellCap cterm=italic gui=italic
  hi htmlBoldItalic cterm=italic gui=italic
  hi htmlBoldUnderlineItalic cterm=italic gui=italic
  hi htmlUnderlineItalic cterm=italic gui=italic
  hi htmlItalic cterm=italic gui=italic
  hi vimCommentTitle cterm=italic gui=italic
  hi markdownItalic cterm=italic gui=italic
endfunction

" æ”¯æŒç²—ä½“çš„æ–¹æ³•.
function! EnableBold()
  hi Function cterm=bold gui=bold
  hi Title cterm=bold gui=bold
  hi htmlBold cterm=bold gui=bold
  hi markdownBold cterm=bold gui=bold

  hi! link zshFunction Function

  if (g:colors_name == 'PaperColor')
    hi goFunction cterm=bold gui=bold
    hi pythonFunction cterm=bold gui=bold
    hi shFunction cterm=bold gui=bold
    hi! link zshFunction shFunction
    hi Type cterm=NONE gui=NONE
  elseif (g:colors_name == 'one')
    hi pythonFunction cterm=bold gui=bold
  elseif (g:colors_name == 'pencil')
    hi Function cterm=bold guifg=#008EC4 gui=bold
  endif
endfunction

" è®¾ç½®æç¤ºåˆ—çš„é¢œè‰²æ–¹æ¡ˆ, å»æ‰é»˜è®¤çš„èƒŒæ™¯è‰²,
" æ¯”å¦‚ ale æ’ä»¶çš„ä»£ç é™æ€æ£€æŸ¥çš„é”™è¯¯æˆ–è­¦å‘Šä¿¡æ¯å°±ä¼šå‡ºç°åœ¨æ­¤åˆ—,
" coc-git æ‰©å±•çš„æ–‡ä»¶å˜åŒ–ä¿¡æ¯ä¹Ÿä¼šå‡ºç°åœ¨æ­¤åˆ—.
function! SignColumnHi()
  hi SignColumn cterm=NONE ctermbg=NONE ctermfg=NONE guibg=NONE guifg=NONE
endfunction

" ä¼˜åŒ– ale é”™è¯¯æç¤ºæ ‡è¯†çš„é¢œè‰²æ–¹æ¡ˆ.
function! ALESignHi()
  if &background == 'dark'
    hi ALEErrorSign cterm=NONE ctermbg=NONE ctermfg=DarkRed guibg=NONE guifg=DarkRed
    hi ALEWarningSign cterm=NONE ctermbg=NONE ctermfg=DarkYellow guibg=NONE guifg=DarkYellow
  else
    hi ALEErrorSign cterm=NONE ctermbg=NONE ctermfg=Red guibg=NONE guifg=Red
    hi ALEWarningSign cterm=NONE ctermbg=NONE ctermfg=208 guibg=NONE guifg=#ff8700
  endif
endfunction

" ä¸º coc-git æ’ä»¶æä¾› git å¢åˆ æ”¹æç¤ºæ ‡è¯†çš„é«˜äº®é¢œè‰²æ–¹æ¡ˆ.
" NOTE: å¿…é¡»æ”¾åœ¨é¢œè‰²ä¸»é¢˜è®¾ç½®çš„åé¢æ‰æœ‰æ•ˆæœ.
function! GitSignHi()
  hi GitAddSign    guifg=SeaGreen ctermfg=2
  hi GitChangeSign guifg=DarkYellow ctermfg=3
  hi GitDeleteSign guifg=DarkRed ctermfg=1
  hi GitTopDeleteSign guifg=Red ctermfg=1*
  hi GitChangeDeleteSign guifg=LightRed ctermfg=1*
endfunction

" é‡æ–°åŠ è½½ lightline çŠ¶æ€æ çš„æ–¹æ³•.
function! LightlineReload()
  " è¿™éƒ¨åˆ†åˆ†æ”¯è¯­å¥ç”¨äºåˆ‡æ¢èƒŒæ™¯è‰²æ—¶, é‡æ–°åŠ è½½ lightline.
  if g:colors_name == 'gruvbox'
    execute "source " . g:plug_home .
      \ "/gruvbox/autoload/lightline/colorscheme/gruvbox.vim"
  elseif g:colors_name == 'iceberg'
    execute "source " . g:plug_home .
      \ "/iceberg.vim/autoload/lightline/colorscheme/iceberg.vim"
  elseif g:colors_name == 'one'
    execute "source " . g:plug_home .
      \ "/lightline.vim/autoload/lightline/colorscheme/one.vim"
  elseif g:colors_name =~ 'onehalf'
    execute "source " . g:plug_home .
      \ "/lightline.vim/autoload/lightline/colorscheme/onehalf.vim"
  elseif g:colors_name =~ 'base16-atelier-dune'
    execute "source " . g:plug_home .
      \ "/lightline.vim/autoload/lightline/colorscheme/base16_atelier_dune.vim"
  elseif g:colors_name == 'vadelma'
    execute "source " . g:plug_home .
      \ "/lightline.vim/autoload/lightline/colorscheme/vadelma_new.vim"
  elseif g:colors_name == 'PaperColor'
    execute "source " . g:plug_home .
      \ "/lightline.vim/autoload/lightline/colorscheme/papercolor_new.vim"
  elseif g:colors_name == 'github'
    execute 'source ' . g:plug_home .
      \ '/vim-colors-github/autoload/lightline/colorscheme/github.vim'
  elseif g:colors_name == 'solarized8'
    execute 'source ' . g:plug_home .
      \ '/lightline.vim/autoload/lightline/colorscheme/solarized8.vim'
  elseif g:colors_name == 'primary'
    execute 'source ' . g:plug_home .
      \ '/lightline.vim/autoload/lightline/colorscheme/primary.vim'
  elseif g:colors_name == 'pencil'
    execute 'source ' . g:plug_home .
      \ '/lightline.vim/autoload/lightline/colorscheme/pencil.vim'
  elseif g:colors_name == 'off'
    execute 'source ' . g:plug_home .
      \ '/lightline.vim/autoload/lightline/colorscheme/off.vim'
  endif

  call lightline#init()
  call lightline#colorscheme()
  call lightline#update()
endfunction

function! BackgroundTransparency()
  " ä½¿ vim/nvim èƒŒæ™¯é€æ˜.
  hi! Normal ctermbg=NONE guibg=NONE

  " è§£å†³æ²¡æœ‰æ–‡å­—å†…å®¹çš„åº•éƒ¨åŒºåŸŸæ— æ³•ä½¿èƒŒæ™¯é€æ˜çš„é—®é¢˜.
  " NOTE: ä¸èƒ½å¯¹æ‰€æœ‰ colorscheme éƒ½ä½¿ç”¨è¿™ç§æ–¹å¼, ä¼šå¯¹é…è‰²é€ æˆå¹²æ‰°, æ¯”å¦‚ gruvbox.
  if g:colors_name == 'github' ||
    \ g:colors_name == 'jellybeans' ||
    \ g:colors_name == 'PaperColor' ||
    \ g:colors_name == 'primary' ||
    \ g:colors_name == 'monokai'

    hi! NonText ctermbg=NONE guibg=NONE
  endif

  if (g:popup_window_transparent == 1)
    " ä½¿æ‚¬æµ®çª—å£é€æ˜.
    hi Pmenu ctermbg=NONE guibg=NONE
  endif

  " è‡ªå®šä¹‰è¡Œå·é¢œè‰², ä½¿æ‰€æœ‰é¢œè‰²ä¸»é¢˜ä½¿ç”¨ç›¸åŒè¡Œå·é¢œè‰²æ–¹æ¡ˆ, é»˜è®¤ä¸å¯ç”¨.
  " NOTE: Vim è¯†åˆ«ä¸‰ç§ä¸åŒçš„ç»ˆç«¯, term é»‘ç™½ç»ˆç«¯, cterm å½©è‰²ç»ˆç«¯, gui Gvim çª—å£.
  let linenr_colorscheme_custom=0
  if (linenr_colorscheme_custom==1)
    hi LineNr cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=NONE
  endif
endfunction

" è®¾ç½®èƒŒæ™¯é€æ˜çš„æ–¹æ³•, éœ€è¦æ”¾åˆ° colorscheme æŒ‡ä»¤ä¹‹åæ‰§è¡Œ.
function! BGTransparentAfter()
  if (g:enable_bg_transparent == 1)
    call BackgroundTransparency()
  endif
endfunction

" åœ¨èƒŒæ™¯é€æ˜å’Œä¸é€æ˜ä¹‹é—´åˆ‡æ¢çš„æ–¹æ³•.
function! ToggleBGTransparent()
  if g:enable_bg_transparent == 1
    let &background = &background
    let g:enable_bg_transparent = 0

    if g:colors_name == 'PaperColor'
      call PaperColorBefore()
      execute 'colorscheme ' . g:colors_name
      call PaperColorAfter()
    elseif g:colors_name == 'jellybeans'
      let g:jellybeans_overrides = {}
      call JellybeansBefore()
      execute 'colorscheme ' . g:colors_name
      call JellybeansAfter()
    elseif g:colors_name == 'rigel'
      call RigelAfter()
    elseif g:colors_name == 'dracula'
      call DraculaAfter()
    elseif g:colors_name == 'gruvbox'
      call GruvboxAfter()
    elseif g:colors_name == 'iceberg'
      call IcebergAfter()
    elseif g:colors_name == 'vadelma'
      call VadelmaAfter()
    elseif g:colors_name == 'nord'
      call NordAfter()
    elseif g:colors_name == 'tender'
      call TenderAfter()
    elseif g:colors_name == 'pencil'
      call PencilAfter()
    elseif g:colors_name == 'ayu'
      call AyuAfter()
    elseif g:colors_name == 'molokai'
      call MolokaiBefore()
      execute 'colorscheme ' . g:colors_name
      call MolokaiAfter()
    elseif g:colors_name == 'monokai'
      call MonokaiAfter()
    elseif g:colors_name == 'base16-default-dark'
      call Base16DefaultDarkAfter()
    elseif g:colors_name == 'github'
      call GithubAfter()
    elseif g:colors_name == 'solarized8'
      call SolarizedAfter()
    elseif g:colors_name == 'srcery'
      call SrceryAfter()
    elseif g:colors_name == 'spring-night'
      call SpringNightAfter()
    elseif g:colors_name == 'primary'
      call GooglePrimaryAfter()
    elseif g:colors_name == 'base16-flat'
      call Base16FlatAfter()
    elseif g:colors_name == 'base16-cupertino'
      call Base16CupertinoAfter()
    elseif g:colors_name == 'base16-materia'
      call Base16MateriaAfter()
    elseif g:colors_name =~ 'onehalf'
      call OnehalfAfter()
    elseif g:colors_name =~ 'base16-atelier-dune'
      call Base16AtelierDuneAfter()
    elseif g:colors_name == 'base16-oceanicnext'
      call Base16OceanicnextAfter()
    elseif g:colors_name == 'embark'
      call EmbarkAfter()
    elseif g:colors_name == 'off'
      call OffAfter()
    endif
  else
    call BackgroundTransparency()
    let g:enable_bg_transparent = 1
  endif

  " è§£å†³åœ¨åˆ‡æ¢èƒŒæ™¯é€æ˜è‰²å, SignColumn/ALESign/GitSign å¤±å»åŸæœ‰é¢œè‰²æ–¹æ¡ˆçš„é—®é¢˜.
  call SignColumnHi()
  call ALESignHi()
  call GitSignHi()
endfunction

" åœ¨èƒŒæ™¯æ˜¯ dark å’Œ light ä¹‹é—´åˆ‡æ¢çš„æ–¹æ³•.
function! ToggleBGColor()
  " å¯¹äºä¸æ”¯æŒåˆ‡æ¢èƒŒæ™¯è‰²ä¸º light çš„ colorschemes, ç»™å‡ºæç¤ºä¿¡æ¯.
  if g:colors_name == 'ayu' ||
    \ g:colors_name == 'dracula' ||
    \ g:colors_name == 'jellybeans' ||
    \ g:colors_name == 'molokai' ||
    \ g:colors_name == 'monokai' ||
    \ g:colors_name == 'rigel' ||
    \ g:colors_name == 'tender' ||
    \ g:colors_name == 'nord' ||
    \ g:colors_name == 'base16-default-dark' ||
    \ g:colors_name == 'srcery' ||
    \ g:colors_name == 'spring-night' ||
    \ g:colors_name == 'base16-flat' ||
    \ g:colors_name == 'base16-materia' ||
    \ g:colors_name == 'base16-oceanicnext' ||
    \ g:colors_name == 'embark'

    echo g:colors_name . " has no light colorscheme"
    return
  endif

  " å¯¹äºä¸æ”¯æŒåˆ‡æ¢èƒŒæ™¯è‰²ä¸º dark çš„ colorschemes, ç»™å‡ºæç¤ºä¿¡æ¯.
  if g:colors_name == 'base16-cupertino'
    echo g:colors_name . " has no dark colorscheme"
    return
  endif

  " ç”±äº onehalfdark å’Œ onehalflight ä¸ä½¿ç”¨ background é€‰é¡¹æ¥æ§åˆ¶èƒŒæ™¯è‰², æ•…éœ€å•ç‹¬é…ç½®.
  if g:colors_name == 'onehalfdark'
    colorscheme onehalflight
    call OnehalfAfter()
  elseif g:colors_name == 'onehalflight'
    colorscheme onehalfdark
    call OnehalfAfter()
  elseif g:colors_name == 'base16-atelier-dune'
    colorscheme base16-atelier-dune-light
    call Base16AtelierDuneAfter()
  elseif g:colors_name == 'base16-atelier-dune-light'
    colorscheme base16-atelier-dune
    call Base16AtelierDuneAfter()
  else
    " å…¶ä»–ä¸»é¢˜è®¾ç½®åˆ‡æ¢èƒŒæ™¯é¢œè‰².
    let &background = ( &background ==# 'dark' ? 'light' : 'dark' )
  endif

  if g:colors_name == 'PaperColor'
    let g:PaperColor_Theme_Options.theme.default.transparent_background = 0
    execute 'colorscheme ' . g:colors_name
    call PaperColorAfter()
  elseif g:colors_name == 'gruvbox'
    call GruvboxAfter()
  elseif g:colors_name == 'vadelma'
    call VadelmaAfter()
  elseif g:colors_name == 'github'
    call GithubAfter()
  elseif g:colors_name == 'pencil'
    call PencilAfter()
  elseif g:colors_name == 'solarized8'
    call SolarizedAfter()
  elseif g:colors_name == 'iceberg'
    call IcebergAfter()
  elseif g:colors_name == 'primary'
    call GooglePrimaryAfter()
  elseif g:colors_name == 'off'
    call OffAfter()
  endif

  " é‡è½½ lightline çŠ¶æ€æ , ä½¿å…¶é¢œè‰²éšç€èƒŒæ™¯è‰²æ”¹å˜.
  call LightlineReload()

  " è§£å†³ä»é€æ˜èƒŒæ™¯çš„åœºæ™¯åˆ‡æ¢èƒŒæ™¯é¢œè‰²å, éœ€è¦è¿ç»­æŒ‰ä¸¤æ¬¡ ,v æ‰èƒ½åˆ‡æ¢æˆèƒŒæ™¯é€æ˜çš„é—®é¢˜.
  let g:enable_bg_transparent = 0

  " è§£å†³åœ¨å˜æ¢èƒŒæ™¯é¢œè‰²å, SignColumn/ALESign/GitSign å¤±å»åŸæœ‰é¢œè‰²æ–¹æ¡ˆçš„é—®é¢˜.
  call SignColumnHi()
  call ALESignHi()
  call GitSignHi()
endfunction

" }}

" éœ€è¦æ”¾ç½®åˆ° colorscheme æŒ‡ä»¤ä¹‹å‰çš„ä¸»é¢˜ä¼˜åŒ–æ–¹æ³• {{

function! NordBefore()
  let g:nord_italic = 1
  let g:nord_italic_comments = 1
endfunction

function! MolokaiBefore()
  " éœ€è¦è®¾ç½®æˆ 0, å¦åˆ™å¯¹äº vim, å½“èƒŒæ™¯æ˜¯é€æ˜æ—¶éƒ¨åˆ†å…³é”®å­—èƒŒæ™¯æ˜¯é»‘è‰²çš„.
  let g:molokai_italic = 0
endfunction

function! GruvboxBefore()
  " è°ƒæ•´ gruvbox ä¸»é¢˜çš„é¢œè‰²å¯¹æ¯”åº¦.
  " from: https://github.com/morhetz/gruvbox/wiki/Troubleshooting
  " é»˜è®¤å€¼: medium, å¯é€‰å€¼: soft, medium, hard
  let g:gruvbox_contrast_dark = 'medium'
  let g:gruvbox_contrast_light = 'hard'

  " æ˜¯å¦å¯ç”¨ç²—ä½“å­—, 0 ä¸ºç¦ç”¨, 1 ä¸ºå¯ç”¨, é»˜è®¤å€¼: 1
  let g:gruvbox_bold = 1

  " æ˜¯å¦å¯ç”¨æ–œä½“å­—, é»˜è®¤å€¼: 0
  let g:gruvbox_italic = 1

  " å¯¹äºä»£ç ä¸­çš„å­—ç¬¦ä¸²æ˜¯å¦å¯ç”¨æ–œä½“å­—, é»˜è®¤å€¼: 0
  let g:gruvbox_italicize_strings = 1

  " æ³¨é‡Šå†…å®¹æ˜¯å¦å¯ç”¨æ–œä½“å­—, é»˜è®¤å€¼: 1
  let g:gruvbox_italicize_comments = 1
endfunction

function! DraculaBefore()
  " æ˜¯å¦å¯ç”¨æ–œä½“å­—, é»˜è®¤å€¼: 1
  let g:dracula_italic=1

  " æ˜¯å¦å¯ç”¨ç²—ä½“å­—, é»˜è®¤å€¼: 1
  let g:dracula_bold=1
endfunction

function! JellybeansBefore()
  " æ˜¯å¦ç¦ç”¨æ–œä½“å­—, 0 ç¦ç”¨, 1 å¯ç”¨.
  let g:jellybeans_use_term_italics = 1
  let g:jellybeans_use_gui_italics = 1
endfunction

function! PaperColorBefore()
  " papercolor ä¸»é¢˜è®¾ç½®:
  " æ˜¯å¦å…è®¸ç²—ä½“å­—, 1 æ˜¯å…è®¸, 0 æ˜¯ä¸å…è®¸.
  let g:PaperColor_Theme_Options = {
    \  'theme': {
    \    'default': {
    \      'allow_bold': 0,
    \     }
    \   }
    \ }
  " æ˜¯å¦å…è®¸æ–œä½“å­—, 1 æ˜¯å…è®¸, 0 æ˜¯ä¸å…è®¸.
  let g:PaperColor_Theme_Options.theme.default.allow_italic = 1
endfunction

function! PencilBefore()
  " 0=low (def), 1=high
  let g:pencil_higher_contrast_ui = 0
  " 0=blue (def), 1=normal
  let g:pencil_neutral_headings = 1
  " 0=gray (def), 1=normal
  let g:pencil_neutral_code_bg = 0
endfunction

function! GithubBefore()
  " ä½¿ github_light çš„ç™½è‰²èƒŒæ™¯çœ‹ä¸Šå»æ›´ç°ä¸€äº›.
  let g:github_colors_soft = 1
endfunction

function! SrceryBefore()
  let g:srcery_italic = 1
  let g:srcery_bold = 1
  let g:srcery_underline = 1
  let g:srcery_undercurl = 1
  let g:srcery_hard_black_terminal_bg = 0
endfunction

function! SolarizedBefore()
  " å¯é€‰å€¼: normal(default), low, high
  let g:solarized_visibility = 'high'
  let g:solarized_diffmode = 'normal'
endfunction

" }}

" éœ€è¦æ”¾ç½®åˆ° colorscheme æŒ‡ä»¤ä¹‹åçš„ä¸»é¢˜ä¼˜åŒ–æ–¹æ³• {{

function! DraculaAfter()
  " è®¾ç½® popup window èƒŒæ™¯é€æ˜è‰²å, ä½¿ç”¨ vim æ—¶, åœ¨è¿›è¡Œä»£ç æç¤ºçš„æ—¶å€™,
  " dracula ä¸»é¢˜çš„å­—ä½“é¢œè‰²å˜å¾—å¾ˆéš¾è¾¨è®¤, è¿™é‡Œè¿›è¡Œä¼˜åŒ–, nvim æ— æ­¤é—®é¢˜.
  if !has('nvim') && (g:colors_name == 'dracula') && (g:popup_window_transparent == 1)
    hi Pmenu ctermbg=NONE guibg=NONE ctermfg=white
  endif

  let g:lightline.colorscheme = 'dracula'

  " ä¼˜åŒ–ç¬¬ 80 åˆ—çš„é¢œè‰²æ–¹æ¡ˆ.
  hi ColorColumn cterm=NONE ctermbg=237 guibg=#44475a

  " ä¼˜åŒ–éå¯è§å­—ç¬¦ nbsp, tab, trail ç­‰çš„é¢œè‰²æ–¹æ¡ˆ:
  " ç›®çš„æ˜¯æ”¹å˜ tab é”®å’Œè¡Œå°¾ç©ºæ ¼çš„é¢œè‰²æ ·å¼, ä»è€Œæ–¹ä¾¿æˆ‘ä»¬æ˜æ˜¾çš„çœ‹åˆ°å¤šä½™çš„ç©ºç™½å­—ç¬¦.
  " NOTE: å¯¹äº Vim, æ˜¯ç”± SpecialKey é«˜äº®ç»„å®šä¹‰çš„,
  " ä½†å¯¹äº Neovim, åˆ™æ˜¯ç”± Whitespace é«˜äº®ç»„å®šä¹‰çš„.
  hi SpecialKey cterm=NONE ctermbg=NONE ctermfg=237 guibg=NONE guifg=#44475a
  hi Whitespace cterm=NONE ctermbg=NONE ctermfg=237 guibg=NONE guifg=#44475a

  " ä¼˜åŒ–ç¼©è¿›çº¿çš„é¢œè‰²æ–¹æ¡ˆ.
  hi Conceal cterm=NONE ctermbg=NONE ctermfg=237 guibg=NONE guifg=#44475a
endfunction

function! VadelmaAfter()
  let g:lightline.colorscheme = 'vadelma_new'

  if &background == 'dark'
    hi SpecialKey cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#444444
    hi Whitespace cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#444444
    hi Conceal cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#444444
  else
    hi SpecialKey cterm=NONE ctermbg=NONE ctermfg=253 guibg=NONE guifg=#dadada
    hi Whitespace cterm=NONE ctermbg=NONE ctermfg=253 guibg=NONE guifg=#dadada
    hi Conceal cterm=NONE ctermbg=NONE ctermfg=253 guibg=NONE guifg=#dadada
  endif

  call EnableItalic()
  call EnableBold()
endfunc

function! PaperColorAfter()
  let g:lightline.colorscheme = 'papercolor_new'

  if &background == 'dark'
    " ä¼˜åŒ–å…‰æ ‡æ‰€åœ¨è¡Œçš„è¡Œå·é¢œè‰².
    hi CursorLineNr cterm=NONE ctermbg=NONE ctermfg=DarkYellow guibg=NONE guifg=DarkYellow

    " cterm=NONE è¡¨ç¤ºç”¨æ¥å»æ‰é»˜è®¤çš„ç²—ä½“æ˜¾ç¤º.
    hi SpecialKey cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#444444
    hi Whitespace cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#444444
    hi Conceal cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#444444
  else
    hi SpecialKey cterm=NONE ctermbg=NONE ctermfg=251 guibg=NONE guifg=#c6c6c6
    hi Whitespace cterm=NONE ctermbg=NONE ctermfg=251 guibg=NONE guifg=#c6c6c6
    hi Conceal cterm=NONE ctermbg=NONE ctermfg=251 guibg=NONE guifg=#c6c6c6
  endif

  call EnableItalic()
  call EnableBold()
endfunction

function! JellybeansAfter()
    let g:lightline.colorscheme = 'jellybeans'

    hi SpecialKey ctermbg=NONE ctermfg=237 guibg=NONE guifg=#3a3a3a
    hi Whitespace cterm=NONE ctermbg=NONE ctermfg=237 guibg=NONE guifg=#3a3a3a
    hi Conceal cterm=NONE ctermbg=NONE ctermfg=237 guibg=NONE guifg=#3a3a3a

    hi ColorColumn ctermbg=236 guibg=#303030

    hi CursorLine cterm=NONE ctermbg=236 ctermfg=NONE guibg=#303030 guifg=NONE
    hi Cursorcolumn cterm=NONE ctermbg=236 ctermfg=NONE guibg=#303030 guifg=NONE

    call EnableItalic()
    call EnableBold()
endfunction

function! Base16DefaultDarkAfter()
  let g:lightline.colorscheme = 'base16_default_dark'

  hi SpecialKey cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#444444
  hi Whitespace cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#444444
  hi Conceal cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#444444

  call EnableItalic()
  call EnableBold()
endfunction

function! RigelAfter()
  " å®šåˆ¶çŠ¶æ€æ çš„ä¸»é¢˜é¢œè‰².
  let g:rigel_lightline = 1
  let g:lightline.colorscheme = 'rigel'

  hi SpecialKey cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#00384d
  hi Whitespace cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#00384d
  hi Conceal cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#00384d

  " ä¼˜åŒ– ColorColumn åˆ—çš„é¢œè‰²æ–¹æ¡ˆ.
  " NOTE: è®¾ç½® ctermbg å¯¹ vim æœ‰æ•ˆ, å¯¹ nvim æ— æ•ˆ, è®¾ç½® guibg æ‰å¯¹ nvim æœ‰æ•ˆ.
  hi ColorColumn cterm=NONE ctermbg=black guibg=#00384d

  " ä¼˜åŒ–å…‰æ ‡æ‰€åœ¨è¡Œçš„é¢œè‰²æ–¹æ¡ˆ.
  hi CursorLine cterm=NONE ctermbg=black ctermfg=NONE guibg=#00384d guifg=NONE

  " ä¼˜åŒ–å…‰æ ‡æ‰€åœ¨åˆ—çš„é¢œè‰²æ–¹æ¡ˆ.
  hi Cursorcolumn cterm=NONE ctermbg=black ctermfg=NONE guibg=#00384d guifg=NONE

  " ä¼˜åŒ–å…‰æ ‡æ‰€åœ¨è¡Œçš„è¡Œå·çš„é¢œè‰²æ–¹æ¡ˆ.
  hi CursorLineNr cterm=NONE ctermbg=NONE ctermfg=white guibg=#00384d guifg=#afffff

  call EnableItalic()
  call EnableBold()
endfunction

function! OneAfter()
  let g:lightline.colorscheme = 'one'

  if &background == 'dark'
    hi Conceal cterm=NONE ctermbg=NONE ctermfg=16 guibg=NONE guifg=#3b4048
  else
    hi Conceal cterm=NONE ctermbg=NONE ctermfg=251 guibg=NONE guifg=#d3d3d3
  endif

  call EnableItalic()
  call EnableBold()
endfunction

function! MolokaiAfter()
  let g:lightline.colorscheme = 'molokai'

  " for Neovim, é€šè¿‡ cterm=NONE æ¥å»æ‰é»˜è®¤çš„ç²—ä½“æ˜¾ç¤º.
  hi Whitespace cterm=NONE guibg=NONE guifg=#465457
  hi Conceal cterm=NONE guibg=NONE guifg=#465457

  call EnableItalic()
  call EnableBold()
endfunction

function! GruvboxAfter()
  let g:lightline.colorscheme = 'gruvbox'

  if &background == 'dark'
    hi SpecialKey cterm=NONE ctermbg=NONE ctermfg=250 guibg=NONE guifg=#504945
    hi Whitespace cterm=NONE ctermbg=NONE ctermfg=250 guibg=NONE guifg=#504945
    hi Conceal cterm=NONE ctermbg=NONE ctermfg=250 guibg=NONE guifg=#504945
  else
    hi SpecialKey cterm=NONE ctermbg=NONE ctermfg=250 guibg=NONE guifg=#d5c4a1
    hi Whitespace cterm=NONE ctermbg=NONE ctermfg=250 guibg=NONE guifg=#d5c4a1
    hi Conceal cterm=NONE ctermbg=NONE ctermfg=250 guibg=NONE guifg=#d5c4a1
  endif

  if !has('nvim')
    " è§£å†³ä½¿ç”¨ vim æ‰“å¼€ markdown ç±»å‹æ–‡ä»¶, éƒ¨åˆ†å†…å®¹èƒŒæ™¯é¢œè‰²æ˜¯é»‘è‰²çš„é—®é¢˜.
    " æ¯”å¦‚: **example**
    hi HtmlBold gui=bold guibg=NONE guifg=#ebdbb2
    hi Todo gui=italic guibg=NONE guifg=#ebdbb2
  endif

  call EnableItalic()
endfunction

function! IcebergAfter()
  let g:lightline.colorscheme = 'iceberg'

  if &background == 'dark'
    hi SpecialKey cterm=NONE ctermbg=NONE ctermfg=240 guibg=NONE guifg=#515e97
    hi Whitespace cterm=NONE ctermbg=NONE ctermfg=240 guibg=NONE guifg=#515e97
    hi Conceal cterm=NONE ctermbg=NONE ctermfg=240 guibg=NONE guifg=#515e97
  else
    hi SpecialKey cterm=NONE ctermbg=NONE ctermfg=248 guibg=NONE guifg=#a5b0d3
    hi Whitespace cterm=NONE ctermbg=NONE ctermfg=248 guibg=NONE guifg=#a5b0d3
    hi Conceal cterm=NONE ctermbg=NONE ctermfg=248 guibg=NONE guifg=#a5b0d3
  endif

  call EnableItalic()
  call EnableBold()
endfunction

function! NordAfter()
  let g:lightline.colorscheme = 'nord'

  hi SpecialKey cterm=NONE ctermbg=NONE ctermfg=250 guibg=NONE guifg=#4C566A
  hi Whitespace cterm=NONE ctermbg=NONE ctermfg=250 guibg=NONE guifg=#4C566A
  hi Conceal cterm=NONE ctermbg=NONE ctermfg=250 guibg=NONE guifg=#4C566A

  " nord é»˜è®¤æä¾›çš„æ–œä½“å­—æ”¯æŒä¸å¤Ÿç†æƒ³, ä½¿ç”¨è‡ªå®šä¹‰æ–¹æ³•å¢å¼º.
  call EnableItalic()
  call EnableBold()
endfunction

function! TenderAfter()
  let g:lightline.colorscheme = 'tender_new'

  hi SpecialKey cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#293b4d
  hi Whitespace cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#293b4d
  hi Conceal cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#293b4d

  call EnableItalic()
  call EnableBold()
endfunction

function! AyuAfter()
  if (g:ayucolor == 'dark')
    let g:lightline.colorscheme = 'ayu_dark'

    hi SpecialKey cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#253340
    hi Whitespace cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#253340
    hi Conceal cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#253340
  elseif (g:ayucolor == 'mirage')
    let g:lightline.colorscheme = 'ayu_mirage'

    hi SpecialKey cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#343F4C
    hi Whitespace cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#343F4C
    hi Conceal cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#343F4C
  else
    let g:lightline.colorscheme = 'ayu_light'

    hi SpecialKey cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#F0EEE4
    hi Whitespace cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#F0EEE4
    hi Conceal cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#F0EEE4
  endif

  call EnableItalic()
  call EnableBold()
endfunction

function! OnehalfAfter()
  let g:lightline.colorscheme = 'onehalf'

  if &background == 'dark'
    " æ­¤ä¸»é¢˜é»˜è®¤å¼¹çª—æ˜¯ light çš„, è¿™é‡Œæ”¹æˆ dark.
    hi Pmenu guibg=#313640 guifg=#dcdfe4

    hi SpecialKey cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#474e5d
    hi Whitespace cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#474e5d
    hi Conceal cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#474e5d
  else
    hi SpecialKey cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#d4d4d4
    hi Whitespace cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#d4d4d4
    hi Conceal cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#d4d4d4
  endif

  call EnableItalic()
  call EnableBold()
endfunction

function! PencilAfter()
  let g:lightline.colorscheme = 'pencil'

  " for Vim
  if &background == 'light'
    hi SpecialKey cterm=NONE ctermbg=NONE ctermfg=231 guibg=NONE guifg=#e0e0e0
    hi Whitespace cterm=NONE ctermbg=NONE ctermfg=231 guibg=NONE guifg=#e0e0e0
    hi Conceal cterm=NONE ctermbg=NONE ctermfg=231 guibg=NONE guifg=#e0e0e0
  else
    hi SpecialKey cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#424242
    hi Whitespace cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#424242
    hi Conceal cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#424242
  endif

  call EnableItalic()
  call EnableBold()
endfunction

function! GithubAfter()
  let g:lightline.colorscheme = 'github'

  " å»æ‰æ–‡ä»¶å°¾éƒ¨æ²¡æœ‰å†…å®¹çš„åŒºåŸŸçš„é¢œè‰²è®¾ç½®.
  hi EndOfBuffer ctermbg=NONE guibg=NONE

  if &background == 'dark'
    hi SpecialKey cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#41484f
    hi Whitespace cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#41484f
    hi Conceal cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#41484f
  else
    hi SpecialKey cterm=NONE ctermbg=NONE ctermfg=251 guibg=NONE guifg=#c6c6c6
    hi Whitespace cterm=NONE ctermbg=NONE ctermfg=251 guibg=NONE guifg=#c6c6c6
    hi Conceal cterm=NONE ctermbg=NONE ctermfg=251 guibg=NONE guifg=#c6c6c6
  endif

  call EnableItalic()
  call EnableBold()
endfunction

function! SrceryAfter()
  let g:lightline.colorscheme = 'srcery'

  hi SpecialKey cterm=NONE ctermbg=NONE ctermfg=237 guibg=NONE guifg=#3A3A3A
  hi Whitespace cterm=NONE ctermbg=NONE ctermfg=237 guibg=NONE guifg=#3A3A3A
  hi Conceal cterm=NONE ctermbg=NONE ctermfg=237 guibg=NONE guifg=#3A3A3A

  hi htmlBold guibg=NONE

  call EnableItalic()
endfunction

function! SolarizedAfter()
  let g:lightline.colorscheme = 'solarized8'

  if &background == 'dark'
    hi SpecialKey cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#00384d
    hi Whitespace cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#00384d
    hi Conceal cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#00384d
  else
    hi SpecialKey cterm=NONE ctermbg=NONE ctermfg=251 guibg=NONE guifg=#c6c6c6
    hi Whitespace cterm=NONE ctermbg=NONE ctermfg=251 guibg=NONE guifg=#c6c6c6
    hi Conceal cterm=NONE ctermbg=NONE ctermfg=251 guibg=NONE guifg=#c6c6c6
  endif

  call EnableItalic()
endfunction

function! SpringNightAfter()
  let g:lightline.colorscheme = 'spring_night'

  hi Whitespace cterm=NONE term=NONE guifg=#607080 ctermfg=60
  hi Conceal cterm=NONE term=NONE guifg=#607080 ctermfg=60

  call EnableItalic()
endfunction

function! GooglePrimaryAfter()
  let g:lightline.colorscheme = 'primary'

  if &background == 'dark'
    hi SpecialKey cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#5f6368
    hi Whitespace cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#5f6368
    hi Conceal cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#5f6368
  else
    hi SpecialKey cterm=NONE ctermbg=NONE ctermfg=251 guibg=NONE guifg=#c6c6c6
    hi Whitespace cterm=NONE ctermbg=NONE ctermfg=251 guibg=NONE guifg=#c6c6c6
    hi Conceal cterm=NONE ctermbg=NONE ctermfg=251 guibg=NONE guifg=#c6c6c6
  endif

  call EnableItalic()
  call EnableBold()
endfunction

function! Base16FlatAfter()
  let g:lightline.colorscheme = 'base16_flat'

  hi SpecialKey cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#34495E
  hi Whitespace cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#34495E
  hi Conceal cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#34495E

  call EnableItalic()
  call EnableBold()
endfunction

function! Base16CupertinoAfter()
  let g:lightline.colorscheme = 'base16_cupertino'

  hi SpecialKey cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#c0c0c0
  hi Whitespace cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#c0c0c0
  hi Conceal cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#c0c0c0

  call EnableItalic()
  call EnableBold()
endfunction

function! Base16MateriaAfter()
  let g:lightline.colorscheme = 'base16_materia'

  hi SpecialKey cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#37474F
  hi Whitespace cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#37474F
  hi Conceal cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#37474F

  call EnableItalic()
  call EnableBold()
endfunction

function! MonokaiAfter()
  let g:lightline.colorscheme = 'monokai'

  " ä½¿éæ–‡æœ¬åŒºåŸŸå’Œæ–‡æœ¬åŒºåŸŸçš„é¢œè‰²æ–¹æ¡ˆä¿æŒä¸€è‡´.
  if (g:enable_bg_transparent == 0)
    hi NonText ctermfg=231 ctermbg=235 cterm=NONE guifg=#f8f8f2 guibg=#272822 gui=NONE
  endif

  " monokai ä¸»é¢˜çš„ Pmenu é»˜è®¤æ˜¯é€æ˜èƒŒæ™¯çš„, è¿™é‡Œæ”¹æˆä¸é€æ˜.
  hi Pmenu ctermfg=NONE ctermbg=237 cterm=NONE guifg=NONE guibg=#3c3d37 gui=NONE

  hi SpecialKey ctermfg=NONE ctermbg=237 cterm=NONE guifg=#49483e guibg=NONE gui=NONE
  hi Whitespace ctermfg=NONE ctermbg=237 cterm=NONE guifg=#49483e guibg=NONE gui=NONE
  hi Conceal ctermfg=NONE ctermbg=237 cterm=NONE guifg=#49483e guibg=NONE gui=NONE

  call EnableItalic()
  call EnableBold()
endfunction

function! Base16AtelierDuneAfter()
  let g:lightline.colorscheme = 'base16_atelier_dune'

  if g:colors_name == 'base16-atelier-dune'
    hi SpecialKey cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#4C4939
    hi Whitespace cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#4C4939
    hi Conceal cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#4C4939
  else
    hi SpecialKey cterm=NONE ctermbg=NONE ctermfg=251 guibg=NONE guifg=#CCC8B3
    hi Whitespace cterm=NONE ctermbg=NONE ctermfg=251 guibg=NONE guifg=#CCC8B3
    hi Conceal cterm=NONE ctermbg=NONE ctermfg=251 guibg=NONE guifg=#CCC8B3
  endif

  call EnableItalic()
  call EnableBold()
endfunction

function! Base16OceanicnextAfter()
  let g:lightline.colorscheme = 'base16_oceanicnext'

  hi SpecialKey cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#4F5B66
  hi Whitespace cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#4F5B66
  hi Conceal cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#4F5B66

  call EnableItalic()
  call EnableBold()
endfunction

function! EmbarkAfter()
  let g:lightline.colorscheme = 'embark'

  hi SpecialKey cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#585273
  hi Whitespace cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#585273
  hi Conceal cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#585273

  call EnableItalic()
endfunction

function! OffAfter()
  let g:lightline.colorscheme = 'off'

  if &background == 'dark'
    hi SpecialKey cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#545454
    hi Whitespace cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#545454
    hi Conceal cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#545454
  else
    hi SpecialKey cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#c6c6c6
    hi Whitespace cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#c6c6c6
    hi Conceal cterm=NONE ctermbg=NONE ctermfg=238 guibg=NONE guifg=#c6c6c6
  endif

  call EnableItalic()
  hi Special cterm=italic gui=italic guifg=NONE ctermfg=NONE

  call EnableBold()
endfunction

" }}

" *********************************

function! SetColorscheme()
  " å¯ç”¨æˆ–ç¦ç”¨ Vim èƒŒæ™¯é€æ˜è‰²ç‰¹æ€§.
  call ToggleVimTransparentBgFeature()

  " colorscheme æŒ‡ä»¤ä¹‹å‰æ‰§è¡Œçš„ä¸»é¢˜ä¼˜åŒ–æ–¹æ³•.
  call GruvboxBefore()
  call DraculaBefore()
  call NordBefore()
  call MolokaiBefore()
  call PaperColorBefore()
  call JellybeansBefore()
  call PencilBefore()
  call GithubBefore()
  call SrceryBefore()
  call SolarizedBefore()

  " è®¾ç½® colorscheme.
  call Colorscheme()

  " colorscheme æŒ‡ä»¤ä¹‹åæ‰§è¡Œçš„ä¸»é¢˜ä¼˜åŒ–æ–¹æ³•.
  if exists('g:colors_name')
    call BGTransparentAfter()

    if g:colors_name == 'rigel'
      call RigelAfter()
    elseif g:colors_name == 'dracula'
      call DraculaAfter()
    elseif g:colors_name == 'one'
      call OneAfter()
    elseif g:colors_name == 'molokai'
      call MolokaiAfter()
    elseif g:colors_name == 'monokai'
      call MonokaiAfter()
    elseif g:colors_name == 'gruvbox'
      call GruvboxAfter()
    elseif g:colors_name == 'iceberg'
      call IcebergAfter()
    elseif g:colors_name == 'jellybeans'
      call JellybeansAfter()
    elseif g:colors_name == 'nord'
      call NordAfter()
    elseif g:colors_name == 'tender'
      call TenderAfter()
    elseif g:colors_name == 'PaperColor'
      call PaperColorAfter()
    elseif g:colors_name == 'ayu'
      call AyuAfter()
    elseif g:colors_name == 'vadelma'
      call VadelmaAfter()
    elseif g:colors_name == 'pencil'
      call PencilAfter()
    elseif g:colors_name == 'github'
      call GithubAfter()
    elseif g:colors_name == 'srcery'
      call SrceryAfter()
    elseif g:colors_name == 'solarized8'
      call SolarizedAfter()
    elseif g:colors_name == 'spring-night'
      call SpringNightAfter()
    elseif g:colors_name == 'primary'
      call GooglePrimaryAfter()
    elseif g:colors_name == 'base16-default-dark'
      call Base16DefaultDarkAfter()
    elseif g:colors_name == 'base16-flat'
      call Base16FlatAfter()
    elseif g:colors_name == 'base16-cupertino'
      call Base16CupertinoAfter()
    elseif g:colors_name == 'base16-materia'
      call Base16MateriaAfter()
    elseif g:colors_name =~ 'onehalf'
      call OnehalfAfter()
    elseif g:colors_name =~ 'base16-atelier-dune'
      call Base16AtelierDuneAfter()
    elseif g:colors_name =~ 'base16-oceanicnext'
      call Base16OceanicnextAfter()
    elseif g:colors_name == 'embark'
      call EmbarkAfter()
    elseif g:colors_name == 'off'
      call OffAfter()
    endif
  endif

  " è®¾ç½®æç¤ºåˆ—çš„é¢œè‰²æ–¹æ¡ˆ.
  call SignColumnHi()

  " ä¼˜åŒ– ale é”™è¯¯æç¤ºæ ‡è¯†çš„é¢œè‰²æ–¹æ¡ˆ.
  call ALESignHi()

  " ä¸º coc-git æ’ä»¶æä¾› git å¢åˆ æ”¹æç¤ºæ ‡è¯†çš„é«˜äº®é¢œè‰²æ–¹æ¡ˆ.
  call GitSignHi()
endfunction

call SetColorscheme()

" *** Vim/Neovim å·²æ‰“å¼€çš„å®ä¾‹è‡ªåŠ¨æ›´æ–° colorscheme ***
" é€šè¿‡å‘½ä»¤è¡Œæˆ–å¿«æ·é”®å˜æ›´ colorscheme æ—¶, ä½¿æ‰“å¼€çš„ vim/neovim å®ä¾‹è‡ªåŠ¨æ›´æ–° colorscheme.

let g:vim_colorscheme_toggle_tmpfile = '~/.vim/signal.tmp'

function! CheckUpdate(timer)
  if filereadable(expand(g:vim_colorscheme_toggle_tmpfile))
    call SetColorscheme()
    call LightlineReload()

    silent! execute '!rm -f ' . g:vim_colorscheme_toggle_tmpfile
  endif

  " æ¯ 50ms è¿è¡Œä¸€æ¬¡è¯¥å‡½æ•°.
  call timer_start(50, 'CheckUpdate')
endfunction

if !exists("g:CheckUpdateStarted")
  let g:CheckUpdateStarted=1
  " 1ms åè¿è¡Œ, ç›¸å½“äºç«‹å³è¿è¡Œ.
  call timer_start(1, 'CheckUpdate')
endif

" ***************************************************

" ,b  normal æ¨¡å¼ä¸‹, åœ¨èƒŒæ™¯æ˜¯ dark å’Œ light ä¹‹é—´åˆ‡æ¢.
nnoremap <silent> <leader>b :call ToggleBGColor()<CR>

" ,o  normal æ¨¡å¼ä¸‹, åœ¨èƒŒæ™¯é€æ˜å’Œä¸é€æ˜ä¹‹é—´åˆ‡æ¢.
" NOTE: terminal éœ€è¦è®¾ç½®é€æ˜åº¦, Vim æ‰èƒ½çœ‹åˆ°åˆ‡æ¢æ•ˆæœ.
nnoremap <silent> <leader>o :call ToggleBGTransparent()<CR>

" }}

" ä»£ç è‡ªåŠ¨è¡¥å…¨  Code Completion {{

"""""""" Exafunction/codeium.vim
" A free AI Completion
" doc: https://github.com/Exafunction/codeium.vim

" Disable default keybindings
let g:codeium_disable_bindings = 1

" <C-]>  Manually trigger suggestion
imap <C-]> <Cmd>call codeium#Complete()<CR>
" <C-j>  Next suggestion
imap <C-j> <Plug>(codeium-next)
" <C-k>  Previous suggestion
imap <C-k> <Plug>(codeium-previous)
" <C-x>  Clear current suggestion
imap <C-x> <Plug>(codeium-dismiss)

" <C-y>  Insert suggestion
imap <script><silent><nowait><expr> <C-y> codeium#Accept()


"""""""" neoclide/coc.nvim
" CoC çš„å…¨ç§°æ˜¯: Conqure of Completion
" doc: https://github.com/neoclide/coc.nvim
"

" *** åŸºæœ¬å‘½ä»¤ ***
"                  :CocInfo  è¡¥å…¨æœåŠ¡å¯åŠ¨å¤±è´¥åŸå› æŸ¥çœ‹.
"               :CocOpenLog  æŸ¥çœ‹è¡¥å…¨æœåŠ¡çš„æ—¥å¿—.
"                :CocConfig  æ‰“å¼€ ~/.vim/coc-settings.json.
"                            NOTE: å·²æ˜ å°„å¿«æ·é”® :C
"       :CocList extensions  æŸ¥çœ‹å®‰è£…äº†å“ªäº›æ‰©å±•, é€šè¿‡ ctrl k/j ä¸Šä¸‹æ»šåŠ¨æŸ¥çœ‹:
"                            * è¡¨ç¤ºæ¿€æ´»çš„æ‰©å±•;
"                            + è¡¨ç¤ºå·²ç»åŠ è½½çš„æ‰©å±•;
"                            - è¡¨ç¤ºç¦ç”¨çš„æ‰©å±•;
"                            ? è¡¨ç¤ºä¸æ­£å¸¸çš„æ‰©å±•.
"                            é€‰ä¸­æŸä¸€ä¸ªæ‰©å±•å, æŒ‰ tab é”®å°†ä¼šæç¤ºç›¸åº”çš„æ“ä½œ.
"                            NOTE: å·²æ˜ å°„å¿«æ·é”® space e
"      :CocInstall coc-json  å®‰è£… Json language server.
"    :CocUninstall coc-json  å¸è½½ Json language server.
"                :CocUpdate  æ›´æ–°æ‰€æœ‰æ‰©å±•.
"          :CocList sources  åˆ—å‡ºå½“å‰å·²ç»æœ‰å“ªäº›ä»£ç è¡¥å…¨çš„æ•°æ®æº.
" ****************

" *** è¡¥å…¨èœå•çš„ç¬¦å·è¯´æ˜ ***
"   [LS]  Language Server, è¡¥å…¨æ¥è‡ªè¯­è¨€æœåŠ¡å™¨.
"    [S]  Snippets, è¡¥å…¨æ¥è‡ª Snippets.
"   [US]  UltiSnips, è¡¥å…¨æ¥è‡ª UltiSnips.
"   [TN]  TabNine, è¡¥å…¨æ¥è‡ª TabNine.
"  [GOC]  Gocode, è¡¥å…¨æ¥è‡ª gocode.
"  [NEC]  Neco-vim, è¡¥å…¨æ¥è‡ª Shougo/neco-vim æ’ä»¶.
"    [A]  Around, è¡¥å…¨æ¥è‡ªå½“å‰æ–‡ä»¶(buffer).
"    [B]  Buffer, è¡¥å…¨æ¥è‡ªå…¶ä»–å·²ç»æ‰“å¼€çš„æ–‡ä»¶(buffer).
"    [F]  File, è¡¥å…¨æ¥è‡ªæ–‡ä»¶åè‡ªåŠ¨æ£€æµ‹.
"      M  Module, æ­¤æ¡è¡¥å…¨ä¼šå¯¼å…¥ä¸€ä¸ªæ¨¡å—.
"      m  method, æ˜¯ä¸€ä¸ªæ–¹æ³•å.
"      I  Interface, æ˜¯ä¸€ä¸ªæ¥å£.
"      S  Struct, æ˜¯ä¸€ä¸ªç»“æ„ä½“.
"      f  func, æ˜¯ä¸€ä¸ªå‡½æ•°.
"      v  variable, æ˜¯ä¸€ä¸ªå˜é‡.
"      C  custom, æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰çš„ç±»å‹.
" **************************

if &rtp =~ '/coc.nvim,'
  " è®¾ç½®éšè—æ¨¡å¼, æœªä¿å­˜çš„ buffer (æ–‡ä»¶)å¯ä»¥è¢«åˆ‡æ¢èµ°æˆ–è€…å…³é—­;
  " å¦‚æœä¸è®¾ç½®è¿™ä¸ª, TextEdit å¯èƒ½å¤±è´¥.
  set hidden

  " åº•éƒ¨å‘½ä»¤æ¨¡å¼çš„æ˜¾ç¤ºé«˜åº¦, é»˜è®¤å€¼ 1.
  " è®¾ç½®ä¸º 2 æ˜¯ä¸ºäº†ç»™æç¤ºä¿¡æ¯æ›´å¤šçš„å±•ç¤ºç©ºé—´, é˜²æ­¢ä¿¡æ¯æˆªæ–­.
  set cmdheight=2

  " ä¸è¦å°†ä¿¡æ¯ä¼ é€’ç»™ ins-completion-menu.
  set shortmess+=c

  " *** coc.nvim æ‰©å±•å®‰è£… ***
  " å°†éœ€è¦å®‰è£…çš„ coc.nvim æ‰©å±•(è¯­è¨€æœåŠ¡å™¨ç­‰) æ”¾åˆ°æ•°ç»„ä¸­,
  " æ‰“å¼€ vim æ—¶, coc.nvim ä¼šè‡ªåŠ¨å¯¹æ‰©å±•è¿›è¡Œè‡ªåŠ¨å®‰è£….
  " doc: https://github.com/neoclide/coc.nvim/wiki/Using-coc-extensions
  " éƒ¨åˆ†æ‰©å±•è¯´æ˜:
  "   coc-jedi: Python3.6.1+
  "   coc-css: Css/Less/Sass
  "   coc-vetur: éœ€è¦åœ¨ vue é¡¹ç›®æ ¹è·¯å¾„ä¸‹è¿è¡Œ: npm i eslint eslint-plugin-vue -D
  "   coc-snippets: éœ€è¦å®‰è£… vim æ’ä»¶: Plug 'honza/vim-snippets'
  "   coc-ultisnips: éœ€è¦å®‰è£… vim æ’ä»¶: Plug 'SirVer/ultisnips'
  "   coc-gocode: ä¸º Go æä¾›ä»£ç ç‰‡æ®µè¡¥å…¨çš„æ•°æ®åº“, éœ€å®‰è£…gocode: go install github.com/nsf/gocode@latest
  "   coc-emoji: Emoji words, é»˜è®¤åªå¯¹ markdown ç±»å‹æ–‡ä»¶å¼€å¯, é€šè¿‡ : è§¦å‘.
  "   coc-xml: ç³»ç»Ÿä¸­éœ€è¦å®‰è£… java: brew install java
  "   coc-tabnine: åŸºäº AI çš„è‡ªåŠ¨è¡¥å…¨ï¼Œå¯ä»¥è¾…åŠ©æ›´å¿«åœ°æ’°å†™ä»£ç .
  let g:coc_global_extensions = [
    \ 'coc-json',
    \ 'coc-git',
    \ 'coc-go',
    \ 'coc-gocode',
    \ 'coc-rls',
    \ 'coc-rust-analyzer',
    \ 'coc-clangd',
    \ 'coc-jedi',
    \ 'coc-java',
    \ 'coc-sh',
    \ 'coc-perl',
    \ 'coc-tsserver',
    \ 'coc-css',
    \ 'coc-cssmodules',
    \ 'coc-emmet',
    \ 'coc-html',
    \ 'coc-vetur',
    \ 'coc-sql',
    \ 'coc-toml',
    \ 'coc-yaml',
    \ 'coc-xml',
    \ 'coc-vimlsp',
    \ 'coc-snippets',
    \ 'coc-ultisnips',
    \ 'coc-emoji',
    \ 'coc-swagger',
    \ 'coc-translator',
    \ 'coc-tabnine',
    \ ]
  " *************************

  " *** ~/.vim/coc-settings.json ***
  "   è¯¥é…ç½®æ–‡ä»¶å¯å¯¹ coc.nvim ä»¥åŠå®‰è£…çš„å„ç§æ‰©å±•è¿›è¡Œä¸ªæ€§é…ç½®,
  "   å¦‚æœå·²ç»å®‰è£…äº† coc-json æ‰©å±•, åˆ™è¯¥é…ç½®æ–‡ä»¶å°†æ”¯æŒè‡ªåŠ¨è¡¥å…¨å’Œåˆæ³•æ€§æ£€æŸ¥,
  "   æ–¹ä¾¿æˆ‘ä»¬è¿›è¡Œé…ç½®.

  " :C  æ‰“å¼€ ~/.vim/coc-settings.json é…ç½®æ–‡ä»¶.
  function! SetupCommandAbbrs(from, to)
    exec 'cnoreabbrev <expr> '.a:from
      \ .' ((getcmdtype() ==# ":" && getcmdline() ==# "'.a:from.'")'
      \ .'? ("'.a:to.'") : ("'.a:from.'"))'
  endfunction
  call SetupCommandAbbrs('C', 'CocConfig')
  " ********************************

  " *** coc-tabnine ***
  " doc: https://github.com/neoclide/coc-tabnine
  "
  " 1) æ‰“å¼€ TabNine çš„é…ç½®æ–‡ä»¶
  "    :CocCommand tabnine.openConfig
  "    NOTE: å¦‚æœå¦‚ä¸Šå‘½ä»¤æ— æ³•æ‰“å¼€ TabNine çš„é…ç½®æ–‡ä»¶, è¯´æ˜ TabNine æ²¡æœ‰æ­£ç¡®å®‰è£….
  "    éœ€è¦å…ˆåˆ é™¤ ~/.config/coc/extensions/coc-tabnine-data,
  "    ç„¶åé‡æ–°å®‰è£… coc-tabnine, :CocInstall coc-tabnine
  " 2) ä¸ºäº†ä½¿ coc.nvim æ›´å¥½çš„é…åˆ TabNine å·¥ä½œ, å°†å¦‚ä¸‹æ¡ç›®åŠ å…¥åˆ° TabNine çš„é…ç½®æ–‡ä»¶
  "    "ignore_all_lsp": true
  " 3) æˆåŠŸå®‰è£…é…ç½®å, åœ¨ä»£ç è¡¥å…¨çš„æ—¶å€™, è¡¥å…¨æç¤ºåˆ—è¡¨ä¸­ä¼šå­˜åœ¨æ ‡è¯†ä¸º [TN] çš„ä»£ç æº.
  " *******************

  " *** coc-translator ***
  " doc: https://github.com/voldikss/coc-translator
  " NOTE: æœ‰å¯èƒ½è¢«googleç¿»è¯‘ç¦æ­¢ä½¿ç”¨å…¶æ¥å£å¯¼è‡´ç¿»è¯‘å¤±è´¥æŠ¥é”™.

  " normal å’Œ visual æ¨¡å¼ä¸‹, å°†å…‰æ ‡ä¸‹çš„å•è¯ä»¥å¼¹å‡ºæ¼‚æµ®çª—å£çš„æ–¹å¼æ˜¾ç¤ºç¿»è¯‘ç»“æœ.
  nmap ts <Plug>(coc-translator-p)
  vmap ts <Plug>(coc-translator-pv)
  " åœ¨çŠ¶æ€æ ä¸‹é¢æ˜¾ç¤ºç¿»è¯‘çš„ç»“æœ.
  nmap tse <Plug>(coc-translator-e)
  vmap tse <Plug>(coc-translator-ev)
  " å°†ç¿»è¯‘ç»“æœæ›¿æ¢æ‰å…‰æ ‡ä¸‹çš„å•è¯.
  nmap tsr <Plug>(coc-translator-r)
  vmap tsr <Plug>(coc-translator-rv)
  " **********************

  " *** coc-css ***
  autocmd FileType scss setl iskeyword+=@-@
  " ***************

  " *** coc-git ***
  " navigate chunks of current buffer
  nmap [g <Plug>(coc-git-prevchunk)
  nmap ]g <Plug>(coc-git-nextchunk)
  " navigate conflicts of current buffer
  nmap [c <Plug>(coc-git-prevconflict)
  nmap ]c <Plug>(coc-git-nextconflict)
  " show chunk diff at current position
  nmap <leader>gd <Plug>(coc-git-chunkinfo)
  " show commit contains current position
  nmap <leader>gc <Plug>(coc-git-commit)
  " ***************

  " Use tab for trigger completion with characters ahead and navigate.
  " NOTE: 1) There's always complete item selected by default, you may want to enable
  " no select by `"suggest.noselect": true` in your configuration file.
  " 2) Use command ':verbose imap <tab>' to make sure <tab> is not mapped by
  " other plugin before putting this into your config.
  inoremap <silent><expr> <TAB>
    \ coc#pum#visible() ? coc#pum#next(1) :
    \ CheckBackspace() ? "\<Tab>" :
    \ coc#refresh()
  inoremap <expr><S-TAB> coc#pum#visible() ? coc#pum#prev(1) : "\<C-h>"

  " Make <CR> to accept selected completion item or notify coc.nvim to format
  " <C-g>u breaks current undo, please make your own choice.
  " NOTE: Use command ':verbose imap <cr>' to make sure <cr> is not mapped by other plugin
  " before putting this into your config.
  inoremap <silent><expr> <CR> coc#pum#visible() ? coc#pum#confirm()
    \: "\<C-g>u\<CR>\<c-r>=coc#on_enter()\<CR>"

  function! CheckBackspace() abort
    let col = col('.') - 1
    return !col || getline('.')[col - 1]  =~# '\s'
  endfunction

  " SirVer/ultisnips æ’ä»¶è§¦å‘è¡¥å…¨çš„é»˜è®¤é…ç½®æ˜¯ tab é”®, ä¼šå’Œ coc çš„å†²çª, éœ€è¦ä¿®æ”¹æ‰.
  " å®é™…ä¸Šå¹¶ä¸ä¼šç”¨åˆ°è¿™é‡Œè®¾ç½®çš„å¿«æ·é”®.
  let g:UltiSnipsExpandTrigger="<leader>,,,f"

  " gd/gl  æ–°å»ºæ ‡ç­¾é¡µçš„æ–¹å¼è·³è½¬åˆ°å®šä¹‰å¤„.
  nmap <silent> gd <Plug>(coc-definition)
  nmap <silent> gl <Plug>(coc-definition)
  " gy  è·³è½¬åˆ°ç±»å‹å®šä¹‰å¤„.
  nmap <silent> gy <Plug>(coc-type-definition)
  " gi  è·³è½¬åˆ°å®ç°å¤„.
  " NOTE: å¯¹äºGoè¯­è¨€ç‰¹åˆ«æœ‰ç”¨, å¯ä»¥ç›´æ¥è·³è½¬åˆ°æ–¹æ³•çš„å®ç°å¤„, è€Œä¸æ˜¯æ–¹æ³•æ‰€åœ¨æ¥å£çš„å®šä¹‰å¤„.
  nmap <silent> gi <Plug>(coc-implementation)
  " gr  åœ¨ location list ä¸­åˆ—å‡ºç›¸å…³æ¡ç›®, å¦‚æœç›¸å…³çš„åªæœ‰1æ¡, åˆ™ç›´æ¥è·³è½¬è¿‡å».
  nmap <silent> gr <Plug>(coc-references)

  " ,rn  çº§è”çš„å¯¹å…‰æ ‡æ‰€åœ¨ symbol è¿›è¡Œé‡å‘½å.
  nmap <leader>rn <Plug>(coc-rename)

  " K  åœ¨æ‚¬æµ®çª—å£ä¸­æŸ¥çœ‹æ–‡æ¡£.
  nnoremap <silent> K :call <SID>show_documentation()<CR>
  function! s:show_documentation()
    if (index(['vim','help'], &filetype) >= 0)
      execute 'h '.expand('<cword>')
    " ä½¿æ”¯æŒ tmux-plugins/vim-tmux æ’ä»¶.
    elseif (index(['tmux'], &filetype) >= 0)
      call tmux#man()
    elseif (coc#rpc#ready())
      call CocActionAsync('doHover')
    else
      execute '!' . &keywordprg . " " . expand('<cword>')
    endif
  endfunction

  " çªå‡ºæ˜¾ç¤ºå…‰æ ‡æ‰€åœ¨ symbol åŠå…¶å¼•ç”¨.
  autocmd CursorHold * silent call CocActionAsync('highlight')

  " ä½¿ç”¨ <C-f> å’Œ <C-b> åœ¨æ‚¬æµ®çª—å£å‘ä¸‹å’Œå‘ä¸Šæ»šåŠ¨, æ¯æ¬¡æ»šåŠ¨è¡Œæ•°ä¸º lines_count,
  " æ¯”å¦‚åœ¨æŸ¥çœ‹è¾ƒé•¿çš„æ–‡æ¡£æ—¶å‡ºç°äº†æ»šåŠ¨æ¡çš„åœºæ™¯ä¸‹ä½¿ç”¨.
  let lines_count=5
  nnoremap <silent><nowait><expr> <C-f> coc#float#has_scroll() ?
    \ coc#float#scroll(1, lines_count) : "\<C-f>"
  nnoremap <silent><nowait><expr> <C-b> coc#float#has_scroll() ?
    \ coc#float#scroll(0, lines_count) : "\<C-b>"
  vnoremap <silent><nowait><expr> <C-f> coc#float#has_scroll() ?
    \ coc#float#scroll(1, lines_count) : "\<C-f>"
  vnoremap <silent><nowait><expr> <C-b> coc#float#has_scroll() ?
    \ coc#float#scroll(0, lines_count) : "\<C-b>"
  " insert æ¨¡å¼ä¸‹, ä»£ç è¡¥å…¨æç¤ºçš„é€‰é¡¹åˆ—è¡¨ä¸­,
  " é€šè¿‡ tab é€‰æ‹©ä¸€é¡¹æ‰€å¼¹å‡ºæ¥çš„è¯¦ç»†è¯´æ˜çª—å£ä¸­å¦‚æœå‡ºç°æ»šåŠ¨æ¡,
  " åˆ™å¯ä»¥ä½¿ç”¨æ­¤å¿«æ·é”®è¿›è¡Œå†…å®¹æ»šåŠ¨, å¦åˆ™åˆ†åˆ«è¡¨ç¤ºå‘å³æˆ–å‘å·¦ç§»åŠ¨ä¸€ä¸ªå­—ç¬¦.
  inoremap <silent><nowait><expr> <C-f> coc#float#has_scroll() ?
    \ "\<c-r>=coc#float#scroll(1, lines_count)\<cr>" : "\<Right>"
  inoremap <silent><nowait><expr> <C-b> coc#float#has_scroll() ?
    \ "\<c-r>=coc#float#scroll(0, lines_count)\<cr>" : "\<Left>"

  " *** CocList ç›¸å…³å‘½ä»¤å¿«æ·é”®æ˜ å°„ ***
  " NOTE: æŒ‰å¿«æ·é”®å‡ºç°ç›¸å…³åˆ—è¡¨å, ä½¿ç”¨ ctrl j/k/f/b è¿›è¡Œæµè§ˆ, ä½¿ç”¨ tab è¿›è¡Œç®¡ç†.
  "
  " space e  åˆ—å‡ºæ‰€æœ‰æ‰©å±•.
  nnoremap <silent><nowait> <space>e  :<C-u>CocList extensions<cr>
  " space c  åˆ—å‡ºæ‰€æœ‰å‘½ä»¤.
  nnoremap <silent><nowait> <space>c  :<C-u>CocList commands<cr>
  " space s  åˆ—å‡ºå½“å‰æ‰€åœ¨æ–‡ä»¶ç±»å‹æœ‰å“ªäº›ä»£ç è¡¥å…¨æ•°æ®æº.
  nnoremap <silent><nowait> <space>s  :<C-u>CocList sources<cr>
  " space p  é‡æ–°åˆ—å‡ºä¸Šä¸€æ¬¡å±•ç¤ºçš„ CocList.
  nnoremap <silent><nowait> <space>p  :<C-u>CocListResume<CR>

endif

" }}

" ä»£ç é™æ€æ£€æŸ¥  Code Static Check {{

" ale ç”¨äºæ›¿ä»£ syntastic æ’ä»¶.
" NOTE: :ALEInfo  ç”¨äºæŸ¥çœ‹å½“å‰æ–‡ä»¶çš„è¯­æ³•æ£€æŸ¥é…ç½®æƒ…å†µ,
" å†…å®¹å°¾éƒ¨æ˜¯å¯¹å½“å‰æ–‡ä»¶å†…å®¹æ‰§è¡Œæ£€æŸ¥çš„æ—¥å¿—, å¯é€šè¿‡è¿™äº›æ—¥å¿—æ’æŸ¥é—®é¢˜.
" doc: https://github.com/dense-analysis/ale

if &rtp =~ '/ale,'
  " å®šåˆ¶æ˜¾ç¤ºåœ¨è¡Œå·¦ä¾§çš„é”™è¯¯æç¤ºç¬¦å’Œè­¦å‘Šæç¤ºç¬¦.
  " é»˜è®¤å€¼: '>>'
  let g:ale_sign_error = '>>'
  " é»˜è®¤å€¼: '--'
  let g:ale_sign_warning = '--'

  " å·¦ä¾§çš„é”™è¯¯/è­¦å‘Šæç¤ºåˆ—æ˜¯å¦ä¸€ç›´ä¿æŒæ‰“å¼€, é»˜è®¤å€¼: 0
  let g:ale_sign_column_always = 0

  " ç”¨äºé”™è¯¯æˆ–è­¦å‘Šæç¤ºçš„å­—ç¬¦ä¸².
  " é»˜è®¤å€¼: 'Error'
  let g:ale_echo_msg_error_str = 'Error'
  " é»˜è®¤å€¼: 'Warning'
  let g:ale_echo_msg_warning_str = 'Warning'

  " è®¾ç½®æç¤ºä¿¡æ¯çš„è¾“å‡ºæ ¼å¼, é»˜è®¤å€¼: '%code: %%s'
  let g:ale_echo_msg_format = '[%linter%] %code: %%s [%severity%]'

  " 2 - Show problems for all lines. Default
  " 1 - Show problems for the current line.
  " 0 - Do not show problems with virtual-text.
  let g:ale_virtualtext_cursor = 1
  let g:ale_virtualtext_prefix = '%comment% %type%: '

  " æ˜¯å¦å°† ale linter å‘ç°çš„é”™è¯¯æˆ–è­¦å‘Šçš„å…·ä½“ä½ç½®åˆ—è¡¨ä¿¡æ¯æ·»åŠ åˆ° location list ä¸­.
  " æˆ‘ä»¬è¿™é‡Œç¦ç”¨, ä»¥é˜²æ­¢ä½¿ç”¨ gr æ—¶, ç ´å gr ä½¿ç”¨çš„ location list.
  " é»˜è®¤å€¼: 1
  let g:ale_set_loclist = 0

  " å¦‚æœ location list ä¸ä¸ºç©º, æ˜¯å¦æ‰“å¼€ä¸€ä¸ªç‹¬ç«‹çš„çª—å£æ˜¾ç¤ºå…¶ä¿¡æ¯, é»˜è®¤å€¼: 0
  let g:ale_open_list = 0
  " é”™è¯¯ä¿¡æ¯çª—å£çš„é«˜åº¦, åœ¨ g:ale_open_list è®¾ç½®ä¸º 1 æ—¶æ‰æœ‰æ•ˆæœ, é»˜è®¤å€¼: 10
  let g:ale_list_window_size = 5

  " é”™è¯¯æˆ–è­¦å‘Šä¿¡æ¯å…¨éƒ¨ä¿®å¤å, æ˜¯å¦ä¿ç•™é”™è¯¯ä¿¡æ¯çª—å£, 1 è¡¨ç¤ºä¿ç•™, é»˜è®¤å€¼: 0
  let g:ale_keep_list_window_open = 0

  " é€€å‡ºæ–‡ä»¶æ—¶, å¦‚æœä»…å‰©é”™è¯¯ä¿¡æ¯çª—å£, åˆ™å…¶ä¹Ÿä¸€åŒé€€å‡º(loclist).
  augroup CloseLoclistWindowGroup
    autocmd!
    autocmd QuitPre * if empty(&buftype) | lclose | endif
  augroup END

  " æ–°æ‰“å¼€æ–‡ä»¶æ—¶æ˜¯å¦è‡ªåŠ¨ lint, é»˜è®¤å€¼: 1
  let g:ale_lint_on_enter = 1

  " ä¿å­˜æ–‡ä»¶æ—¶æ˜¯å¦è¿›è¡Œ lint, é»˜è®¤å€¼: 1
  let g:ale_lint_on_save = 1

  " ä¿å­˜æ–‡ä»¶æ—¶æ˜¯å¦è¿›è¡Œ fix,  é»˜è®¤å€¼: 0
  let g:ale_fix_on_save = 1

  " , k/j åœ¨é”™è¯¯æç¤ºä¹‹é—´è·³è½¬.
  nmap <silent> <leader>k <Plug>(ale_previous_wrap)
  nmap <silent> <leader>j <Plug>(ale_next_wrap)

  " é’ˆå¯¹ä¸åŒè¯­è¨€çš„é™æ€ä»£ç æ£€æŸ¥å·¥å…·é…ç½®.
  " NOTE: 1) å…¶ä»–æ²¡æœ‰åœ¨è¿™é‡Œé…ç½®çš„è¯­è¨€å°†ä½¿ç”¨ ale é»˜è®¤é…ç½®çš„ linter,
  "   å¯ä»¥ä½¿ç”¨ :ALEInfo æ¥æŸ¥çœ‹å½“å‰æ–‡ä»¶ä½¿ç”¨äº†å“ªäº›é»˜è®¤çš„ linter.
  "
  "   2) æ³¨æ„éœ€è¦åœ¨æœ¬åœ°å®‰è£…æ¶‰åŠåˆ°çš„å‘½ä»¤è¡Œå·¥å…·:
  "      brew install golangci-lint lua luarocks tidy-html5 shellcheck jq
  "      luarocks install luacheck
  "      npm install -g eslint standard eslint-plugin-vue vls \
  "          proselint alex write-good stylelint jsonlint
  "      pip3 install pylint flake8 yamllint
  "      go get github.com/golangci/golangci-lint/cmd/golangci-lint@v1.39.0
  "      go get -u github.com/mgechev/revive
  "      sudo gem install mdl
  "
  "      " for terraform
  "      brew install terraform
  "      brew install hashicorp/tap/terraform-ls
  "      brew install tflint
  "
  "      " for c
  "      brew install clang-format
  "
  "      " for css
  "      npm install --save-dev stylelint stylelint-config-standard stylelint-config-standard-scss
  "      " for markdown: https://github.com/igorshubovych/markdownlint-cli
  "      " NOTE: å®‰è£…å®Œæˆåçš„äºŒè¿›åˆ¶æ–‡ä»¶æ˜¯markdownlint
  "      brew install markdownlint-cli
  "
  "   3) eslint é…ç½®æ–‡ä»¶, é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ .eslintrc.json, éœ€è¦é€šè¿‡å¦‚ä¸‹å‘½ä»¤ç”Ÿæˆ,
  "      æˆ‘ä»¬è¿™é‡Œä½¿ç”¨ standard é£æ ¼: eslint --init
  "      æˆ– vue create project-demo(éœ€è¦é€‰æ‹©æ‰‹åŠ¨é…ç½®, é€‰æ‹© standard é£æ ¼),
  "      å°†é…ç½®ç”Ÿæˆåˆ° package.json çš„ eslintConfig å­—æ®µ.
  "
  "   4) prettier é…ç½®æ–‡ä»¶, é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ .prettierrc.json:
  "      {
  "        "singleQuote": true,
  "        "semi": false
  "      }
  "
  "   5) å¯¹äº Python é¡¹ç›®, å¦‚æœä½¿ç”¨è™šæ‹Ÿç¯å¢ƒ, éœ€è¦åœ¨è™šæ‹Ÿç¯å¢ƒä¸‹å®‰è£…ç›¸å…³ linter å·¥å…·,
  "      æ‹¿ Python çš„ä¾èµ–ç®¡ç†å·¥å…· poetry ä¸¾ä¾‹:
  "      poetry init
  "      poetry shell
  "      poetry add pylint flake8 autoimport black isort -D -vvv
  "      å¦‚æœè¦ä½¿ç”¨ neovim, è¿˜éœ€è¦ poetry add neovim -D -vvv
  "
  "   6) css å·¥å…· stylint é…ç½®:
  "      stylelint é…ç½®æ–‡ä»¶, é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ .stylelintrc.json:
  "      {
  "        "extends": "stylelint-config-standard-scss"
  "        "rules": {
  "          "color-function-notation": "legacy",
  "          "selector-class-pattern": "^[a-zA-Z][a-zA-Z0-9-_]*$"
  "        }
  "      }
  "      é…ç½®è§„åˆ™å‚è€ƒ: https://github.com/stylelint/stylelint/blob/main/docs/user-guide/rules/list.md
  let g:ale_linters = {
    \  'go': ['golangci-lint', 'gopls'],
    \  'c': ['cc', 'clangd'],
    \  'rust': ['analyzer', 'cargo', 'rls', 'rustc'],
    \  'python': ['pylint', 'flake8'],
    \  'lua': ['luac', 'luacheck'],
    \  'sh': ['shellcheck', 'language_server'],
    \  'zsh': ['shellcheck', 'language_server'],
    \  'javascript': ['eslint'],
    \  'vue': ['eslint', 'vls'],
    \  'html': ['tidy', 'stylelint', 'alex', 'writegood', 'proselint'],
    \  'css': ['stylelint'],
    \  'scss': ['stylelint'],
    \  'sass': ['stylelint'],
    \  'less': ['stylelint'],
    \  'yaml': ['yamllint'],
    \  'json': ['jq', 'jsonlint'],
    \  'jsonc': ['jq', 'jsonlint'],
    \  'markdown': ['markdownlint'],
    \  'terraform': ['terraform', 'terraform_ls', 'tflint'],
    \ }

  " golangci-lint é…ç½®:
  " æŒ‡å®šå¯æ‰§è¡Œæ–‡ä»¶çš„å…·ä½“åç§°.
  let g:ale_go_golangci_lint_executable = 'golangci-lint'
  " golanci-lint run å‘½ä»¤ä¸åŠ é¢å¤–å‚æ•°, è§£å†³é»˜è®¤åŠ çš„ --enable-all å‚æ•°å¯¼è‡´çš„é”™è¯¯.
  let g:ale_go_golangci_lint_options = ''
  " golangci-lint run å‘½ä»¤ä»¥åŒ…ä¸ºå•ä½è¿›è¡Œæ£€æŸ¥,
  " è§£å†³é»˜è®¤ä»¥æ–‡ä»¶æ–¹å¼æ£€æŸ¥æ—¶çš„ typecheck é”™è¯¯è¯¯æŠ¥çš„é—®é¢˜.
  let g:ale_go_golangci_lint_package = 1

  " Put imports beginning with this string after 3rd-party packages;
  " comma-separated list
  " æ‰§è¡Œgoimportsæ ¼å¼åŒ–æ—¶, å¢åŠ  -local å‚æ•°, å°†æŒ‡å®šå‰ç¼€çš„åŒ…è‡ªåŠ¨åˆ†ç»„åˆ°ç¬¬ä¸‰æ–¹åŒ…å.
  " NOTE: å¼ºçƒˆå»ºè®®åœ¨~/.vimrc.localä¸­æ·»åŠ æ­¤æ¡æŒ‡ä»¤è¦†ç›–æ­¤é…ç½®, è€Œä¸æ˜¯ç›´æ¥æ›´æ”¹æœ¬é…ç½®æ–‡ä»¶.
  let g:ale_go_goimports_options = '-local github.com/windvalley'

  " flake8 é…ç½®:
  " æŒ‡å®šå…è®¸çš„ Python ä»£ç æ¯è¡Œæœ€å¤§å­—ç¬¦æ•°, é»˜è®¤å€¼ 79.
  let g:ale_python_flake8_options = '--max-line-length 120'

  " yamllint é…ç½®:
  " doc: https://yamllint.readthedocs.io/en/stable/configuration.html
  " æŒ‡å®šå¯æ‰§è¡Œæ–‡ä»¶çš„å…·ä½“åç§°.
  let g:ale_yaml_yamllint_executable = 'yamllint'
  " é…ç½®å‚æ•°.
  let g:ale_yaml_yamllint_options = '-d "{
    \ extends: relaxed,
    \ rules: {
    \   line-length: {max: 200},
    \ },
    \ }"'

  " markdownlint é…ç½®:
  " æŒ‡å®šå¯æ‰§è¡Œæ–‡ä»¶çš„å…·ä½“åç§°.
  let g:ale_markdown_markdownlint_executable = 'markdownlint'
  " å¢åŠ é…ç½®æ–‡ä»¶.
  let g:ale_markdown_markdownlint_options = '-c ~/.markdownlint.yaml'

  "  scss ä½¿ç”¨ç³»ç»Ÿå…¨å±€çš„ stylelint å‘½ä»¤.
  let g:ale_scss_stylelint_use_global = 1

  " ä½¿ç”¨ shfmt è¿›è¡Œä»£ç æ ¼å¼åŒ–æ—¶, ä»£ç ç¼©è¿›ä½¿ç”¨4ä¸ªç©ºæ ¼æ›¿ä»£é»˜è®¤çš„tab.
  let g:ale_sh_shfmt_options = '-i 4'

  " é’ˆå¯¹ä¸åŒè¯­è¨€çš„è‡ªåŠ¨ä¿®å¤åŠŸèƒ½.
  "    éœ€è¦å®‰è£…ç›¸å…³çš„å‘½ä»¤è¡Œå·¥å…·:
  "       npm install -g prettier importjs lua-fmt
  "       pip3 install black isort
  "       go install mvdan.cc/sh/v3/cmd/shfmt@latest
  "       brew install pandoc
  "
  " NOTE: g:ale_fixersæ³¨æ„äº‹é¡¹:
  "   1) ä¸è¦ä½¿ç”¨ python çš„ autoimport å·¥å…·, é‡æ–°æ’ç‰ˆçš„ import å¯èƒ½å‘ç”Ÿé”™è¯¯;
  "      ç”¨äº python çš„ isort, å¯é€‰æ‹©æ€§ä½¿ç”¨, æˆ‘è¿™é‡Œä¹Ÿä¸å¯ç”¨,
  "      ç›´æ¥ç”¨ black çš„ import æ’ç‰ˆèƒ½åŠ›å³å¯.
  "   2) lua çš„ luafmt å¯è¿›è¡Œè‡ªåŠ¨æ ¼å¼åŒ–, ç”±äºå…¶æ ¼å¼åŒ–æ•ˆæœä¸ç¬¦åˆæˆ‘çš„å®¡ç¾è¦æ±‚,
  "      æˆ‘è¿™é‡Œæš‚ä¸å¯ç”¨.
  "   3) prettier ç­‰å·¥å…·è‡ªèº«å°±æœ‰ trim_whitespace å’Œ remove_trailing_lines çš„èƒ½åŠ›,
  "      æ‰€ä»¥ä¸ç”¨é‡å¤æ·»åŠ .
  let g:ale_fixers = {
    \  'go': ['gofmt', 'goimports', 'gopls'],
    \  'c': ['clang-format'],
    \  'rust': ['rustfmt'],
    \  'python': ['black', 'add_blank_lines_for_python_control_statements'],
    \  'lua': ['luafmt'],
    \  'sh': ['shfmt'],
    \  'javascript': ['eslint', 'importjs'],
    \  'vue': ['eslint'],
    \  'html': ['prettier'],
    \  'css': ['stylelint'],
    \  'scss': ['stylelint'],
    \  'sass': ['stylelint'],
    \  'less': ['stylelint'],
    \  'json': ['jq'],
    \  'jsonc': ['jq'],
    \  'yaml': ['prettier'],
    \  'markdown': ['prettier'],
    \  'vim': ['trim_whitespace', 'remove_trailing_lines'],
    \  'zsh': ['trim_whitespace', 'remove_trailing_lines'],
    \  'tmux': ['trim_whitespace', 'remove_trailing_lines'],
    \  'terraform': ['terraform', 'trim_whitespace', 'remove_trailing_lines'],
    \ }
endif

" }}

" ä»£ç è°ƒè¯•  Code Debug {{

"""""" puremourning/vimspector
" doc: https://github.com/puremourning/vimspector

if &rtp =~ '/vimspector,'
  let g:vimspector_enable_mappings = 'HUMAN'

  " å¯åŠ¨ debug æ¨¡å¼, æˆ–è¿è¡Œåˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹.
  nmap <leader>dc <Plug>VimspectorContinue

  " åœæ­¢è¿è¡Œ debug æ¨¡å¼.
  nmap <leader>ds <Plug>VimspectorStop

  " é‡æ–°è¿è¡Œ debug æ¨¡å¼.
  nmap <leader>dr <Plug>VimspectorRestart

  " è®¾ç½®è¡Œæ–­ç‚¹.
  nmap <leader>db <Plug>VimspectorToggleBreakpoint

  " è¿è¡Œåˆ°ä¸‹ä¸€è¡Œä»£ç , æ¯æŒ‰ä¸€æ¬¡è¿è¡Œä¸€è¡Œä»£ç .
  nmap <leader>dl <Plug>VimspectorStepOver

  " step in è¿›å…¥ breakpoint æ‰€åœ¨è¡Œè°ƒç”¨çš„å‡½æ•°å†…éƒ¨.
  nmap <leader>di <Plug>VimspectorStepInto

  " step out ä»è¿›å…¥çš„å‡½æ•°ä¸­è¿”å›.
  nmap <leader>do <Plug>VimspectorStepOut

  " æŸ¥çœ‹å…‰æ ‡æ‰€åœ¨å˜é‡çš„å€¼, æ³¨æ„åœ¨ debug æ¨¡å¼ä¸‹å¿…é¡»è¿è¡Œè¿‡äº†è¿™ä¸€è¡Œæ‰å¯ä»¥.
  nmap <Leader>dv <Plug>VimspectorBalloonEval
  xmap <Leader>dv <Plug>VimspectorBalloonEval

  " ,dj  é€‰æ‹©æ¨¡ç‰ˆæ–‡ä»¶, åœ¨é¡¹ç›®çš„æ ¹ç›®å½•åˆ›å»ºå¿…é¡»çš„ .vimspector.json æ–‡ä»¶.
  noremap <silent><leader>dj :tabe .vimspector.json<CR>:LoadVimSpectorJsonTemplate<CR>

  function! s:read_template_into_buffer(template)
    execute '0r ~/.dotfiles/vim/vimspector/'.a:template
  endfunction

  command! -bang -nargs=* LoadVimSpectorJsonTemplate call fzf#run({
    \ 'source': 'ls -1 ~/.dotfiles/vim/vimspector',
    \ 'down': 10,
    \ 'sink': function('<sid>read_template_into_buffer')
    \ })

  " æ–­ç‚¹å›¾æ ‡.
  sign define vimspectorBP            text=ğŸŒ•  texthl=NONE
  " æ¡ä»¶æ–­ç‚¹å›¾æ ‡.
  sign define vimspectorBPCond        text=ğŸ”¶  texthl=NONE
  " å¤±æ•ˆçš„æ–­ç‚¹å›¾æ ‡.
  sign define vimspectorBPDisabled    text=ğŸŒ‘  texthl=NONE
  " å½“å‰è°ƒè¯•åˆ°çš„éæ–­ç‚¹æ‰€åœ¨è¡Œå›¾æ ‡.
  sign define vimspectorPC            text=ğŸ’  texthl=NONE       linehl=CursorLine
  " å½“å‰è°ƒè¯•åˆ°çš„æ–­ç‚¹æ‰€åœ¨è¡Œå›¾æ ‡.
  sign define vimspectorPCBP          text=â—â–¶  texthl=GitAddSign linehl=CursorLine
  " vimspector.StackTrace çª—å£é‡Œæ˜¾ç¤ºçš„å½“å‰çº¿ç¨‹å›¾æ ‡.
  sign define vimspectorCurrentThread text=ğŸ  texthl=NONE       linehl=CursorLine
  " vimspector.StackTrace çª—å£é‡Œæ˜¾ç¤ºçš„å½“å‰çº¿ç¨‹çš„æŸæ®µä»»åŠ¡ä»£ç çš„æ‰€åœ¨å›¾æ ‡.
  sign define vimspectorCurrentFrame  text=ğŸ’  texthl=NONE       linehl=CursorLine

  " è§£å†³å…¶ä»–æ’ä»¶çš„ sign è¦†ç›–æ‰ vimspector sign çš„é—®é¢˜.
  let g:vimspector_sign_priority = {
    \ 'vimspectorBP':            199,
    \ 'vimspectorBPCond':        199,
    \ 'vimspectorBPDisabled':    199,
    \ 'vimspectorPC':            200,
    \ 'vimspectorPCBP':          200,
    \ 'vimspectorCurrentThread': 200,
    \ 'vimspectorCurrentFrame':  200,
    \ }
endif

" }}

" ç¼–ç¨‹è¯­è¨€  Programming Languages {{

"""""""" Go {{

" æ˜¾ç¤ºç¼©è¿›çº¿.
autocmd FileType go set list lcs=tab:\Â¦\ " æ³¨æ„ç»“å°¾æœ‰ä¸€ä¸ªç©ºæ ¼.

"""""" buoto/gotests-vim
" doc: https://github.com/buoto/gotests-vim
" :GoTests to generate a test for the function at the current line or functions selected in visual mode.
" :GoTestsAll to generate tests for all functions in the current buffer.

" normal æˆ– visual æ¨¡å¼ä¸‹æŒ‰ tt ç”Ÿæˆå…‰æ ‡æ‰€åœ¨å‡½æ•°æˆ–é€‰æ‹©çš„å‡½æ•°çš„å•å…ƒæµ‹è¯•æ¨¡ç‰ˆä»£ç .
noremap tt :GoTests<CR>
" normal æˆ– visual æ¨¡å¼ä¸‹æŒ‰ gtt ç”Ÿæˆå½“å‰ Go æ–‡ä»¶çš„æ‰€æœ‰å‡½æ•°çš„å•å…ƒæµ‹è¯•æ¨¡ç‰ˆä»£ç .
noremap gtt :GoTestsAll<CR>

"""""" fatih/vim-go
" doc: https://github.com/fatih/vim-go

" *** ä»£ç è‡ªåŠ¨æ ¼å¼åŒ– ***
" ä½¿ç”¨ ale æ’ä»¶æ¥å®ç°, æ•…ç¦ç”¨ vim-go çš„ç›¸å…³åŠŸèƒ½.

" é»˜è®¤å€¼: 1
let g:go_fmt_autosave = 0

" é»˜è®¤å€¼: 1
let g:go_imports_autosave = 0

" *** ä»£ç é«˜æ•ˆé˜…è¯» ***

" ä½¿ç”¨ K è§¦å‘ :GoDoc æ–‡æ¡£, è¦†ç›–é»˜è®¤çš„ man, é»˜è®¤å€¼: 1, è¡¨ç¤ºå¯ç”¨;
" æ­¤å¤„ç¦ç”¨, è¿™é‡Œä½¿ç”¨ coc.nvim çš„ K æ˜ å°„.
let g:go_doc_keywordprg_enabled = 0

" gr  åœ¨ location list ä¸­åˆ—å‡ºå“ªäº›åœ°æ–¹å¼•ç”¨äº†å…‰æ ‡æ‰€åœ¨çš„å¯¹è±¡.
" NOTE: coc-go çš„ gr è¡¨ç°çš„æ›´å¥½, æ•…æ³¨é‡Šæ‰ä¸ä½¿ç”¨æ­¤é…ç½®.
"au FileType go nmap gr :GoReferrers<CR>

" ,cl  åœ¨ location list ä¸­åˆ—å‡ºå“ªäº›åœ°æ–¹è°ƒç”¨äº†å…‰æ ‡æ‰€åœ¨çš„å‡½æ•°.
au FileType go nmap <leader>cl :GoCallers<CR>
" ,s  æŸ¥çœ‹å…‰æ ‡æ‰€åœ¨çš„ç±»å‹å®ç°äº†å“ªäº›æ¥å£, æ³¨æ„å…‰æ ‡åªèƒ½åœ¨ç±»å‹æˆ–ç±»å‹çš„æ–¹æ³•ä¸Š.
au FileType go nmap <leader>s <Plug>(go-implements)

" NOTE: Go è·³è½¬åˆ°å…‰æ ‡æ‰€åœ¨å‡½æ•°å®šä¹‰å¤„çš„ 4 ç§æ–¹å¼å‡ç”± vim-go æ’ä»¶æä¾›.
"   å¦‚æœå…‰æ ‡æ‰€åœ¨å‡½æ•°å®šä¹‰å¤„å°±æ˜¯åœ¨å½“å‰é¡µé¢, åˆ™ç›´æ¥åœ¨å½“å‰é¡µå†…è·³è½¬, å¹¶ä¸æ‰“å¼€æ–°é¡µé¢;
"   å¦‚æœåœ¨å½“å‰é¡µé¢å†…è·³è½¬, æ¨èä½¿ç”¨ ctrl o/i æ¥å›è·³è½¬åˆ‡æ¢, ä»¥æé«˜æ•ˆç‡.
"
" gl  æ–°å¼€ä¸€ä¸ªæ ‡ç­¾é¡µçš„æ–¹å¼è·³è½¬åˆ°å‡½æ•°å®šä¹‰å¤„, coc.nvim æä¾›çš„èƒ½åŠ›,
"     è¿™é‡Œæˆ‘ä»¬ä¸ä½¿ç”¨ vim-go æä¾›çš„ go-def-tab,
"     å› ä¸º go-def-tab ç»å¸¸ä¼šé”™è¯¯çš„ä»¥ä¸Šä¸‹åˆ†å±çš„æ–¹å¼è·³è½¬åˆ°å®šä¹‰å¤„.
"
" gd  ä»¥è¦†ç›–å½“å‰é¡µé¢çš„æ–¹å¼è·³è½¬åˆ°å‡½æ•°å®šä¹‰å¤„.
au FileType go nmap <silent> gd <Plug>(go-def)
" gs  ä¸Šä¸‹åˆ†å±è·³è½¬åˆ°å‡½æ•°å®šä¹‰å¤„.
au FileType go nmap <silent> gs <Plug>(go-def-split)
" gv  å·¦å³åˆ†å±è·³è½¬åˆ°å‡½æ•°å®šä¹‰å¤„.
au FileType go nmap <silent> gv <Plug>(go-def-vertical)

" å¯¹äºè·³è½¬åˆ°å¯¹è±¡å®šä¹‰å¤„çš„åŠŸèƒ½, é‡ç”¨å·²ç»æ‰“å¼€çš„buffer. é»˜è®¤å€¼: 0
let g:go_def_reuse_buffer = 0

" *** ä»£ç è‡ªåŠ¨ç”Ÿæˆ ***

" ,im  è‡ªåŠ¨ä¸ºå…‰æ ‡ä¸‹çš„ç±»å‹ç”ŸæˆæŒ‡å®šæ¥å£çš„å®ç°æ–¹æ³•.
au FileType go nmap <leader>im :GoImpl<CR>
" ,ki  è‡ªåŠ¨æŠŠå…‰æ ‡æ‰€åœ¨çš„ç»“æ„ä½“å­—é¢é‡(ä»…æœ‰valueæ²¡æœ‰keyçš„æƒ…å†µ)è¡¥å……ä¸Šå­—æ®µ.
au FileType go nmap <leader>ki :GoKeyify<CR>
" ,fs  è‡ªåŠ¨æŠŠå…‰æ ‡æ‰€åœ¨çš„ç»“æ„ä½“å­—é¢é‡, ä»¥å­—æ®µé›¶å€¼æ–¹å¼è¡¥ä¸Šå°šæœªå¡«å†™çš„å­—æ®µ.
au FileType go nmap <leader>fs :GoFillStruct<CR>
" ,ie  è‡ªåŠ¨ç”Ÿæˆ if err != nil ä»£ç æ®µ.
au FileType go nmap <leader>ie :GoIfErr<CR>
" ,at  ä¸ºå…‰æ ‡æ‰€åœ¨çš„ç»“æ„ä½“å®šä¹‰è‡ªåŠ¨ç”Ÿæˆå­—æ®µå¯¹åº”çš„tags.
au FileType go nmap <leader>at :GoAddTags<CR>

" ä½¿ç”¨ :GoAddTags æ—¶, æ˜¯å¦å¿½ç•¥æœªå¯¼å‡ºçš„ç»“æ„ä½“å­—æ®µ(å³å°å†™å­—æ®µ), 1 è¡¨ç¤ºå¿½ç•¥. é»˜è®¤å€¼: 0
let g:go_addtags_skip_unexported = 1

" ,rn  çº§è”çš„é‡å‘½åå…‰æ ‡ä¸‹çš„æ ‡è¯†ç¬¦, é‡å‘½åå, é¡¹ç›®å†…çš„æ‰€æœ‰ä¸å…¶ç›¸å…³çš„åœ°æ–¹å…¨éƒ¨ä¼šæ›´æ–°;
"      ç”±äº coc.nvim çš„ ,rn è¡¨ç°çš„æ›´å¥½, æ³¨é‡Šæ­¤é…ç½®.
"au FileType go nmap <leader>rn :GoRename<CR>

" æ–°åˆ›å»ºä¸€ä¸ª .go æ–‡ä»¶æ—¶, æ˜¯å¦è‡ªåŠ¨ä½¿ç”¨æ¨¡ç‰ˆå†…å®¹å¡«å……, é»˜è®¤å€¼: 1
let g:go_template_autocreate = 1
" æ˜¯å¦ä»…è‡ªåŠ¨ç”Ÿæˆ package pkgname ä¸€è¡Œä»£ç , é»˜è®¤å€¼: 0
" NOTE: å°†è¦†ç›–æ‰ let g:go_template_autocreate = 1 çš„ä½œç”¨.
let g:go_template_use_pkg = 1

" *** è¿è¡Œå½“å‰ Go æ–‡ä»¶ ***

" ,gr  go run å½“å‰çš„ go æ–‡ä»¶.
au FileType go nmap <leader>gr <Plug>(go-run)
" ,gb  go build å½“å‰çš„ go æ–‡ä»¶, ä¸äº§ç”ŸäºŒè¿›åˆ¶æ–‡ä»¶, åªæ˜¯æ£€æŸ¥æ˜¯å¦å¯ä»¥æˆåŠŸ build.
au FileType go nmap <leader>gb <Plug>(go-build)
" ,gt  go test å½“å‰çš„ go æ–‡ä»¶.
au FileType go nmap <leader>gt <Plug>(go-test)

" *** ä»£ç è¯­æ³•é«˜äº® ***

" ä»¥ä¸‹æŒ‡ä»¤é»˜è®¤å€¼éƒ½æ˜¯ 0.
let g:go_highlight_array_whitespace_error = 1
let g:go_highlight_chan_whitespace_error = 1
let g:go_highlight_extra_types = 1
let g:go_highlight_space_tab_error = 1
let g:go_highlight_trailing_whitespace_error = 1
let g:go_highlight_operators = 1
let g:go_highlight_functions = 1
let g:go_highlight_function_parameters = 1
let g:go_highlight_function_calls = 1
let g:go_highlight_types = 1
let g:go_highlight_fields = 1
let g:go_highlight_build_constraints = 1
let g:go_highlight_generate_tags = 1
let g:go_highlight_variable_declarations = 1
let g:go_highlight_variable_assignments = 1

" ä»¥ä¸‹æŒ‡ä»¤é»˜è®¤å€¼éƒ½æ˜¯1.
let g:go_highlight_string_spellcheck = 1
let g:go_highlight_format_strings = 1
let g:go_highlight_diagnostic_errors = 1
let g:go_highlight_diagnostic_warnings = 1

" *** å…¶ä»– ***

" å°† ctrl t é”®ç»‘å®šå–æ¶ˆ.
let g:go_def_mapping_enabled = 0

" }}

"""""""" Rust {{

"""""" mhinz/vim-crates
if has('nvim')
  autocmd BufRead Cargo.toml call crates#toggle()
endif

" }}

"""""""" Python {{

" requirements æ–‡æœ¬æ–‡ä»¶å†…å®¹ä¹Ÿé«˜äº®æ˜¾ç¤º.
autocmd BufNewFile,BufRead requirements*.txt set ft=python

" æ–°å»º .py ç»“å°¾çš„æ–‡ä»¶æ—¶, è‡ªåŠ¨è¾“å…¥ä¸€äº›å†…å®¹
func SetTitleForPython()
  call setline(1, "\#!/usr/bin/env python3")
  call setline(2, "\"\"\"")
  call setline(3, "Author: windvalley")  " æ”¹æˆä½ è‡ªå·±çš„åå­—
  call setline(4, "Created Time: ".strftime("%Y-%m-%d %H:%M:%S"))
  call setline(5, "\"\"\"")
  normal G
  normal o
  normal o
  " ä¸ºæ–°åˆ›å»ºçš„ .py æ–‡ä»¶è‡ªåŠ¨èµ‹äºˆå¯æ‰§è¡Œæƒé™
  au BufWritePost *.py silent !chmod a+x <afile>
endfunc
autocmd bufnewfile *.py call SetTitleForPython()

" å¦‚æœä¸€ä¸ª .py æ–‡ä»¶å¼€å¤´ç¬¬ä¸€è¡Œä¸æ˜¯ä»¥ #! å¼€å¤´, å°±å»é™¤æ‰æ–‡ä»¶çš„å¯æ‰§è¡Œæƒé™.
function! NoShabang(line1, current_file)
  if a:line1 !~ '^#!'
    let chmod_command = "silent !chmod ugo-x " . a:current_file
    execute chmod_command
  endif
endfunction
autocmd BufWritePost *.py call NoShabang(getline(1), expand("%:p"))

" }}

"""""""" OpenResty/Lua {{

func SetTitleForLua()
  " è‡ªåŠ¨è·å–æ–‡ä»¶åç§°, ä¸åŒ…å«æ–‡ä»¶æ‰©å±•å.
  let filename = expand('%:r')
  let lua_module_name = join(["_M.name = \"", filename, "\""], "")

  call setline(1, "local ngx = require \"ngx\"")
  call setline(2, "")
  call setline(3, "")
  call setline(4, "local _M = {}")
  call setline(5, "")
  call setline(6, "_M._VERSION = 0.1")
  call setline(7, lua_module_name)
  call setline(8, "")
  normal G
  normal o
  normal o
endfunc
autocmd bufnewfile *.lua call SetTitleForLua()

" }}

"""""""" Javascript/vue/html/css {{

" css
autocmd FileType css set omnifunc=csscomplete#CompleteCSS

" å°† json ç±»å‹æ–‡ä»¶è‡ªåŠ¨è½¬æ¢ä¸º jsonc ç±»å‹, è¿™æ ·å°±å¯ä»¥ä½¿ç”¨ // å’Œ /* */ æ¥æ³¨é‡Šäº†.
" NOTE: jsconfig.json æ–‡ä»¶é™¤å¤–, è¯¥æ–‡ä»¶ä¸éœ€è¦è½¬æ¢å°±æ˜¯ jsonc ç±»å‹, å¼ºåˆ¶è½¬åŒ–ä¼šæŠ¥é”™.
autocmd BufNewFile,BufRead [^jsconfig]*.json set ft=jsonc

"""""" posva/vim-vue æ’ä»¶
" è§£å†³ vim-vue æ’ä»¶å¯¼è‡´çš„ Vim é€Ÿåº¦å˜æ…¢çš„é—®é¢˜.
let g:vue_pre_processors = []

"""""" 'mattn/emmet-vim'
" doc: https://raw.githubusercontent.com/mattn/emmet-vim/master/TUTORIAL
" ä½¿ç”¨æ–¹æ³•:
" 1. æ‰“å¼€ *.html æ–‡ä»¶, è¾“å…¥`html:5`, ç„¶å`ctrl y ,`, å³å¯è‡ªåŠ¨ç”Ÿæˆhtmlä»£ç æ¨¡ç‰ˆ
" 2. è¾“å…¥`div`, ç„¶å`ctrl y ,`, å³å¯è‡ªåŠ¨ç”Ÿæˆ: <div></div>
" 3. è¾“å…¥`#foo`, ç„¶å`ctrl y ,`, å¯è‡ªåŠ¨ç”Ÿæˆ: <div id="foo"></div>
" 4. è¾“å…¥`div>p>a`, ç„¶å`ctrl y ,`, å¯è‡ªåŠ¨ç”Ÿæˆ: <div><p><a href=""></a></p></div>

" Enable just for html/css
let g:user_emmet_install_global = 0
autocmd FileType html,css EmmetInstall

" é»˜è®¤å€¼: <C-y>
let g:user_emmet_leader_key='<C-y>'

" }}

"""""""" Shell {{

func SetTitleForShell()
  let current_filename = expand('%:t')
  call setline(1, "\#!/usr/bin/env bash")
  call setline(2, "# " . current_filename)
  call setline(3, "#")
  " æ”¹æˆä½ è‡ªå·±çš„åå­—
  "call setline(4, "# Author: windvalley")
  "call setline(5, "# Created Time: ".strftime("%Y-%m-%d %H:%M:%S"))
  call setline(4, "")
  normal G
  normal o
  normal o
  " ä¸ºæ–°åˆ›å»ºçš„ .sh æ–‡ä»¶è‡ªåŠ¨èµ‹äºˆå¯æ‰§è¡Œæƒé™
  au BufWritePost *.sh silent !chmod a+x <afile>
endfunc
autocmd bufnewfile *.sh call SetTitleForShell()

" }}

"""""""" Markdown {{

" ç¼©è¿›å¤§å°æ”¹ä¸º 2 ä¸ªç©ºæ ¼, insert æ¨¡å¼ä¸‹å°† tab æ‰©å±•ä¸º 2 ä¸ªç©ºæ ¼.
au FileType markdown setlocal expandtab ts=2 sw=2 sts=2

""""""" dhruvasagar/vim-table-mode
" doc: https://github.com/dhruvasagar/vim-table-mode

" normal æ¨¡å¼ä¸‹, é»˜è®¤ä»¥ ,tm æ¥å¼€å¯æˆ–å…³é—­ table mode.
noremap <leader>tm :TableModeToggle<CR>

" åœ¨ insert æ¨¡å¼ä¸‹, è¾“å…¥ ||| åæŒ‰ ESC æ¥å¼€å¯ table mode,
" è¾“å…¥ __ åæŒ‰ ESC å…³é—­ table mode.
function! s:isAtStartOfLine(mapping)
  let text_before_cursor = getline('.')[0 : col('.')-1]
  let mapping_pattern = '\V' . escape(a:mapping, '\')
  let comment_pattern = '\V' . escape(substitute(&l:commentstring, '%s.*$', '', ''), '\')
  return (text_before_cursor =~? '^' . ('\v(' . comment_pattern . '\v)?')
    \ . '\s*\v' . mapping_pattern . '\v$')
endfunction

inoreabbrev <expr> <bar><bar>
  \ <SID>isAtStartOfLine('\|\|') ?
  \ '<c-o>:TableModeEnable<cr><bar><space><bar><left><left>' : '<bar><bar>'

inoreabbrev <expr> __
  \ <SID>isAtStartOfLine('__') ?
  \ '<c-o>:silent! TableModeDisable<cr>' : '__'

""""""" instant-markdown/vim-instant-markdown
" doc: https://github.com/instant-markdown/vim-instant-markdown

" ,p  æ‰“å¼€æµè§ˆå™¨é¢„è§ˆ.
nmap <silent><leader>p :InstantMarkdownPreview<CR>

" ,,p  å…³é—­é¢„è§ˆ.
nmap <silent><leader><leader>p :InstantMarkdownStop<CR>

" æ˜¯å¦æ‰“å¼€ markdown ç±»å‹æ–‡ä»¶æ—¶è‡ªåŠ¨æ‰“å¼€é¢„è§ˆ, é»˜è®¤å€¼: 1
let g:instant_markdown_autostart = 0

" æŒ‡å®šæ—¥å¿—æ–‡ä»¶.
let g:instant_markdown_logfile = '/tmp/instant_markdown.log'

""""""" è‡ªå®šä¹‰å¿«é€Ÿè¾“å…¥ markdown è¯­æ³•æ ‡è¯†ç¬¦çš„å¿«æ·é”®
" from: https://github.com/theniceboy/nvim/blob/master/md-snippets.vim
" NOTE: æ­¤éƒ¨åˆ†å®šä¹‰çš„å¿«æ·é”®éœ€è¦å…¨éƒ¨åœ¨ insert æ¨¡å¼ä¸‹ä½¿ç”¨.

" ,b  ç”Ÿæˆç²—ä½“å­—æ ‡è¯†ç¬¦.
autocmd Filetype markdown inoremap <buffer> <leader>b **** <++><Esc>F*hi
" ,i  ç”Ÿæˆæ–œä½“å­—æ ‡è¯†ç¬¦.
autocmd Filetype markdown inoremap <buffer> <leader>i ** <++><Esc>F*i
" ,s  ç”Ÿæˆåˆ é™¤çº¿æ ‡è¯†ç¬¦.
autocmd Filetype markdown inoremap <buffer> <leader>s ~~~~ <++><Esc>F~hi

" ,d  ç”Ÿæˆè¡Œå†…ä»£ç æ ‡è¯†ç¬¦.
autocmd Filetype markdown inoremap <buffer> <leader>d `` <++><Esc>F`i
" ,c  ç”Ÿæˆä»£ç æ®µæ ‡è¯†ç¬¦.
autocmd Filetype markdown inoremap <buffer> <leader>c
  \ ```<Enter><++><Enter>```<Enter><Enter><++><Esc>4kA

" ,m  ç”Ÿæˆä»£åŠäº‹é¡¹æ ‡è¯†ç¬¦.
autocmd Filetype markdown inoremap <buffer> <leader>m - [ ] <Esc>a
" ,p  ç”Ÿæˆå›¾ç‰‡é“¾æ¥æ ‡è¯†ç¬¦.
autocmd Filetype markdown inoremap <buffer> <leader>p ![](<++>) <++><Esc>F[a
" ,a  ç”Ÿæˆè¶…é“¾æ¥æ ‡è¯†ç¬¦.
autocmd Filetype markdown inoremap <buffer> <leader>a [](<++>) <++><Esc>F[a

" ,1/2/3/4/5/6  ç”Ÿæˆä¸€çº§åˆ°å…­çº§æ ‡é¢˜.
autocmd Filetype markdown inoremap <buffer> <leader>1 #<Space><Enter><++><Esc>kA
autocmd Filetype markdown inoremap <buffer> <leader>2 ##<Space><Enter><++><Esc>kA
autocmd Filetype markdown inoremap <buffer> <leader>3 ###<Space><Enter><++><Esc>kA
autocmd Filetype markdown inoremap <buffer> <leader>4 ####<Space><Enter><++><Esc>kA
autocmd Filetype markdown inoremap <buffer> <leader>5 #####<Space><Enter><++><Esc>kA
autocmd Filetype markdown inoremap <buffer> <leader>6 ######<Space><Enter><++><Esc>kA

" ,l  ç”Ÿæˆæ°´å¹³çº¿.
autocmd Filetype markdown inoremap <buffer> <leader>l ---<Enter><Enter>

" ,f  ä»¥ä¸Šå‡ ä¹æ¯ä¸€ä¸ªå¿«æ·é”®éƒ½ä¼šç”Ÿæˆä¸€ä¸ªå ä½ç¬¦(<++>), æŒ‰ ,f å…‰æ ‡ä¼šè·³è½¬åˆ°å ä½ç¬¦, å¹¶åŒæ—¶åˆ é™¤å ä½ç¬¦.
autocmd Filetype markdown inoremap <buffer> <leader>f <Esc>/<++><CR>:nohlsearch<CR>"_c4l
" ,w  ç›¸æ¯”äº ,f è¿˜ä¼šå¢åŠ ä¸€ä¸ªæ¢è¡ŒåŠ¨ä½œ.
autocmd Filetype markdown inoremap <buffer> <leader>w <Esc>/<++><CR>:nohlsearch<CR>"_c5l<CR>

" }}

"""""""" Vim/Neovim {{

" ç¼©è¿›å¤§å°æ”¹ä¸º 2 ä¸ªç©ºæ ¼, insert æ¨¡å¼ä¸‹å°† tab æ‰©å±•ä¸º 2 ä¸ªç©ºæ ¼,
" æ­¤æ—¶, å¦‚æœæƒ³æ‰“å° tab æœ¬èº«çš„è¯, éœ€è¦æŒ‰ ctrl v tab
au FileType vim setlocal expandtab ts=2 sw=2 sts=2

" }}

"""""""" Yaml {{

au FileType yaml setlocal expandtab ts=2 sw=2 sts=2

" }}

" }}

" å…‰æ ‡ç§»åŠ¨  Cursor Movement {{

"""""" easymotion/vim-easymotion
" doc: https://github.com/easymotion/vim-easymotion

if &rtp =~ '/vim-easymotion,'
  " æ ‡è®°æ‰€æœ‰çª—å£çš„å•è¯.
  nmap <leader>w <Plug>(easymotion-overwin-w)
  " ä»…æ ‡è®°å½“å‰çª—å£çš„å•è¯.
  "map  <leader>w <Plug>(easymotion-bd-w)

  " æ ‡è®°æ‰€æœ‰çª—å£çš„æ‰€æœ‰è¡Œé¦–å­—ç¬¦.
  nmap <leader>L <Plug>(easymotion-overwin-line)
  " æ ‡è®°å½“å‰çª—å£çš„æ‰€æœ‰è¡Œé¦–å­—ç¬¦.
  "map <leader>L <Plug>(easymotion-bd-jk)

  " æ ‡è®°å½“å‰è¡Œå…‰æ ‡å³ä¾§çš„å­—ç¬¦.
  map <leader>l <Plug>(easymotion-lineforward)

  " æ ‡è®°å½“å‰è¡Œå…‰æ ‡å·¦ä¾§çš„å­—ç¬¦.
  map <leader>h <Plug>(easymotion-linebackward)

  " è¾“å…¥ 1 ä¸ªç›®æ ‡å­—ç¬¦å³å¯é«˜äº®å®šä½, æ”¯æŒå¤šçª—å£åŒæ—¶å®šä½.
  nmap s <Plug>(easymotion-overwin-f)
  " éœ€è¦è¾“å…¥ 2 ä¸ªç›®æ ‡å­—ç¬¦æ‰å¯é«˜äº®å®šä½, æ”¯æŒå¤šçª—å£åŒæ—¶å®šä½.
  "nmap s <Plug>(easymotion-overwin-f2)

  " æ˜¯å¦å¯ç”¨é»˜è®¤çš„å¿«æ·é”®æ˜ å°„, é»˜è®¤å€¼: 1, è¡¨ç¤ºå¯ç”¨.
  let g:EasyMotion_do_mapping = 1

  " æœç´¢å­—æ¯çš„æ—¶å€™æ˜¯å¦å¿½ç•¥å¤§å°å†™å’Œ Vim çš„ smartcase è¡¨ç°ä¸€è‡´.
  let g:EasyMotion_smartcase = 1

  " æœç´¢å°å†™å­—æ¯, æœç´¢ç»“æœå¤§å°å†™å­—æ¯éƒ½åŒ…å«, ä½†æœç´¢å¤§å†™å­—æ¯æ—¶, æœç´¢ç»“æœä»…åŒ…å«å¤§å†™å­—æ¯.
  let g:EasyMotion_use_smartsign_us = 1
endif

" }}

" æ–‡æœ¬ç¼–è¾‘  Text Editing {{

"""""" matze/vim-move
" doc: https://github.com/matze/vim-move
"
" [n] meta k/j/h/l   normal æ¨¡å¼ä¸‹å°†å…‰æ ‡æ‰€åœ¨è¡Œå‘ä¸Š/å‘ä¸‹ç§»åŠ¨ n è¡Œ,
"                    æˆ–å°†å…‰æ ‡æ‰€åœ¨å­—ç¬¦å‘å·¦/å‘å³ç§»åŠ¨ n ä¸ªå­—ç¬¦;
"                    visual æ¨¡å¼ä¸‹å°†é€‰æ‹©çš„å†…å®¹å‘ä¸Š/å‘ä¸‹ç§»åŠ¨ n è¡Œ,
"                    æˆ–å°†é€‰æ‹©çš„å†…å®¹å—å‘å·¦/å‘å³ç§»åŠ¨ n ä¸ªå­—ç¬¦.

if &rtp =~ '/vim-move,'
  " é»˜è®¤å€¼ä¸º M, å³ Meta é”®, ä¹Ÿå°±æ˜¯ macOS çš„ Option é”®, Windows çš„ Alt é”®.
  " å¯é€‰å€¼:
  "   M: Meta(Alt/Option)
  "   C: Ctrl
  "   S: Shift
  let g:move_key_modifier = 'M'
endif

"""""" tpope/vim-commentary
" doc: https://github.com/tpope/vim-commentary

" å¯¹äºjsoncæ–‡ä»¶ç±»å‹, å®šåˆ¶æ³¨é‡Šæ ‡è¯†ç¬¦ä¸º: //
autocmd FileType jsonc setlocal commentstring=//\ %s

" }}

" æ–‡ä»¶æµè§ˆ  File Navigation {{

"""""" preservim/nerdtree
" doc: https://github.com/preservim/nerdtree

if &rtp =~ '/nerdtree,'
  " ,t  normal æ¨¡å¼ä¸‹æ˜¾ç¤ºæˆ–éšè—ç›®å½•æ ‘çš„å¿«æ·é”®.
  nnoremap <leader>x :NERDTreeToggle<CR>

  " ç›®å½•æ ‘æ˜¾ç¤ºåœ¨å·¦ä¾§è¿˜æ˜¯å³ä¾§.
  " å¯é€‰å€¼: 'right', 'left', é»˜è®¤å€¼: 'left'
  let NERDTreeWinPos = 'left'

  " è®¾ç½®ç›®å½•æ ‘çª—å£å®½åº¦, é»˜è®¤å€¼: 31
  let NERDTreeWinSize=35

  " ä¸æ˜¾ç¤ºç›®å½•æ ‘ä¸Šæ–¹çš„ 'Bookmarks' å’Œ 'Press ? for help' æ–‡æœ¬,
  " é»˜è®¤å€¼ä¸º 0, è¡¨ç¤ºæ˜¾ç¤º, 1 è¡¨ç¤ºä¸æ˜¾ç¤º.
  let NERDTreeMinimalUI=1

  " æŒ‰ m é”®è§¦å‘ menu çš„æ—¶å€™, æ˜¯å¦ä½¿ç”¨ç²¾ç®€ç‰ˆ menu, ç±»ä¼¼è¿™ç§:
  "   Menu: [ (a)dd ,m,d,r,o,q,c,l] (Use j/k/enter or shortcut):
  " é»˜è®¤å€¼: 0, è¡¨ç¤ºä¸ä½¿ç”¨.
  let NERDTreeMinimalMenu=0

  " è¿è¡Œ Vim æ—¶, åé¢ä¸æ¥ä»»ä½•æ–‡ä»¶çš„æƒ…å†µ, è‡ªåŠ¨æ‰“å¼€ç›®å½•æ ‘çª—å£.
  " NOTE: ä¼šä¸ vim-startify æ’ä»¶å†²çª, æ³¨é‡Šæ‰, æš‚æ—¶ä¸ä½¿ç”¨.
  "autocmd StdinReadPre * let s:std_in=1
  "autocmd VimEnter * if argc() == 0 && !exists('s:std_in') | NERDTree | endif

  " è¿è¡Œ Vim çš„æ—¶å€™è‡ªåŠ¨æ‰“å¼€ç›®å½•æ ‘. å¦‚æœ vim åé¢æ¥äº†æ–‡ä»¶, åˆ™å°†å…‰æ ‡è‡ªåŠ¨ç§»åŠ¨åˆ°æ–‡ä»¶çª—å£.
  " NOTE: å¦‚æœä½¿ç”¨ tmux, ä¸å»ºè®®å¯ç”¨æ­¤æ¡é…ç½®.
  "autocmd StdinReadPre * let s:std_in=1
  "autocmd VimEnter * NERDTree | if argc() > 0 || exists("s:std_in") | wincmd p | endif

  " å¦‚æœæ–‡ä»¶éƒ½é€€å‡ºäº†, åªå‰©ç›®å½•æ ‘çª—å£çš„æƒ…å†µä¸‹è‡ªåŠ¨é€€å‡º Vim.
  autocmd BufEnter * if tabpagenr('$') == 1 && winnr('$') == 1 && exists('b:NERDTree')
    \ && b:NERDTree.isTabTree() | quit | endif

  " æ¯æ–°æ‰“å¼€ä¸€ä¸ªæ ‡ç­¾é¡µéƒ½æ˜¾ç¤ºå½“å‰å·²å­˜åœ¨çš„ç›®å½•æ ‘çª—å£.
  " NOTE: 1)å®˜æ–¹æä¾›çš„æŒ‡ä»¤æ˜¯: autocmd BufWinEnter * silent NERDTreeMirror,
  " ä½†ç»è¿‡å®æµ‹, ä¼šå’Œä»¥ä¸‹2æ¡æŒ‡ä»¤äº§ç”Ÿå†²çª, å½“ gd æˆ– gr æ‰“å¼€æ–°çš„ buffer æ—¶ä¼šæŠ¥é”™:
  " å†²çªçš„2æ¡æŒ‡ä»¤æ˜¯:
  "   1) let g:ale_set_loclist = 1
  "   2) map gr :YcmCompleter GoToReferences<CR>
  " ä¿®æ”¹ä¸ºå½“å‰æŒ‡ä»¤å, å¯ä¿®å¤æ­¤é—®é¢˜.
  " 2) å¦‚æœä½¿ç”¨ tmux, ä¸å»ºè®®å¯ç”¨æ­¤æ¡é…ç½®.
  "autocmd BufWinEnter *.* silent NERDTreeMirror

  " å½“é¡¹ç›®ä¸‹æ–°å¢æˆ–åˆ é™¤æ–‡ä»¶æ—¶, ç›®å½•æ ‘çª—å£ä¸­è‡ªåŠ¨æ›´æ–°å˜åŒ–,
  " çœå»äº†åœ¨ç›®å½•æ ‘çª—å£ä¸­æ‰‹åŠ¨æŒ‰ R çš„åŠ¨ä½œäº†;
  " æ³¨æ„, éœ€è¦å…‰æ ‡ç§»åŠ¨åˆ°ç›®å½•æ ‘çª—å£ä¸­æˆ–é‡æ–°æ‰“å¼€ç›®å½•æ ‘çª—å£æ¥è§¦å‘æ›´æ–°åŠ¨ä½œ.
  autocmd BufEnter NERD_tree_* | execute 'normal R'

  " ç›®å½•æ ‘ä¸­ç›®å½•æŠ˜å ä¸å±•å¼€çš„æ ·å¼, é»˜è®¤å€¼: 'â–¸' å’Œ 'â–¾';
  " å¯ä¾›é€‰æ‹©: '+' ä¸ '~', '<' ä¸ 'v', ç­‰ç­‰.
  let g:NERDTreeDirArrowExpandable = 'â–¸'
  let g:NERDTreeDirArrowCollapsible = 'â–¾'

  " æ˜¯å¦æ˜¾ç¤ºéšè—æ–‡ä»¶, é»˜è®¤å€¼: 0, è¡¨ç¤ºä¸æ˜¾ç¤º.
  let NERDTreeShowHidden=1

  " å¿½ç•¥å“ªäº›æ–‡ä»¶çš„æ˜¾ç¤º, å¼€å¯è¿™ä¸ªå°†é»˜è®¤æ˜¾ç¤ºéšè—æ–‡ä»¶.
  let NERDTreeIgnore=['\.git$','\.pyc$','__pycache__','\.swp$']

  " æ˜¯å¦æ˜¾ç¤ºç›®å½•æ ‘çš„è¡Œå·, é»˜è®¤å€¼: 0, è¡¨ç¤ºä¸æ˜¾ç¤º.
  let NERDTreeShowLineNumbers=0
endif

"""""" 'francoiscabrol/ranger.vim'
" doc: https://github.com/francoiscabrol/ranger.vim
" NOTE: éœ€è¦åœ¨ ~/.zshrc ä¸­åŠ å…¥ export LC_ALL="en_US.UTF-8", å¦åˆ™ ranger ä¸­å°†å‡ºç°ä¹±ç .

if &rtp =~ '/ranger.vim,'
  " ç¦ç”¨é»˜è®¤çš„ <leader>f å¿«æ·é”®.
  let g:ranger_map_keys = 0

  " ,r  æ‰“å¼€ ranger, é€‰æ‹©æ–‡ä»¶åæŒ‰ l æˆ– enter ä»¥æ–°å»ºæ ‡ç­¾é¡µçš„æ–¹å¼æ‰“å¼€æ–‡ä»¶,
  " å¦‚æœæ–‡ä»¶å·²ç»æ‰“å¼€äº†, åˆ™ç›´æ¥è·³è½¬åˆ°ç›¸å…³çš„æ ‡ç­¾é¡µ.
  map <leader>r :RangerCurrentFileExistingOrNewTab<CR>
endif

"""""" Yggdroot/LeaderF
" éœ€è¦åœ¨ç³»ç»Ÿä¸Šæå‰å®‰è£… rg å‘½ä»¤: brew install rg
" doc: https://github.com/Yggdroot/LeaderF

if &rtp =~ '/LeaderF,'
  " é¡¹ç›®æ ¹ç›®å½•çš„æ ‡å¿—.
  let g:Lf_RootMarkers = ['.git']

  " è®¾ç½® LeaderF å·¥ä½œç›®å½•ä¸ºé¡¹ç›®æ ¹ç›®å½•, å¦‚æœä¸åœ¨é¡¹ç›®ä¸­, åˆ™ä¸ºå½“å‰ç›®å½•.
  let g:Lf_WorkingDirectoryMode = 'A'

  " é¢„è§ˆä»£ç , é»˜è®¤å€¼: 0
  let g:Lf_PreviewCode = 1

  " å¼¹å‡ºç‹¬ç«‹çš„çª—å£æ¥æ˜¾ç¤ºæœç´¢æ–‡ä»¶.
  let g:Lf_WindowPosition = 'popup'

  " å¼¹å‡ºçš„çª—å£å ç»ˆç«¯å±å¹•çš„ç™¾åˆ†æ¯”, 0.8 å³ 80%.
  let g:Lf_PopupWidth = 0.8

  " æ˜¯å¦åœ¨å¼¹å‡ºçš„çª—å£ä¸­é¢„è§ˆæœç´¢ç»“æœ, é»˜è®¤å€¼: 0
  let g:Lf_PreviewInPopup = 1

  " å¼¹å‡ºçš„çª—å£çš„é¢œè‰²æ¨¡å¼, é»˜è®¤å€¼: 'default';
  " å¯é€‰å€¼: gruvbox_default, gruvbox_material, one;
  " å¯åœ¨ LeaderF/autoload/leaderf/colorscheme/popup ç›®å½•ä¸­å¢åŠ æ–°çš„é¢œè‰²æ–¹æ¡ˆæ–‡ä»¶;
  " ç»è¿‡æµ‹è¯• one å¯ä»¥é€‚é…å‡ ä¹æ‰€æœ‰é¢œè‰²ä¸»é¢˜, æ‰€ä»¥å»ºè®®è®¾ç½®ä¸º one.
  let g:Lf_PopupColorscheme = 'one'

  " å¼¹å‡ºçš„çª—å£çš„é«˜åº¦, é»˜è®¤å€¼: 0.4, è¡¨ç¤ºå å±å¹•çš„ 40%.
  let g:Lf_PopupHeight = 0.6

  " normal æ¨¡å¼ä¸‹ ,f  è¿›å…¥æ–‡ä»¶æœç´¢çš„æ¨¡ç³Šæœç´¢æ–¹å¼; å† ctrl r  è¿›å…¥ æ­£åˆ™åŒ¹é… æ–¹å¼.
  let g:Lf_ShortcutF = ",ff"

  " æœç´¢å½“å‰å·²ç»æ‰“å¼€çš„æ‰€æœ‰æ–‡ä»¶çš„å†…å®¹.
  noremap <leader>fb :<C-U><C-R>=printf("Leaderf buffer %s", "")<CR><CR>

  " æ˜¾ç¤ºæœ€è¿‘æ‰“å¼€è¿‡çš„æ–‡ä»¶åˆ—è¡¨.
  noremap <leader>fm :<C-U><C-R>=printf("Leaderf mru %s", "")<CR><CR>

  " æ˜¾ç¤ºå½“å‰æ–‡ä»¶çš„ tag ä¿¡æ¯.
  noremap <leader>ft :<C-U><C-R>=printf("Leaderf bufTag %s", "")<CR><CR>

  " æ˜¾ç¤ºå½“å‰æ–‡ä»¶å»é™¤ç©ºè¡Œä¹‹å¤–çš„æ‰€æœ‰è¡Œ.
  noremap <leader>fl :<C-U><C-R>=printf("Leaderf line %s", "")<CR><CR>

  " normal æ¨¡å¼ä¸‹æŒ‰ ,rg è¿›å…¥ command-line æ¨¡å¼ä¸‹,
  " ç„¶åè¾“å…¥è¦æœç´¢çš„æ–‡æœ¬(æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼), å›è½¦å³å¯æ˜¾ç¤ºæ­¤é¡¹ç›®å†…åŒ…å«æ­¤æ–‡æœ¬çš„æ–‡ä»¶åˆ—è¡¨;
  " åœ¨å¼¹å‡ºçš„ç»“æœçª—å£ä¸­, æŒ‰ gi å¯ä»¥å°†å…‰æ ‡ç§»åŠ¨åˆ°è¾“å…¥æ¡†, å¯ä»¥ç»§ç»­è¾“å…¥å†…å®¹ç¼©å°ç»“æœåˆ—è¡¨,
  " ç„¶åæŒ‰ tab è¿›å…¥ç»“æœåˆ—è¡¨ä¸­, æŒ‰ j/k ä¸Šä¸‹é€‰æ‹©, é€‰æ‹©ä¸€ä¸ªæ–‡ä»¶å,
  " æŒ‰ t å°†ä»¥æ–°å»ºæ ‡ç­¾é¡µçš„æ–¹å¼æ‰“å¼€é€‰æ‹©çš„æ–‡ä»¶.
  noremap <leader>rg :<C-U><C-R>=printf("Leaderf! rg -e %s ", expand("<cword>"))<CR>

  " visual æ¨¡å¼ä¸‹é€‰æ‹©æ–‡æœ¬å, æŒ‰ rg åœ¨æ•´ä¸ªé¡¹ç›®å†…æœç´¢é€‰æ‹©çš„æ–‡æœ¬, æ˜¾ç¤ºæœç´¢ç»“æœ.
  xnoremap rg :<C-U><C-R>=printf("Leaderf! rg -F -e %s ", leaderf#Rg#visual())<CR><CR>

  " ,rg æœç´¢å†…å®¹å…³é—­å, æƒ³å†æ¬¡æœç´¢ä¸Šæ¬¡æœç´¢çš„å†…å®¹, normal æ¨¡å¼ä¸‹æŒ‰ rc å³å¯.
  noremap <leader>rc :<C-U>Leaderf! rg --recall<CR>
endif

" }}

" Gitç›¸å…³  Git Related {{

"""""" Xuyuanp/nerdtree-git-plugin
if &rtp =~ '/nerdtree-git-plugin,'
  let g:NERDTreeGitStatusIndicatorMapCustom = {
    \  "Modified"  : "âœ¹",
    \  "Staged"    : "âœš",
    \  "Untracked" : "âœ­",
    \  "Renamed"   : "âœ",
    \  "Unmerged"  : "â•",
    \  "Deleted"   : "âœ–",
    \  "Dirty"     : "âœ—",
    \  "Clean"     : "âœ”ï¸",
    \  'Ignored'   : 'â˜’',
    \  "Unknown"   : "?"
    \ }
endif

"""""" rhysd/git-messenger.vim
" doc: https://github.com/rhysd/git-messenger.vim

if &rtp =~ '/git-messenger,'
  " å¼¹å‡º popup window æ—¶, è‡ªåŠ¨å°†å…‰æ ‡ç§»åŠ¨åˆ° popup window, å¦‚æœè®¾ç½®ä¸º v:false,
  " åˆ™éœ€è¦é€šè¿‡ ctrl ww å¿«æ·é”®å°†å…‰æ ‡ç§»åŠ¨åˆ° popup window.
  let g:git_messenger_always_into_popup = v:true

  " è‡ªå®šä¹‰ commit æ—¶é—´æ˜¾ç¤ºçš„æ ¼å¼.
  let g:git_messenger_date_format = "%Y %b %d %X"
endif

" }}

" ç”¨æˆ·æ¥å£  User Interface {{

"""""" 'mhinz/vim-startify'
" doc: https://github.com/mhinz/vim-startify

if &rtp =~ '/vim-startify,'
  " Returns all modified files of the current git repo.
  " `2>/dev/null` makes the command fail quietly, so that when we are not
  " in a git repo, the list will be empty.
  function! s:gitModified()
    let files = systemlist('git ls-files -m 2>/dev/null')
    return map(files, "{'line': v:val, 'path': v:val}")
  endfunction

  " Same as above, but show untracked files, honouring .gitignore
  function! s:gitUntracked()
    let files = systemlist('git ls-files -o --exclude-standard 2>/dev/null')
    return map(files, "{'line': v:val, 'path': v:val}")
  endfunction

  let g:startify_lists = [
    \ { 'type': 'files',     'header': ['   MRU']            },
    \ { 'type': 'dir',       'header': ['   MRU '. getcwd()] },
    \ { 'type': 'sessions',  'header': ['   Sessions']       },
    \ { 'type': 'bookmarks', 'header': ['   Bookmarks']      },
    \ { 'type': function('s:gitModified'),  'header': ['   git modified']},
    \ { 'type': function('s:gitUntracked'), 'header': ['   git untracked']},
    \ { 'type': 'commands',  'header': ['   Commands']       },
    \ ]

  " Create a custom header using figlet.
  "   MacOS: brew install figlet
  "let g:startify_custom_header =
    "\ startify#pad(split(system('figlet -w 100 VimHack/Dotfiles'), '\n'))
  let g:startify_custom_header = [
        \ '   __     ___           _   _            _        ______        _    __ _             ',
        \ '   \ \   / (_)_ __ ___ | | | | __ _  ___| | __   / /  _ \  ___ | |_ / _(_) | ___  ___ ',
        \ '    \ \ / /| | ''_ ` _ \| |_| |/ _` |/ __| |/ /  / /| | | |/ _ \| __| |_| | |/ _ \/ __|',
        \ '     \ V / | | | | | | |  _  | (_| | (__|   <  / / | |_| | (_) | |_|  _| | |  __/\__ \',
        \ '      \_/  |_|_| |_| |_|_| |_|\__,_|\___|_|\_\/_/  |____/ \___/ \__|_| |_|_|\___||___/',
        \ ]

  " Custom footer.
  let g:startify_custom_footer= 'startify#pad(startify#fortune#cowsay())'
endif

"""""" majutsushi/tagbar
if &rtp =~ '/tagbar,'
  " æ˜¾ç¤ºæˆ–éšè—å¤§çº²è§†å›¾çš„å¿«æ·é”®: `,e`
  nmap ,e :TagbarToggle<CR>

  " Tagbar çª—å£æ˜¯å¦æ˜¾ç¤ºåœ¨å·¦ä¾§, é»˜è®¤å€¼: 0, è¡¨ç¤ºæ˜¾ç¤ºåœ¨å³æµ‹.
  let g:tagbar_left = 0

  " è®¾ç½® Tagbar çª—å£å®½åº¦, é»˜è®¤å€¼: 40
  let g:tagbar_width = 35

  " æ˜¯å¦å¼€å¯è‡ªåŠ¨é¢„è§ˆ, å¦‚æœå¼€å¯, å°†å…‰æ ‡ç§»åŠ¨åˆ° Tagbar çª—å£æ—¶, ä¼šè‡ªåŠ¨æ‰“å¼€ä¸€ä¸ªæ–°çª—å£ç”¨äºé¢„è§ˆ,
  " éšç€å…‰æ ‡åœ¨æ ‡ç­¾ä¸Šç§»åŠ¨, é¢„è§ˆçª—å£ä¹Ÿä¼šå®æ—¶è¿›è¡Œä»£ç å®šä½.
  " é»˜è®¤å€¼: 0, è¡¨ç¤ºä¸å¼€å¯é¢„è§ˆ.
  let g:tagbar_autopreview = 1

  " æ ¹æ® tag çš„åç§°æ’åº, é»˜è®¤å€¼: 1.
  " è®¾ç½®ä¸º 0 è¡¨ç¤ºç¦ç”¨æ’åº, å³æŒ‰æ ‡ç­¾æœ¬èº«åœ¨ä»£ç æ–‡ä»¶ä¸­çš„ä½ç½®æ’åº.
  let g:tagbar_sort = 0
endif

"""""" 'Yggdroot/indentLine'
" doc: https://github.com/Yggdroot/indentLine

if &rtp =~ '/indentLine,'
  " æ­¤æ’ä»¶ä¼šè‡ªåŠ¨è®¾ç½® set conceallevel=2, å¯¼è‡´ markdown/text éšè—éƒ¨åˆ†è¯­æ³•çš„æ˜¾ç¤º,
  " æ¯”å¦‚ markdown çš„ ** **, é€šè¿‡åœ¨è¿™é‡Œæ’é™¤æ‰ markdown ç­‰æ–‡ä»¶ç±»å‹æ¥è§£å†³è¿™ä¸ªé—®é¢˜.
  " NOTE: å¦‚æœ json ç±»å‹æ–‡ä»¶ä¸­æ— æ³•æ˜¾ç¤ºåŒå¼•å·å¯èƒ½ä¹Ÿæ˜¯ç”±æ­¤æ’ä»¶å¯¼è‡´,
  " æŠŠ json å’Œ jsonc æ·»åŠ åˆ°ä¸‹é¢åˆ—è¡¨ä¸­å³å¯.
  let g:indentLine_fileTypeExclude = ['markdown', 'text']

  " ç¼©è¿›çº¿é¢œè‰²æ–¹æ¡ˆä½¿ç”¨ SpecialKey é«˜äº®ç»„.
  let g:indentLine_defaultGroup = 'SpecialKey'
endif

"""""" 'voldikss/vim-floaterm'
" doc: https://github.com/voldikss/vim-floaterm
" FIXME: ä½¿ç”¨ Vim çš„æƒ…å†µ, floaterm çš„é¢œè‰²æ–¹æ¡ˆå’Œ Vim çš„ä¸ä¸€è‡´, ä½¿ç”¨ Neovim æ— æ­¤é—®é¢˜.

if &rtp =~ '/vim-floaterm,'
  " æ˜¾ç¤ºæˆ–éšè—æ‚¬æµ®ç»ˆç«¯çª—å£, å¦‚æœæ‚¬æµ®çª—å£è¿˜ä¸å­˜åœ¨åˆ™æ–°å»º.
  let g:floaterm_keymap_toggle = '<leader>,t'

  " æ–°å»ºä¸€ä¸ªæ‚¬æµ®çª—å£.
  let g:floaterm_keymap_new = '<leader>tc'

  " å…³é—­å½“å‰æ‚¬æµ®çª—å£.
  let g:floaterm_keymap_kill = '<leader>tk'

  " åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªæ‚¬æµ®çª—å£.
  let g:floaterm_keymap_next = '<leader>tn'

  " æ˜¾ç¤ºç›®å‰å­˜åœ¨çš„æ‚¬æµ®çª—å£.
  let g:floaterm_keymap_show = '<leader>ts'
endif

"""""" 'uguu-org/vim-matrix-screensaver'
" doc: https://github.com/uguu-org/vim-matrix-screensaver

if &rtp =~ '/vim-matrix-screensaver,'
  " åœ¨å½“å‰ Vim çª—å£å¯ç”¨ Matrix å±å¹•ä¿æŠ¤.
  nmap <leader>m :Matrix<CR>
endif

"""""" machakann/vim-highlightedyank
" doc: https://github.com/machakann/vim-highlightedyank

if &rtp =~ '/vim-highlightedyank,'
  " è¢«å¤åˆ¶çš„æ–‡æœ¬å¯¹è±¡çš„é«˜äº®é¢œè‰²æ˜¾ç¤ºçš„æ—¶é—´, å•ä½æ¯«ç§’.
  " å¦‚æœå€¼ä¸º -1, åˆ™è¡¨ç¤ºé«˜äº®é¢œè‰²æ°¸ä¹…æ˜¾ç¤º.
  let g:highlightedyank_highlight_duration = 1000

  " è§£å†³ä¸ªåˆ«ä¸»é¢˜æˆ– terminal é…ç½®ä¸‹é«˜äº®ä¸ç”Ÿæ•ˆçš„é—®é¢˜, ä¸€èˆ¬å¯ä¸é…ç½®æ­¤é¡¹.
  highlight HighlightedyankRegion cterm=reverse gui=reverse
endif

"""""" unblevable/quick-scope
" doc: https://github.com/unblevable/quick-scope

if &rtp =~ '/quick-scope,'
  " æ˜¯å¦ç¦ç”¨æ­¤æ’ä»¶, é»˜è®¤å€¼1, è¡¨ç¤ºå¯ç”¨.
  let g:qs_enable=1

  " æ€§èƒ½è€ƒè™‘, æ˜¯å¦å»¶è¿Ÿæ˜¾ç¤ºé«˜äº®å­—ç¬¦, é»˜è®¤å€¼: 0, è¡¨ç¤ºå®æ—¶æ˜¾ç¤º.
  let g:qs_lazy_highlight = 0
endif

"""""" 'ryanoasis/vim-devicons'
" doc: https://github.com/ryanoasis/vim-devicons
" NOTE: 1. éœ€è¦æå‰ä¸ºä½ çš„ç»ˆç«¯æ¨¡æ‹Ÿå™¨(terminal emulator)è®¾ç½®å¦‚ä¸‹å­—ä½“:
"   Hack Nerd Font æˆ– Hack Nerd Font Mono
" 2. Hack Nerd Font å­—ä½“å®‰è£…(macOS):
"   brew tap homebrew/cask-fonts && brew install font-hack-nerd-font

if &rtp =~ '/vim-devicons,'
  " æ˜¯å¦å¯ç”¨æ–‡ä»¶ç±»å‹å›¾æ ‡æ˜¾ç¤º, é»˜è®¤å€¼: 1, è¡¨ç¤ºå¯ç”¨.
  let g:webdevicons_enable = 1

  " ä¸º gvim/mvim(GUI) è®¾ç½®å­—ä½“å’Œå­—å·.
  set guifont=Hack_Nerd_Font:h12
endif

" }}

" å…¶ä»–æ’ä»¶é…ç½®  Configuration Other Plugins {{

"""""" skywind3000/asyncrun.vim
" doc: https://github.com/skywind3000/asyncrun.vim

if &rtp =~ '/asyncrun.vim,'
  " ,ar  åœ¨ command-line æ¨¡å¼ä¸‹è¾“å…¥è¦å¼‚æ­¥æ‰§è¡Œçš„å‘½ä»¤, å¹¶åœ¨å½“å‰çª—å£åº•éƒ¨è¾“å‡ºæ‰§è¡Œç»“æœ.
  " NOTE: è¿™é‡Œä½¿ç”¨ exec åŒ…è£…ä¸€å±‚, æ˜¯ä¸ºäº†ä¸è®©è¡Œå°¾ç©ºæ ¼ç›´æ¥æš´éœ²å‡ºæ¥,
  " æ‰€ä»¥é€šè¿‡ä½¿ç”¨ exec çš„æ–¹å¼, å°±å¯ä»¥å°†åŸæ¥è¡Œå°¾çš„ç©ºæ ¼åŒ…è£¹èµ·æ¥äº†.
  exec "nnoremap <leader>ar :AsyncRun -mode=term -pos=bottom -rows=10 "
endif

"""""" RRethy/vim-hexokinase
" doc: https://github.com/RRethy/vim-hexokinase

if &rtp =~ '/vim-hexokinase,'
  " æ˜¾ç¤ºæˆ–ä¸æ˜¾ç¤ºé¢œè‰²æ ‡è¯†ç¬¦çš„é¢œè‰².
  au FileType * nmap <leader>ys :HexokinaseToggle<CR>

  " æ”¯æŒå“ªäº›å±•ç¤ºé¢œè‰²çš„æ–¹å¼.
  " æ”¯æŒçš„å±•ç¤ºæ–¹å¼: virtual,sign_column,background,backgroundfull,foreground,foregroundfull
  if has('nvim')
    let g:Hexokinase_highlighters = [
      \  'virtual',
      \  'sign_column',
      \  'foregroundfull',
      \ ]
  else
    let g:Hexokinase_highlighters = [
      \  'sign_column',
      \  'foregroundfull',
      \ ]
  endif

  " åŒ¹é…å“ªäº›ç±»å‹çš„é¢œè‰²æ ‡è¯†.
  " æ”¯æŒé¢œè‰²ç±»å‹: full_hex,triple_hex,rgb,rgba,hsl,hsla,colour_names
  let g:Hexokinase_optInPatterns = [
    \  'full_hex',
    \  'triple_hex',
    \  'rgb',
    \  'rgba',
    \  'hsl',
    \  'hsla',
    \ ]

  " é’ˆå¯¹æ–‡ä»¶ç±»å‹å®šåˆ¶éœ€è¦åŒ¹é…çš„é¢œè‰²ç±»å‹.
  let g:Hexokinase_ftOptInPatterns = {
    \  'css': 'full_hex,rgb,rgba,hsl,hsla,colour_names',
    \  'html': 'full_hex,rgb,rgba,hsl,hsla,colour_names'
    \ }

  " å¯¹å“ªäº›æ–‡ä»¶ç±»å‹æä¾›è¯¥æ’ä»¶æä¾›çš„åŠŸèƒ½.
  " NOTE: é»˜è®¤å¯¹æ‰€æœ‰æ–‡ä»¶éƒ½å¯ç”¨, å¦‚æœåªæƒ³å¯¹éƒ¨åˆ†æ–‡ä»¶ç±»å‹å¯ç”¨, åˆ™é€šè¿‡ä¸‹é¢è¿™æ¡æŒ‡ä»¤é…ç½®.
  "let g:Hexokinase_ftEnabled = ['css', 'html', 'javascript']

  " å¯¹å“ªäº›æ–‡ä»¶ç±»å‹ç¦ç”¨è¯¥æ’ä»¶æä¾›çš„åŠŸèƒ½, é»˜è®¤å€¼ç©ºåˆ—è¡¨.
  let g:Hexokinase_ftDisabled = []
endif

"""""" vim-scripts/SyntaxAttr.vim
" doc: https://github.com/vim-scripts/SyntaxAttr.vim

if &rtp =~ '/SyntaxAttr.vim,'
  " ,a  æ˜¾ç¤ºå…‰æ ‡æ‰€åœ¨çš„è¯­æ³•é«˜äº®è¯¦æƒ…, ä¾¿äºè°ƒè¯•é…è‰²æ–¹æ¡ˆ.
  "
  " ä¸¾ä¾‹:
  "    group: goComment->Comment guifg=#585858(#585858) gui=italic
  "    å¦‚ä¸Šç»“æœè¡¨ç¤º, å…‰æ ‡æ‰€åœ¨å±äº goComment è¯­æ³•åŠ äº®ç»„, å¹¶ä¸”è¢«é“¾æ¥åˆ°äº† Comment åŠ äº®ç»„,
  "    guifg å’Œ gui æ˜¯åŠ äº®ç»„çš„å€¼, guifg è¡¨ç¤ºå‰æ™¯è‰², gui è¡¨ç¤ºç‰¹æ®Šæ•ˆæœ.
  nnoremap <leader>a :call SyntaxAttr()<CR>
endif

"""""" takac/vim-hardtime
" doc: https://github.com/takac/vim-hardtime

if &rtp =~ '/vim-hardtime,'
  " æ˜¯å¦ä½¿æ¯ä¸€ä¸ªçª—å£ buffer éƒ½åº”ç”¨æ­¤æ’ä»¶åŠŸèƒ½, é»˜è®¤å€¼: 0
  let g:hardtime_default_on = 1

  " è¿ç»­æŒ‰ jklh ç­‰å‘½ä»¤æ—¶, ç¦æ­¢è¿ç»­æŒ‰çš„è¶…æ—¶æ—¶é—´, é»˜è®¤å€¼: 1000æ¯«ç§’.
  let g:hardtime_timeout = 600

  " å¯ç”¨ hardtime æ¨¡å¼å, æ˜¯å¦è¿›è¡Œæ¨¡å¼å·²å¯ç”¨çš„æç¤º, é»˜è®¤å€¼: 0, è¡¨ç¤ºä¸æç¤º.
  let g:hardtime_showmsg = 1

  " æ˜¯å¦å…è®¸è¿ç»­æŒ‰2ä¸ªä¸åŒçš„ç®€å•æŒ‡ä»¤, æ¯”å¦‚ jh, é»˜è®¤å€¼: 0, è¡¨ç¤ºä¸å…è®¸.
  let g:hardtime_allow_different_key = 1

  " å…è®¸è¿ç»­æŒ‰å‡ æ¬¡ç®€å•å‘½ä»¤, é»˜è®¤å€¼: 1
  let g:hardtime_maxcount = 3
endif

" }}

" å¸¸ç”¨åŸç”Ÿé€‰é¡¹  Native Configuration {{

" æ˜¾ç¤ºå½“å‰å…‰æ ‡æ‰€åœ¨çš„è¡Œå·å’Œåˆ—å·.
set ruler

" å‘½ä»¤è¡Œçª—å£çš„é«˜åº¦, é»˜è®¤å€¼7.
" å‘½ä»¤è¡Œçª—å£æ‰“å¼€çš„æ–¹æ³•:
"   1) command-line æ¨¡å¼ä¸‹, æŒ‰å¿«æ·é”® ctrl f æ‰“å¼€å‘½ä»¤è¡Œçª—å£å¹¶æ˜¾ç¤ºå‘½ä»¤å†å²è®°å½•.
"   2) normal æ¨¡å¼ä¸‹, æŒ‰å¿«æ·é”® q: æ‰“å¼€å‘½ä»¤è¡Œçª—å£å¹¶æ˜¾ç¤ºå‘½ä»¤å†å²è®°å½•.
"   3) normal æ¨¡å¼ä¸‹, æŒ‰å¿«æ·é”® q/ å°†ä¼šæ‰“å¼€å‘½ä»¤è¡Œçª—å£å¹¶æ˜¾ç¤ºå‘ä¸‹æœç´¢çš„å†å²è®°å½•.
"   4) normal æ¨¡å¼ä¸‹, æŒ‰å¿«æ·é”® q? å°†ä¼šæ‰“å¼€å‘½ä»¤è¡Œçª—å£å¹¶æ˜¾ç¤ºå‘ä¸Šæœç´¢çš„å†å²è®°å½•.
set cmdwinheight=8

" çªå‡ºæ˜¾ç¤ºå½“å‰è¡Œ.
set cursorline

" çªå‡ºæ˜¾ç¤ºå½“å‰åˆ—.
set cursorcolumn

" æ˜¾ç¤ºæ‹¬å·åŒ¹é….
set showmatch

" normal æ¨¡å¼ä¸‹æ˜¾ç¤ºè¾“å…¥çš„ Vim å‘½ä»¤.
set showcmd

" ä¸€ä¸ª tab æ˜¾ç¤ºå‡ ä¸ªç©ºæ ¼é•¿åº¦, é»˜è®¤æ˜¯ 8 ä¸ªç©ºæ ¼, è¿™é‡Œæ”¹ä¸º 4 ä¸ªç©ºæ ¼.
set ts=4

" å°† tab ç¼©è¿›ç”¨ç©ºæ ¼æ¥è¡¨ç¤º, æé«˜æ•ˆç‡.
set expandtab

" insert æ¨¡å¼ä¸‹æŒ‰é€€æ ¼é”®çš„æ—¶å€™é€€å›ç¼©è¿›çš„é•¿åº¦ä¸º 4 ä¸ªç©ºæ ¼, é»˜è®¤æ˜¯é€€å›ä¸€ä¸ªç©ºæ ¼.
set softtabstop=4

" normal æ¨¡å¼ä¸‹ >> å’Œ << æˆ– visual æ¨¡å¼ä¸‹ > å’Œ < æ¯æ¬¡ç¼©è¿› 4 ä¸ªç©ºæ ¼, é»˜è®¤æ˜¯ 8 ä¸ªç©ºæ ¼.
set shiftwidth=4

" ç¼©è¿›æ—¶å–æ•´.
" Use multiple of shiftwidth when indenting with '<' and '>'
set shiftround

" å¯ç”¨æ™ºèƒ½ç¼©è¿›, æŒ‰å›è½¦é”®åè‡ªåŠ¨ç¼©è¿›,
" æ³¨æ„å¯ç”¨æ­¤æ¨¡å¼å, ç²˜è´´ä»£ç æ—¶è¦å…ˆ :set paste
set smartindent

" è¿›è¡Œæœç´¢æ—¶ä¼šå¿«é€Ÿæ‰¾åˆ°ç»“æœ, éšç€è¾“å…¥çš„å­—ç¬¦è¿›è¡ŒåŠæ—¶åŒ¹é….
set incsearch

" æœç´¢å…³é”®å­—é«˜äº®æ˜¾ç¤º.
set hlsearch

" æœç´¢æ—¶å¿½ç•¥å¤§å°å†™.
set ignorecase

" å¦‚æœåŒæ—¶æ‰“å¼€äº†ignorecase, é‚£ä¹ˆå¯¹äºæœç´¢åªæœ‰ä¸€ä¸ªå¤§å†™å­—æ¯çš„æœç´¢è¯, å°†å¤§å°å†™æ•æ„Ÿ;
" å…¶ä»–æƒ…å†µéƒ½æ˜¯å¤§å°å†™ä¸æ•æ„Ÿ, æ¯”å¦‚: æœç´¢ Test æ—¶, å°†ä¸åŒ¹é… test,
" ä½†æœç´¢ test æ—¶, å°†åŒ¹é… Test.
set smartcase

" ä¸åˆ›å»ºå¤‡ä»½æ–‡ä»¶. é»˜è®¤æƒ…å†µä¸‹, æ–‡ä»¶ä¿å­˜æ—¶, ä¼šé¢å¤–åˆ›å»ºä¸€ä¸ªå¤‡ä»½æ–‡ä»¶,
" å®ƒçš„æ–‡ä»¶åæ˜¯åœ¨åŸæ–‡ä»¶åçš„æœ«å°¾, å†æ·»åŠ ä¸€ä¸ªæ³¢æµªå·(ã€œ).
set nobackup

" å‡ºé”™æ—¶ä¸è¦å‘å‡ºå“å£°.
set noerrorbells

" æ‰“å­—çš„æ—¶å€™éšè—é¼ æ ‡å…‰æ ‡.
set mousehide

" åœ¨ä¿®æ”¹å†…å®¹åä¿å­˜æ–‡ä»¶, å¦‚æœæ–‡ä»¶åŒæ—¶å·²ç»è¢«å…¶ä»– Vim å®ä¾‹æ‰“å¼€,
" åˆ™å…¶ä»– Vim å®ä¾‹æ‰“å¼€çš„æ­¤æ–‡ä»¶ä¹Ÿä¼šè‡ªåŠ¨åŒæ­¥å˜æ›´.
set autoread
au FocusGained,BufEnter * checktime

" normal æ¨¡å¼ä¸‹å…è®¸å…‰æ ‡ç§»åŠ¨åˆ°æœ€åä¸€ä¸ªå­—ç¬¦çš„å³è¾¹.
set virtualedit=onemore

" ä¸€è¡Œå†…å®¹è¶…è¿‡ç»ˆç«¯å®½åº¦æ—¶è¿›è¡ŒæŠ˜è¡Œæ˜¾ç¤º.
set wrap

" å½“ä¸€è¡Œå­—ç¬¦é•¿åº¦è¶…è¿‡å¤šå°‘ä¸ªå­—ç¬¦æ—¶, ä¼šè‡ªåŠ¨æŠ˜è¡Œæ˜¾ç¤º, æ³¨æ„ä¼šåŠ ä¸Šæ¢è¡Œç¬¦.
set lbr
set textwidth=500

" åŸºäºæ€§èƒ½è€ƒè™‘, æ‰§è¡Œå®å‘½ä»¤çš„æ—¶å€™ä¸è¿›è¡Œ redraw åŠ¨ä½œ.
set lazyredraw

" }}

" è‡ªå®šä¹‰é…ç½®  Custom Configuration {{

"""""" è®¾ç½®è¡Œå·  Number/RelativeNumber {{

" æ˜¾ç¤ºç›¸å¯¹è¡Œå·, ä¾¿äºè·¨è¡Œçš„æ–‡æœ¬å¯¹è±¡æ“ä½œ, æ¯”å¦‚: [n]j/k/y/v/c/d ç­‰.
set relativenumber number

" ä½¿æŸ¥çœ‹ Vim å¸®åŠ©æ–‡æ¡£çš„çª—å£ä¹Ÿæ˜¾ç¤ºç›¸å¯¹è¡Œå·.
augroup vim help
  autocmd!
  autocmd FileType help,man setlocal number
  autocmd FileType help,man setlocal relativenumber
augroup END

" å¤±å»ç„¦ç‚¹æ—¶(æ¯”å¦‚å…‰æ ‡ä»å½“å‰ buffer ç§»èµ°), ä¸æ˜¾ç¤ºç›¸å¯¹è¡Œå·, è€Œæ˜¯æ˜¾ç¤ºæ­£å¸¸è¡Œå·.
au FocusLost * :set norelativenumber number
au FocusGained * :set relativenumber

" insert æ¨¡å¼ä¸‹ç”¨ç»å¯¹è¡Œå·, normal æ¨¡å¼ä¸‹ç”¨ç›¸å¯¹è¡Œå·.
autocmd InsertEnter * :set norelativenumber number
autocmd InsertLeave * :set relativenumber

" ,n  æ˜¾ç¤ºæˆ–éšè—è¡Œå·.
nnoremap <leader>n :call ToggleNumberShow()<CR>
function! ToggleNumberShow()
  if(&relativenumber == 1)
    set norelativenumber nonumber
  else
    set relativenumber
  endif
endfunc

" }}

"""""" æ ‡ç­¾é¡µç®¡ç† Tabs Management {{

" æ ‡ç­¾é¡µåˆ‡æ¢:
"
"   g tab  normal æ¨¡å¼ä¸‹åˆ‡æ¢åˆ°ä¸Šä¸€æ¬¡è®¿é—®çš„æ ‡ç­¾é¡µ;
"   gt/gT  normal æ¨¡å¼ä¸‹åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ª/ä¸Šä¸€ä¸ªæ ‡ç­¾é¡µ;
"
"   , 1/2/3/4/5/6/7/8/9  normal æ¨¡å¼ä¸‹åˆ‡æ¢åˆ°å…·ä½“çš„æŸä¸€ä¸ªæ ‡ç­¾é¡µ;
"   , 0  normal æ¨¡å¼ä¸‹åˆ‡æ¢åˆ°æœ€åä¸€ä¸ªæ ‡ç­¾é¡µ.
noremap <silent> <leader>1 1gt<CR>
noremap <silent> <leader>2 2gt<CR>
noremap <silent> <leader>3 3gt<CR>
noremap <silent> <leader>4 4gt<CR>
noremap <silent> <leader>5 5gt<CR>
noremap <silent> <leader>6 6gt<CR>
noremap <silent> <leader>7 7gt<CR>
noremap <silent> <leader>8 8gt<CR>
noremap <silent> <leader>9 9gt<CR>
noremap <silent> <leader>0 :tablast<CR>

"   Option/Alt 1/2/3/4/5/6/7/8/9  normal/insert æ¨¡å¼ä¸‹åˆ‡æ¢åˆ°å…·ä½“çš„æŸä¸€ä¸ªæ ‡ç­¾é¡µ;
"   Option/Alt 0  normal/insert æ¨¡å¼ä¸‹åˆ‡æ¢åˆ°æœ€åä¸€ä¸ªæ ‡ç­¾é¡µ.
noremap <silent> <M-1> :tabn 1<CR>
noremap <silent> <M-2> :tabn 2<CR>
noremap <silent> <M-3> :tabn 3<CR>
noremap <silent> <M-4> :tabn 4<CR>
noremap <silent> <M-5> :tabn 5<CR>
noremap <silent> <M-6> :tabn 6<CR>
noremap <silent> <M-7> :tabn 7<CR>
noremap <silent> <M-8> :tabn 8<CR>
noremap <silent> <M-9> :tabn 9<CR>
noremap <silent> <M-0> :tablast<CR>
inoremap <silent> <M-1> <esc>:tabn 1<CR>
inoremap <silent> <M-2> <esc>:tabn 2<CR>
inoremap <silent> <M-3> <esc>:tabn 3<CR>
inoremap <silent> <M-4> <esc>:tabn 4<CR>
inoremap <silent> <M-5> <esc>:tabn 5<CR>
inoremap <silent> <M-6> <esc>:tabn 6<CR>
inoremap <silent> <M-7> <esc>:tabn 7<CR>
inoremap <silent> <M-8> <esc>:tabn 8<CR>
inoremap <silent> <M-9> <esc>:tabn 9<CR>
inoremap <silent> <M-0> <esc>:tablast<CR>

"   ,fn  åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªæ ‡ç­¾é¡µ;
"   ,fp  åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªæ ‡ç­¾é¡µ.
noremap <silent> <leader>fn :tabnext<CR>
noremap <silent> <leader>fp :tabprev<CR>

" æ ‡ç­¾é¡µåˆ›å»º:
"   Ctrl t  normal/insert æ¨¡å¼ä¸‹åˆ›å»ºæ–°çš„æ ‡ç­¾é¡µ.
noremap <silent> <C-t> :tabnew<CR>
inoremap <silent> <C-t> <esc>:tabnew<CR>

" æ ‡ç­¾é¡µå…³é—­:
"   ,qo  åªä¿ç•™å½“å‰çš„æ ‡ç­¾é¡µ, å…³é—­å…¶ä»–æ‰€æœ‰æ ‡ç­¾é¡µ;
"   ,qq  å…³é—­å½“å‰æ ‡ç­¾é¡µ;
"   ,q 1/2/3...  å…³é—­æŒ‡å®šåºå·çš„æ ‡ç­¾é¡µ;
"   ,q 0  å…³é—­æœ€åä¸€ä¸ªæ ‡ç­¾é¡µ.
noremap <silent> <leader>qo :tabonly<CR>
noremap <silent> <leader>qq :tabclose<CR>
noremap <silent> <leader>q1 :tabclose 1<CR>
noremap <silent> <leader>q2 :tabclose 2<CR>
noremap <silent> <leader>q3 :tabclose 3<CR>
noremap <silent> <leader>q4 :tabclose 4<CR>
noremap <silent> <leader>q5 :tabclose 5<CR>
noremap <silent> <leader>q6 :tabclose 6<CR>
noremap <silent> <leader>q7 :tabclose 7<CR>
noremap <silent> <leader>q8 :tabclose 8<CR>
noremap <silent> <leader>q9 :tabclose 9<CR>
noremap <silent> <leader>q0 :tabclose $<CR>

" }}

"""""" æ’¤é”€æ›´æ”¹æç¤º  Undo Warnings {{
"
" from: https://github.com/thoughtstream/Damian-Conway-s-Vim-Setup/blob/master/plugin/undowarnings.vim
"
" æ­¤æ®µä»£ç çš„ä½œç”¨:
" åœ¨å¸Œæœ›é€šè¿‡ undofile çš„é…ç½®æ¥æ— é™åˆ¶çš„å¯¹æ›¾ç»çš„ç¼–è¾‘è¿›è¡Œæ’¤é”€,
" åŒæ—¶è¿˜å¸Œæœ›åœ¨é€€å›æ‰“å¼€æ–‡ä»¶çš„çŠ¶æ€ä¹‹å‰èƒ½æœ‰ä¸€ä¸ªæé†’.
"

" Vim global plugin adding warnings to persistent undo
" Last change:  Tue Jun 19 17:25:10 EST 2012
" Maintainer:	Damian Conway
" License:	This file is placed in the public domain.

" If already loaded, we're done...
if exists("loaded_undowarnings")
  finish
endif
let loaded_undowarnings = 1

" Preserve external compatibility options, then enable full vim compatibility...
let s:save_cpo = &cpo
set cpo&vim

"=====[ INTERFACE ]==================

" Remap the undo key to warn about stepping back into a buffer's pre-history...
nnoremap <expr> u  VerifyUndo()

" =====[ IMPLEMENTATION ]==================
"
" Track each buffer's starting position in the undo history...
augroup UndoWarnings
  autocmd!
  autocmd BufReadPost,BufNewFile * :call Rememberundo_start()
augroup END

function! Rememberundo_start ()
  let b:undo_start = exists('b:undo_start') ? b:undo_start : undotree().seq_cur
endfunction

function! VerifyUndo ()
  " Nothing to verify if can't undo into previous sesssion...
  if !exists('*undotree')
    return 'u'
  endif

  " Are we back at the start of this session (but still with undos possible)???
  let undo_now = undotree().seq_cur

  " If so, check whether to undo into pre-history...
  if undo_now > 0 && undo_now == b:undo_start
    return confirm('',"Undo into previous session? (&Yes\n&No)",1) == 1 ? "\<C-L>u" : "\<C-L>"
  " Otherwise, always undo...
  else
    return 'u'
  endif
endfunction

" Restore previous external compatibility options
let &cpo = s:save_cpo

" }}

"""""" å…‰æ ‡ç§»åŠ¨  Cursor Movement {{

" ctrl u/d  normal æ¨¡å¼ä¸‹, å…‰æ ‡å‘ä¸Šæˆ–å‘ä¸‹ç§»åŠ¨çš„æ—¶å€™,
" ä»é»˜è®¤çš„æ¯æ¬¡ç§»åŠ¨åŠå±æ”¹ä¸ºç§»åŠ¨ 10 è¡Œ.
noremap <C-u> 10k
noremap <C-d> 10j

" å°†åœ¨å¤šçª—å£ä¹‹é—´è¿›è¡Œä¸Šä¸‹å·¦å³è·³è½¬å…‰æ ‡çš„å¿«æ·é”®é‡æ–°æ˜ å°„:
"   ctrl h  è·³è½¬åˆ°å·¦è¾¹çš„çª—å£;
"   ctrl l  è·³è½¬åˆ°å³è¾¹çš„çª—å£;
"   ctrl k  è·³è½¬åˆ°ä¸Šé¢çš„çª—å£;
"   ctrl j  è·³è½¬åˆ°ä¸‹é¢çš„çª—å£.
noremap <C-h> <C-w>h
noremap <C-j> <C-w>j
noremap <C-k> <C-w>k
noremap <C-l> <C-w>l

" insert æ¨¡å¼ä¸‹ä½¿ç”¨ emacs é”®ä½.
" å…‰æ ‡ç§»åŠ¨:
"   ctrl p ä¸Š
"   ctrl n ä¸‹
"   ctrl a è¡Œé¦–
"   ctrl e è¡Œå°¾
" NOTE: 1) å¦‚æœ tmux å°† ctrl a ä½œä¸º prefix, åˆ™è¿™é‡Œéœ€è¦æŒ‰ä¸¤æ¬¡ ctrl a.
" 2) å¦‚ä¸‹ä¸¤ä¸ªå¿«æ·é”®å·²åœ¨ coc.nvim æ’ä»¶çš„é…ç½®ä¸­é…ç½®, æ­¤å¤„ä¸è¦é‡å¤é…ç½®.
"    ctrl b å·¦
"    ctrl f å³
inoremap <C-p> <Up>
inoremap <C-n> <Down>
inoremap <C-a> <Home>
inoremap <C-e> <End>

" Option/Alt b/f  insert æ¨¡å¼ä¸‹å°†å…‰æ ‡å‘å·¦æˆ–å‘å³ç§»åŠ¨ä¸€ä¸ªå•è¯.
inoremap <M-b> <S-Left>
inoremap <M-f> <S-Right>

" command-line æ¨¡å¼ä¸‹ä½¿ç”¨ emacs é”®ä½, :h emacs-keys
" å…‰æ ‡ç§»åŠ¨:
"   ctrl a ç§»åŠ¨åˆ°è¡Œé¦–.
"   ctrl e ç§»åŠ¨åˆ°è¡Œå°¾.
"   ctrl b å‘å·¦ç§»åŠ¨ä¸€ä¸ªå­—ç¬¦.
"   ctrl f å‘å³ç§»åŠ¨ä¸€ä¸ªå­—ç¬¦.
cnoremap <C-a>  <Home>
cnoremap <C-e>  <End>
cnoremap <C-b>  <Left>
cnoremap <C-f>  <Right>

" Option/Alt b/f  command-line æ¨¡å¼ä¸‹å°†å…‰æ ‡å‘å·¦æˆ–å‘å³ç§»åŠ¨ä¸€ä¸ªå•è¯.
cnoremap <M-b> <S-Left>
cnoremap <M-f> <S-Right>

" normal/visual æ¨¡å¼ä¸‹, æŒ‰ 0 å…‰æ ‡å°†å›åˆ°å½“å‰è¡Œçš„ç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦,
"               å¦‚æœå…‰æ ‡å·²ç»åœ¨ç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦, åˆ™å›åˆ°è¡Œé¦–.
" insert æ¨¡å¼ä¸‹, æŒ‰ ctrl a å…‰æ ‡å°†å›åˆ°å½“å‰è¡Œçš„ç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦,
"        å¦‚æœå…‰æ ‡å·²ç»åœ¨ç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦, åˆ™å›åˆ°è¡Œé¦–.
function! GoToFirstNonBlankOrFirstColumn()
  let cur_col = col('.')
  normal! ^
  if cur_col != 1 && cur_col == col('.')
    normal! 0
  endif
  return ''
endfunction
nnoremap <silent> 0 :call GoToFirstNonBlankOrFirstColumn()<CR>
vnoremap <silent> 0 :call GoToFirstNonBlankOrFirstColumn()<CR>
inoremap <silent> <C-a> <C-R>=GoToFirstNonBlankOrFirstColumn()<CR>

" n/N/*/#  æœç´¢å…³é”®å­—åæ¯æ¬¡è·³è½¬éƒ½å°†ç›®æ ‡æ˜¾ç¤ºåœ¨å±å¹•ä¸­é—´åŒºåŸŸ.
" Keep search pattern at the center of the screen.
nnoremap <silent> n nzz
nnoremap <silent> N Nzz
nnoremap <silent> * *zz
nnoremap <silent> # #zz

" }}

"""""" æ–‡æœ¬ç¼–è¾‘  Text Edit {{

" insert æ¨¡å¼ä¸‹çš„ç¼–è¾‘åŠ¨ä½œ:
"   ctrl l å‘å³åˆ é™¤ä¸€ä¸ªå­—ç¬¦.
"   ctrl d ä»å…‰æ ‡ä½ç½®åˆ é™¤åˆ°è¡Œå°¾.
" NOTE: å¦‚ä¸‹ä¸¤ä¸ªå¿«æ·é”®æ˜¯é»˜è®¤è¡Œä¸º, æ— éœ€é¢å¤–é…ç½®.
"   ctrl h å‘å·¦åˆ é™¤ä¸€ä¸ªå­—ç¬¦.
"   ctrl w å‘å·¦åˆ é™¤ä¸€ä¸ªå•è¯.
"   ctrl u ä»å…‰æ ‡ä½ç½®åˆ é™¤åˆ°è¡Œé¦–.
inoremap <C-l> <Del>
inoremap <C-d> <C-[>Di

" command-line æ¨¡å¼ä¸‹çš„ç¼–è¾‘åŠ¨ä½œ:
"   ctrl l åˆ é™¤å…‰æ ‡å³ä¾§å­—ç¬¦;
" NOTE: å¦‚ä¸‹ä¸¤ä¸ªå¿«æ·é”®æ˜¯é»˜è®¤è¡Œä¸º, æ— éœ€é¢å¤–é…ç½®.
"   ctrl h åˆ é™¤å…‰æ ‡å·¦ä¾§å­—ç¬¦;
"   ctrl w åˆ é™¤å…‰æ ‡å·¦ä¾§ä¸€ä¸ªå•è¯.
cnoremap <C-l> <Del>

" visual æ¨¡å¼ä¸‹è¿›è¡Œ > å’Œ < ç¼©è¿›æ“ä½œæ—¶,
" ä½¿ä¸é€€å‡º visual æ¨¡å¼, è¿™æ ·å¯æ–¹ä¾¿æ‰§è¡Œå¤šè¡Œçš„è¿ç»­ç¼©è¿›.
vnoremap < <gv
vnoremap > >gv

" visual æ¨¡å¼ä¸‹é€‰æ‹©å†…å®¹, ç„¶åé€šè¿‡æŒ‰ ,) æˆ– ,] æˆ– ,} æˆ– ," æˆ– ,' æˆ– ,`
" å°†é€‰æ‹©çš„å†…å®¹ä½¿ç”¨ () æˆ– [] æˆ– {} æˆ– "" æˆ– '' æˆ– `` åŒ…è£¹.
vnoremap <leader>) <esc>`>a)<esc>`<i(<esc>
vnoremap <leader>] <esc>`>a]<esc>`<i[<esc>
vnoremap <leader>} <esc>`>a}<esc>`<i{<esc>
vnoremap <leader>" <esc>`>a"<esc>`<i"<esc>
vnoremap <leader>' <esc>`>a'<esc>`<i'<esc>
vnoremap <leader>` <esc>`>a`<esc>`<i`<esc>

" }}

"""""" é”®ä½ç»‘å®š  Other Keybindings {{

" ,E  æ‰“å¼€ vim æˆ– nvim çš„é…ç½®æ–‡ä»¶.
if has('nvim')
  noremap <silent> <leader>E :sp ~/.config/nvim/init.vim<CR>
else
  noremap <silent> <leader>E :sp ~/.vimrc<CR>
endif

" ,R  å˜æ›´é…ç½®æ–‡ä»¶åä¸éœ€è¦é€€å‡ºå†æ‰“å¼€æ–‡ä»¶, ç›´æ¥ä½¿ç”¨æ­¤å‘½ä»¤è¿›è¡Œ reload ç”Ÿæ•ˆ.
if has('nvim')
  noremap <silent> <leader>R :source ~/.config/nvim/init.vim<CR>:filetype detect<CR>
    \ :exe ":echo '~/.config/nvim/init.vim reloaded'"<CR>
else
  noremap <silent> <leader>R :source ~/.vimrc<CR>:filetype detect<CR>
    \ :exe ":echo '~/.vimrc reloaded'"<CR>
endif

" ctrl s  åœ¨ normal/insert æ¨¡å¼ä¸‹æ‰“å¼€/å…³é—­è‹±æ–‡çš„æ‹¼å†™æ£€æŸ¥.
" NOTE: 1) æœ‰äº† spell åçš„ ! å°±å¯ä»¥æ”¯æŒ toggle äº†, ä¹Ÿå°±æ˜¯æ—¢æ”¯æŒæ‰“å¼€åˆæ”¯æŒå…³é—­;
" 2) <C-o> å’Œ :setlocal ä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼.
nmap <silent> <C-s> :setlocal spell! spelllang=en,cjk<CR>
imap <silent> <C-s> <C-o>:setlocal spell! spelllang=en,cjk<CR>

" ctrl e/y  normal æ¨¡å¼ä¸‹, å‘ä¸‹æˆ–å‘ä¸Šç§»åŠ¨å±å¹•é˜…è¯»çš„æ—¶å€™,
" ä»é»˜è®¤çš„æ¯æ¬¡ç§»åŠ¨ 1 è¡Œæ”¹ä¸ºç§»åŠ¨ 3 è¡Œ.
noremap <C-e> 3<C-e>
noremap <C-y> 3<C-y>

" Y  normal æ¨¡å¼ä¸‹, ä½¿ç”¨ Y å¤åˆ¶å½“å‰è¡Œå…‰æ ‡ä¹‹åçš„å†…å®¹, å’Œ C å’Œ D ç”¨æ³•ç»Ÿä¸€èµ·æ¥.
nnoremap Y y$

" é€‰ä¸­å½“å‰æ–‡ä»¶æ‰€æœ‰è¡Œã€å½“å‰è¡Œåˆ°æœ€åä¸€è¡Œã€å½“å‰è¡Œåˆ°ç¬¬ä¸€è¡Œ,
" é€‰ä¸­ä¹‹åå¯ä»¥è¿›è¡Œä¸€ç³»åˆ—ç¼–è¾‘åŠ¨ä½œ, æ¯”å¦‚ y/d/c ç­‰ç­‰.
" ,va  Select all lines.
map <Leader>va ggVG
" ,vf  Select from the current line to the end of line.
map <Leader>vf VG
" ,vb  Select from the current line to the first of line.
map <Leader>vb Vgg

" æ‹·è´å½“å‰æ–‡ä»¶æ‰€æœ‰è¡Œã€å½“å‰è¡Œåˆ°æœ€åä¸€è¡Œã€å½“å‰è¡Œåˆ°ç¬¬ä¸€è¡Œ,
" ,ya  Yank all lines.
map <Leader>ya ggVGy
" ,yf  Yank from the current line to the end of line.
map <Leader>yf VGy
" ,yb  Yank from the current line to the first of line.
map <Leader>yb Vggy

" æ‹·è´å½“å‰æ–‡ä»¶å…¨è·¯å¾„.
map <silent> <Leader>cp :let @+=expand("%:p")<CR>

" :W  æ™®é€šç”¨æˆ·æ²¡æœ‰æƒé™æ—¶ä½¿ç”¨ sudo æƒé™ä¿å­˜æ–‡ä»¶.
command! W execute 'w !sudo tee % > /dev/null' <bar> edit!

" ,z  å½“ä¸€ä¸ªç•Œé¢ä¸Šæœ‰å¤šä¸ªçª—å£æ—¶, å¯ä»¥æ”¾å¤§æˆ–è¿˜åŸå½“å‰æ‰€åœ¨çš„å­çª—å£.
" Zoom windows.
" from: http://stackoverflow.com/questions/13194428/is-better-way-to-zoom-windows-in-vim-than-zoomwin
nnoremap <silent> <leader>z :ZoomToggle<CR>

function! s:ZoomToggle() abort
    if exists('t:zoomed') && t:zoomed
        execute t:zoom_winrestcmd
        let t:zoomed = 0
    else
        let t:zoom_winrestcmd = winrestcmd()
        resize
        vertical resize
        let t:zoomed = 1
    endif
endfunction
command! ZoomToggle call s:ZoomToggle()

" }}

"""""" å…¶ä»–é…ç½®  Other Settings {{

" æ¯æ¬¡ä»insertæ¨¡å¼åˆ‡æ¢åˆ°normalæ¨¡å¼æ—¶è‡ªåŠ¨åˆ‡æ¢è¾“å…¥æ³•ä¸ºè‹±æ–‡.
" éœ€æå‰å®‰è£…im-selectå‘½ä»¤:
" curl -Ls -o /usr/local/bin/im-select https://github.com/daipeihust/im-select/raw/master/macOS/out/apple/im-select
" chmod 755 /usr/local/bin/im-select
autocmd InsertLeave * :silent !/usr/local/bin/im-select com.apple.keylayout.ABC

" è§£å†³ä¸­æ–‡ä¹±ç é—®é¢˜.
let $LANG='en'
set langmenu=en
source $VIMRUNTIME/delmenu.vim
source $VIMRUNTIME/menu.vim

" ç¬¬ 80 åˆ—é€šè¿‡é¢œè‰²æ ‡æ³¨, æç¤ºæˆ‘ä»¬å¯¹å•è¡Œä»£ç é•¿åº¦çš„æŒæ§.
autocmd FileType * set colorcolumn=80

" tab é”®æ˜¾ç¤ºä¸º >---, è¡Œå°¾ç©ºæ ¼æ˜¾ç¤ºä¸º -, å¸®åŠ©æˆ‘ä»¬åŠæ—¶å‘ç°å¤šä½™çš„ç©ºç™½å­—ç¬¦.
function! SetList()
  if &filetype != 'go'
    set list listchars=tab:>-,trail:-
  endif
endfunction
autocmd FileType * call SetList()

" é‡æ–°æ‰“å¼€æ–‡ä»¶æ—¶, å…‰æ ‡æ¢å¤åœ¨ä¸Šæ¬¡ç¦»å¼€æ—¶çš„ä½ç½®.
augroup resCur
  autocmd!
  autocmd BufReadPost * call setpos(".", getpos("'\""))
augroup END

" command-line æ¨¡å¼ä¸‹, æ“ä½œæŒ‡ä»¤æŒ‰ä¸‹ tab é”®è‡ªåŠ¨è¡¥å…¨:
" ç¬¬ 1 æ¬¡æŒ‰ä¸‹ tab, ä¼šæ˜¾ç¤ºæ‰€æœ‰åŒ¹é…çš„æ“ä½œæŒ‡ä»¤çš„æ¸…å•, ç¬¬ 2 æ¬¡æŒ‰ä¸‹ tab, ä¼šä¾æ¬¡é€‰æ‹©å„ä¸ªæŒ‡ä»¤.
set wildmenu
set wildmode=longest:list,full

" å¿½ç•¥æ— ç”¨çš„ç¼–è¯‘ç±»ç­‰æ–‡ä»¶.
set wildignore=*.o,*~,*.pyc
if has("win16") || has("win32")
  set wildignore+=.git\*,.hg\*,.svn\*
else
  set wildignore+=*/.git/*,*/.hg/*,*/.svn/*,*/.DS_Store
endif

" insert æ¨¡å¼ä¸‹ä½¿ç”¨ <BS> <Del> <C-W> <C-U>, è§£å†³æ— æ³•å›é€€åˆ é™¤ç­‰é—®é¢˜, æ¯”å¦‚æŒ‰ backspace é”®æ— ååº”.
set backspace=indent,eol,start
set whichwrap+=<,>,h,l

" ä¿ç•™æ’¤é”€å†å², Vim ä¼šåœ¨ç¼–è¾‘æ—¶ä¿å­˜æ“ä½œå†å², ç”¨æ¥ä¾›ç”¨æˆ·æ’¤æ¶ˆæ›´æ”¹;
" é»˜è®¤æƒ…å†µä¸‹, æ“ä½œè®°å½•åªåœ¨æœ¬æ¬¡ç¼–è¾‘æ—¶æœ‰æ•ˆ, ä¸€æ—¦ç¼–è¾‘ç»“æŸã€æ–‡ä»¶å…³é—­, æ“ä½œå†å²å°±æ¶ˆå¤±äº†;
" æ‰“å¼€è¿™ä¸ªè®¾ç½®, å¯ä»¥åœ¨æ–‡ä»¶å…³é—­å, æ“ä½œè®°å½•ä¿ç•™åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œé¢ç»§ç»­å­˜åœ¨.
" è¿™æ„å‘³ç€, é‡æ–°æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶, å¯ä»¥æ’¤é”€ä¸Šä¸€æ¬¡ç¼–è¾‘æ—¶çš„æ“ä½œ;
" æ’¤æ¶ˆæ–‡ä»¶æ˜¯è·ŸåŸæ–‡ä»¶ä¿å­˜åœ¨ä¸€èµ·çš„éšè—æ–‡ä»¶, æ–‡ä»¶åä»¥ .un~ å¼€å¤´.
set undofile
set undodir=~/.vim/undo
if !isdirectory(&undodir)
  call mkdir(&undodir, 'p', 0700)
endif

" normal æ¨¡å¼ä¸‹çš„ nyy å¤åˆ¶(n ä¸ºæ•°å­—), æˆ–è¿›å…¥ visual æ¨¡å¼ä¸‹é€‰æ‹©å†…å®¹åçš„ y å¤åˆ¶,
" é™¤äº†å¯ä»¥å°†å¤åˆ¶çš„å†…å®¹ç²˜è´´(ä½¿ç”¨ p)åˆ°å…¶ä»– Vim å®ä¾‹,
" è¿˜å¯ä»¥å°†å†…å®¹ç²˜è´´(command v)åˆ°ç³»ç»Ÿçš„å…¶ä»–ä»»ä½•å¯è¾“å…¥çª—å£.
"
" æ³¨æ„: ä»¥ä¸Šæ‰€è¯´çš„éƒ½æ˜¯é’ˆå¯¹æœ¬åœ°æ“ä½œç³»ç»Ÿä½¿ç”¨æœ¬åœ° Vim çš„æƒ…å†µ,
" æ¯”å¦‚ macOS/Windows/Linux æœ¬åœ°çš„ Vim å’Œæœ¬åœ°çš„å…¶ä»–åº”ç”¨çª—å£ä¹‹é—´,
" ä¸åŒ…æ‹¬è¿œç¨‹è¿æ¥çš„æ“ä½œç³»ç»Ÿçš„ Vim å’Œæœ¬åœ°åº”ç”¨çš„çª—å£ä¹‹é—´.
if has('clipboard')
  if has('unnamedplus')
    set clipboard=unnamed,unnamedplus " for Linux
  else
    set clipboard=unnamed " for macOSã€Windows
  endif
endif

" ä»é¢å¤–çš„æœ¬åœ°é…ç½®æ–‡ä»¶(å¦‚æœå­˜åœ¨çš„è¯)åŠ è½½é…ç½®.
let vimrc_local = $HOME . '/.vimrc.local'
if filereadable(expand(vimrc_local))
  exec 'source' vimrc_local
endif

" }}

" }}

" å¤‡ç”¨é…ç½®  Stand-by Configuration {{

" å°† sign åˆ—åˆå¹¶åˆ°è¡Œå·åˆ—, ä¼šå½±å“åˆ° [n]k/j å¿«é€Ÿè·³è½¬åˆ°æŒ‡å®šè¡Œ, æ‰€ä»¥ä¸å»ºè®®å¼€å¯æ­¤é…ç½®.
"set signcolumn=number

" sign åˆ—å§‹ç»ˆæ˜¾ç¤º, æ ¹æ®ä¸ªäººå–œå¥½å†³å®šæ˜¯å¦å¯ç”¨.
"set signcolumn=yes

" è¾“å…¥çš„æ–‡å­—åˆ°è¾¾ç»ˆç«¯è¾¹ç¼˜æ—¶ä¸è‡ªåŠ¨æŠ˜è¡Œ, æ‰€è°“æŠ˜è¡ŒæŒ‡çš„æ˜¯ä¸€è¡Œå†…å®¹è§†è§‰ä¸Šæ˜¾ç¤ºä¸ºå¤šè¡Œ,
" ä¸æ˜¯çœŸæ­£çš„åŠ æ¢è¡Œç¬¦çš„æ¢è¡Œ.
"set nowrap

" ä¿å­˜æ–‡ä»¶æ—¶è‡ªåŠ¨å»é™¤è¡Œå°¾ç©ºæ ¼, æ³¨æ„å·²ç»é€šè¿‡ ale é…ç½®, æ­¤æ¡æ³¨é‡Šä¸å†ä½¿ç”¨.
"autocmd BufWritePre *.sh,*.lua,*.js,*.html,*.vue,*.toml,*.yaml,*.yml :%s/\s\+$//e

" é€€å‡º insert æ¨¡å¼æ—¶æŒ‡å®šç±»å‹çš„æ–‡ä»¶å°†è‡ªåŠ¨ä¿å­˜.
"au InsertLeave *.go,*.lua,*.sh,*.py,*.js,*.md write

" é€€å‡ºæ–‡ä»¶å, å±å¹•ä¾ç„¶æ˜¾ç¤ºè¯¥æ–‡ä»¶å†…å®¹.
"set t_ti= t_te=

" è¦†ç›–æ‰é»˜è®¤çš„æ‹¼å†™æ£€æŸ¥è®¾ç½®, ä¸å¯ç”¨æ‹¼å†™æ£€æŸ¥.
"autocmd VimEnter * set nospell

" ä¸åˆ›å»ºäº¤æ¢æ–‡ä»¶, äº¤æ¢æ–‡ä»¶ä¸»è¦ç”¨äºç³»ç»Ÿå´©æºƒæ—¶æ¢å¤æ–‡ä»¶, æ–‡ä»¶åä»¥ . å¼€å¤´, æ–‡ä»¶åç¼€æ˜¯ .swp
"set noswapfile

" å‡ºé”™æ—¶, å‘å‡ºè§†è§‰æç¤º, é€šå¸¸æ˜¯å±å¹•é—ªçƒ.
"set visualbell

" å…³é—­æ–¹å‘é”®, å¼ºåˆ¶ç”¨ hjkl.
"map <Left> <Nop>
"map <Right> <Nop>
"map <Up> <Nop>
"map <Down> <Nop>

" æ ¹æ®å…‰æ ‡æ‰€åœ¨çš„ä¸åŒtag, åŠ¨æ€å˜æ›´æ–‡ä»¶ç±»å‹.
" function! s:setFileType()
"   if searchpair('<script', '', '</script>', 'bnW')
"     set ft=javascript
"   elseif searchpair('<style', '', '</style>', 'bnW')
"     set ft=css
"   else
"     set ft=html
"   endif
" endfunction

" augroup vueBinds
"   au!
"   au CursorMoved,CursorMovedI *.vue call s:setFileType()
" augroup END

" }}

" ä½¿ç”¨æŠ€å·§  Tips {{

"""""""""" å¸¸ç”¨å‘½ä»¤è¡Œ {{
"
" vim/nvim --version                     å¯ä»¥æŸ¥çœ‹åˆ°å…¨å±€å’Œç”¨æˆ·çº§åˆ«çš„é…ç½®æ–‡ä»¶çš„åŠ è½½é¡ºåºç­‰ä¿¡æ¯.
" vim -g æˆ– mvim æˆ– gvim                 macOS ä¸‹è¿è¡Œ Vim çš„å›¾å½¢ç•Œé¢æ¨¡å¼, éœ€å®‰è£… macvim.
" vim -c 'normal 5G36|'                  normal æ¨¡å¼ä¸‹è·³è½¬åˆ°ç¬¬ 5 è¡Œç¬¬ 36 åˆ—.
" vimtutor                               Vim è‡ªå¸¦çš„å­¦ä¹ æ•™ç¨‹.
" vim -e --cmd 'echo $VIM|quit'          æŸ¥çœ‹ $VIM å˜é‡çš„å€¼.
" vim -e --cmd 'echo $VIMRUNTIME|quit'   æŸ¥çœ‹ $VIMRUNTIME å˜é‡çš„å€¼.
"
" }}

"""""""""" æ€§èƒ½ä¼˜åŒ– {{
"
" * æ— æ’ä»¶æ–¹å¼è¿è¡Œ Vim.
"    vim -u NONE
"
" * å°† Vim è¿è¡Œçš„è¯¦ç»†æ—¥å¿—ä¿å­˜åˆ° vim.log æ–‡ä»¶ä¸­.
"    vim -V9vim.log
"
" * è®°å½•å¸¦æ—¶é—´å­—æ®µçš„å¯åŠ¨æ—¥å¿—, ç”¨äºä¼˜åŒ– vim å¯åŠ¨æ—¶é—´.
"    vim --startuptime vim.log
"
" * æ‰¾å‡ºå“ªä¸ªæ’ä»¶æ‹–æ…¢äº† Vim çš„é€Ÿåº¦:
"    :profile start profile.log
"    :profile func *
"    :profile file *
"    At this point do slow actions (æ¯”å¦‚ä¿å­˜æ–‡ä»¶ :w æ¯”è¾ƒæ…¢)
"    :profile pause
"    :q
"    ç„¶åæŸ¥çœ‹ profile.log æ–‡ä»¶å°¾éƒ¨çš„æ€§èƒ½åˆ†ææ±‡æ€»éƒ¨åˆ†å³å¯.
"
" }}

"""""""""" å¸¸ç”¨çš„åŸç”Ÿèƒ½åŠ› {{
"
" ** æŒç»­ä¼˜åŒ–ä½ çš„ vimrc æ–‡ä»¶:
"           :version  æ˜¾ç¤ºå½“å‰ Vim çš„ç‰ˆæœ¬å·å’Œæ”¯æŒçš„ç‰¹æ€§.
"     :help [object]  object è¡¨ç¤ºä½ è¦æŸ¥çœ‹å…¶æ–‡æ¡£çš„ Vim æŸä¸ªå‘½ä»¤æˆ–è€…æ’ä»¶åç§°ç­‰.
"        :h [object]  åŒä¸Š.
"           :h index  æŸ¥è¯¢ Vim æ‰€æœ‰é”®ç›˜å‘½ä»¤å®šä¹‰.
"          :h ctrl-p  æŸ¥çœ‹ normal æ¨¡å¼ä¸‹ ctrl p å¿«æ·é”®çš„æ„æ€.
"        :h i_ctrl-p  æŸ¥çœ‹ insert æ¨¡å¼ä¸‹ ctrl p å¿«æ·é”®çš„æ„æ€.
"                  K  1)é€šè¿‡ä¸Šä¸ªå‘½ä»¤æ‰“å¼€æ–‡æ¡£, å¯¹äºæœ‰ä¸‹åˆ’çº¿çš„æ–‡æœ¬å¯¹è±¡,
"                       æŒ‰ K å³å¯ç›´æ¥è·³è½¬åˆ°ç›¸å…³çš„æ–‡æ¡£,
"                       ctrl o/i å¯æ¥å›è·³è½¬, å¢åŠ æ–‡æ¡£é˜…è¯»æ•ˆç‡;
"                     2)åœ¨é˜…è¯» .vimrc æ—¶, å¯é€šè¿‡æŒ‰ K è‡ªåŠ¨æ‰“å¼€å…‰æ ‡æ‰€åœ¨å¯¹è±¡çš„æ–‡æ¡£.
"              :so %  ä¼˜åŒ–å˜æ›´ä½ çš„ ~/.vimrc æ–‡ä»¶å†…å®¹å¹¶ä¿å­˜å,
"                     ä½¿ç”¨æ­¤ command-line æ¨¡å¼å‘½ä»¤, å¯ä»¥ç›´æ¥ä½¿é…ç½®ç”Ÿæ•ˆ.
"                 ,R  åŒä¸Š, åªä¸è¿‡è¿™ä¸ªæ˜¯ä¸ºäº†æ“ä½œç®€ä¾¿åšçš„è‡ªå®šä¹‰é…ç½®.
"          :messages  å¦‚æœå‡ºç°æŠ¥é”™ä¿¡æ¯, ä½†æ˜¯ä½ è¿˜æ²¡çœ‹æ¸…æ¥šå°±æ¶ˆæ¯å°±å·²ç»é€€å‡ºäº†,
"                     ä½¿ç”¨æ­¤å‘½ä»¤å¯ä»¥é‡æ–°çœ‹åˆ°é”™è¯¯ä¿¡æ¯.
"           :h error  æŸ¥çœ‹ Vim éƒ½æœ‰å“ªäº›é”™è¯¯ä¿¡æ¯.
"             :h E11  æŸ¥çœ‹å…·ä½“çš„æŸä¸€ä¸ªé”™è¯¯ç¼–å·çš„é‡Šä¹‰.
"
" ** æ–‡æœ¬å¯¹è±¡çš„å¿«æ·ç¼–è¾‘:
"
"   æ¶‰åŠåˆ°çš„å¸¸ç”¨å­—ç¬¦è¯´æ˜:
"                  y  è¡¨ç¤ºå¤åˆ¶.
"                  v  è¡¨ç¤ºé€‰æ‹©, é€‰æ‹©åè¿›å…¥ visual æ¨¡å¼.
"                  d  è¡¨ç¤ºåˆ é™¤.
"                  x  è¡¨ç¤ºåˆ é™¤, ä½†åˆ é™¤å¯¹è±¡åªèƒ½æ˜¯å­—ç¬¦å•ä½.
"                  c  è¡¨ç¤ºä¿®æ”¹, æ„æ€æ˜¯åˆ é™¤æ–‡æœ¬å¯¹è±¡åè¿›å…¥ insert æ¨¡å¼ç­‰å¾…è¾“å…¥æ–°å†…å®¹.
"                  s  è¡¨ç¤ºä¿®æ”¹, ä½†ä¿®æ”¹å¯¹è±¡åªèƒ½æ˜¯å­—ç¬¦å•ä½,
"                     ä½†æœ¬ vimrc å·²ç»é…ç½®å°† s ç»™ easymotion æ’ä»¶ä½¿ç”¨.
"                  J  è¡¨ç¤º join, åˆå¹¶å¤šè¡Œåˆ°å½“å‰è¡Œ.
"
"                  l  è¡¨ç¤ºå…‰æ ‡å³ä¾§ 1 ä¸ªå­—ç¬¦.
"                  h  è¡¨ç¤ºå…‰æ ‡å·¦ä¾§ 1 ä¸ªå­—ç¬¦.
"                  e  è¡¨ç¤ºå…‰æ ‡å³ä¾§ 1 ä¸ªå•è¯, end æŒ‡çš„æ˜¯å•è¯ç»“å°¾,
"                     ä¹Ÿå°±æ˜¯ä¸åŒ…å«å³ä¾§ç´§é‚»çš„ç©ºç™½å­—ç¬¦, ç›¸å½“äº iw.
"                  w  è¡¨ç¤ºå…‰æ ‡å³ä¾§ 1 ä¸ªå•è¯, å¦‚å³ä¾§æŒ¨ç€ç©ºç™½å­—ç¬¦, åˆ™åŒ…å«å³ä¾§æŒ¨ç€çš„æ‰€æœ‰ç©ºç™½å­—ç¬¦,
"                     å¦‚æœæ˜¯ aw, åˆ™ä»…åŒ…å«å³ä¾§æŒ¨ç€çš„ 1 ä¸ªç©ºç™½å­—ç¬¦.
"                  b  è¡¨ç¤ºå…‰æ ‡å·¦ä¾§ 1 ä¸ªå•è¯.
"                  W  è¡¨ç¤ºå…‰æ ‡å³ä¾§ 1 ä¸ªå•è¯, è¿™é‡Œçš„å•è¯æ˜¯æŒ‡éç©ºç™½å­—ç¬¦éƒ½æ˜¯å•è¯çš„ç»„æˆéƒ¨åˆ†,
"                     ä¹Ÿå°±æ˜¯ä»¥ç©ºç™½å­—ç¬¦ä½œä¸ºå•è¯åˆ†éš”ç¬¦, åŒæ ·å¦‚æœå³ä¾§æŒ¨ç€ç©ºç™½å­—ç¬¦, ä¹ŸåŒ…å«ç©ºç™½å­—ç¬¦.
"                  B  è¡¨ç¤ºå…‰æ ‡å·¦ä¾§ 1 ä¸ªå•è¯(éç©ºç™½å­—ç¬¦ä¹Ÿæ˜¯å•è¯çš„ç»„æˆéƒ¨åˆ†).
"                  s  sentence, å¥å­.
"                  p  paragraph, æ®µè½.
"                  t  tag, html æ ‡ç­¾.
"
"                  n  è¡¨ç¤ºè¦æ“ä½œçš„æ–‡æœ¬å¯¹è±¡çš„æ•°é‡, ä¸å†™ n çš„è¯, é»˜è®¤æ˜¯ 1.
"                  i  inside, è¡¨ç¤ºå…‰æ ‡åœ¨è¦æ“ä½œçš„æ–‡æœ¬å¯¹è±¡çš„å†…éƒ¨, ä¸åŒ…å«è¾¹ç•Œ.
"                  a  around, è¡¨ç¤ºå…‰æ ‡åœ¨è¦æ“ä½œçš„æ–‡æœ¬å¯¹è±¡çš„å†…éƒ¨, åŒ…å«è¾¹ç•Œ.
"                  t  till, å‘å³åˆ°æŸä¸ªå­—ç¬¦, ä¸åŒ…å«ç›®æ ‡å­—ç¬¦.
"                  T  å‘å·¦åˆ°æŸä¸ªå­—ç¬¦, ä¸åŒ…å«ç›®æ ‡å­—ç¬¦.
"                  f  forward, å‘å³åˆ°æŸä¸ªå­—ç¬¦, åŒ…å«ç›®æ ‡å­—ç¬¦.
"                  F  å‘å·¦åˆ°æŸä¸ªå­—ç¬¦, åŒ…å«ç›®æ ‡å­—ç¬¦.
"
" ä»¥ä¸Šå­—ç¬¦å¯æŒ‰åŸºæœ¬è§„åˆ™è‡ªç”±ç»„åˆ:
"       y/v/d/c [n]l  å¤åˆ¶/é€‰æ‹©/åˆ é™¤/ä¿®æ”¹å…‰æ ‡å³ n ä¸ªå­—ç¬¦, n å¯ä¸è¾“å…¥, é»˜è®¤æ˜¯ 1.
"       y/v/d/c [n]h  å¤åˆ¶/é€‰æ‹©/åˆ é™¤/ä¿®æ”¹å…‰æ ‡å·¦ n ä¸ªå­—ç¬¦.
"       y/v/d/c [n]e  å¤åˆ¶/é€‰æ‹©/åˆ é™¤/ä¿®æ”¹å…‰æ ‡å³ n ä¸ªå•è¯, ä¸åŒ…å«å³ä¾§ç©ºç™½å­—ç¬¦.
"       y/v/d/c [n]w  å¤åˆ¶/é€‰æ‹©/åˆ é™¤/ä¿®æ”¹å…‰æ ‡å³ n ä¸ªå•è¯, åŒ…å«å³ä¾§ç©ºç™½å­—ç¬¦.
"       y/v/d/c [n]W  å¤åˆ¶/é€‰æ‹©/åˆ é™¤/ä¿®æ”¹å…‰æ ‡å³ n ä¸ªå•è¯, ç‰¹æ®Šå­—ç¬¦ä¹Ÿä½œä¸ºå•è¯çš„ä¸€éƒ¨åˆ†,
"                     åŒ…å«å³ä¾§ç©ºç™½å­—ç¬¦.
"       y/v/d/c [n]b  å¤åˆ¶/é€‰æ‹©/åˆ é™¤/ä¿®æ”¹å…‰æ ‡å·¦ n ä¸ªå•è¯.
"       y/v/d/c [n]B  å¤åˆ¶/é€‰æ‹©/åˆ é™¤/ä¿®æ”¹å…‰æ ‡å·¦ n ä¸ªå•è¯, ç‰¹æ®Šå­—ç¬¦ä¹Ÿä½œä¸ºå•è¯çš„ä¸€éƒ¨åˆ†.
"         y/v/d/c f*  å¤åˆ¶/é€‰æ‹©/åˆ é™¤/ä¿®æ”¹å…‰æ ‡å³ä¾§ç›´åˆ° * çš„æ–‡æœ¬,
"                     åŒ…å« *, * è¡¨ç¤ºä¸€ä¸ªå…·ä½“çš„å­—ç¬¦.
"         y/v/d/c t*  å¤åˆ¶/é€‰æ‹©/åˆ é™¤/ä¿®æ”¹å…‰æ ‡å³ä¾§ç›´åˆ° * çš„æ–‡æœ¬, ä¸åŒ…å« *,
"                     * è¡¨ç¤ºä¸€ä¸ªå…·ä½“çš„å­—ç¬¦.
"        [n]yy/dd/cc  å¤åˆ¶/åˆ é™¤/ä¿®æ”¹ n è¡Œ.
"         y/v/d/c ip  å¤åˆ¶/é€‰æ‹©/åˆ é™¤/ä¿®æ”¹ å…‰æ ‡æ‰€åœ¨æ®µè½.
"         y/v/d/c it  å¤åˆ¶/é€‰æ‹©/åˆ é™¤/ä¿®æ”¹ å…‰æ ‡æ‰€åœ¨çš„ html æ ‡ç­¾.
"          y/v/d/c 0  ä»å…‰æ ‡ä½ç½® å¤åˆ¶/é€‰æ‹©/åˆ é™¤/ä¿®æ”¹ åˆ°è¡Œé¦–.
"          y/v/d/c $  ä»å…‰æ ‡ä½ç½® å¤åˆ¶/é€‰æ‹©/åˆ é™¤/ä¿®æ”¹ åˆ°è¡Œå°¾.
"         di "/(/{/[  åˆ é™¤ "" æˆ– () æˆ– {} ç­‰ä¹‹é—´çš„æ‰€æœ‰å­—ç¬¦, ä¸åŒ…æ‹¬å®ƒä»¬æœ¬èº«.
"         da "/(/{/[  åˆ é™¤ "" æˆ– () æˆ– {} ç­‰ä¹‹é—´çš„æ‰€æœ‰å­—ç¬¦, ä¹ŸåŒ…æ‹¬å®ƒä»¬æœ¬èº«.
"               c2i(  åˆ é™¤ 2 å±‚ () å†…çš„å†…å®¹, åªç•™ä¸‹ä¸€å¯¹ (),  å¹¶è¿›å…¥ insert æ¨¡å¼.
"                     è¿˜æœ‰å¾ˆå¤šä¸åŒç»„åˆ, è¯·äº²è‡ªå°è¯•ç†è§£:
"                         yw/ye/yiw/y3w/yW/yi{/ya{/y3i{/yb/yB
"                         vw/ve/viw/vaw/v3iw/vW/vi{/va{/v3i{
"                         cw/ciw/c3w/cW/cb/cB
"                         dw/diw/db/dB/d3w
"                         ...
"                dgg  ä»å…‰æ ‡ä½ç½®åˆ é™¤åˆ°æ–‡ä»¶å¤´éƒ¨.
"                 dG  ä»å…‰æ ‡ä½ç½®åˆ é™¤åˆ°æ–‡ä»¶å°¾éƒ¨.
"                dip  å…‰æ ‡åœ¨ç©ºç™½è¡Œæ—¶, ä½¿ç”¨æ­¤å¿«æ·é”®åˆ é™¤æ‰€æœ‰ä¸´è¿‘çš„ç©ºç™½è¡Œ.
"                  D  åˆ é™¤å½“å‰è¡Œå…‰æ ‡ä¹‹åçš„å†…å®¹.
"                  C  ä¿®æ”¹å½“å‰è¡Œå…‰æ ‡ä¹‹åçš„å†…å®¹.
"               [n]x  å‰ªåˆ‡å…‰æ ‡å³ä¾§ n ä¸ªå­—ç¬¦, åŒ d[n]l.
"               [n]X  å‰ªåˆ‡å…‰æ ‡å·¦ä¾§ n ä¸ªå­—ç¬¦, åŒ d[n]h.
"               [n]s  ä¿®æ”¹å…‰æ ‡å n ä¸ªå­—ç¬¦, åŒ c[n]l.
"                     NOTE: æœ¬ vimrc æ–‡ä»¶é…ç½®å·²å°† s å‘½ä»¤ç»™ easymotion æ’ä»¶ä½¿ç”¨.
"               [n]S  ä¿®æ”¹æ•´è¡Œ, åŒ [n]cc.
"               [n]J  åˆå¹¶åŒ…å«å…‰æ ‡æ‰€åœ¨è¡Œåœ¨å†…çš„ n è¡Œåˆ°å½“å‰è¡Œ,
"                     å¦‚æœåªæ˜¯ J, åˆ™æ˜¯åˆå¹¶ä¸‹ä¸€è¡Œåˆ°å…‰æ ‡æ‰€åœ¨è¡Œ.
"                p/P  åœ¨å…‰æ ‡ å³ä¾§/å·¦ä¾§ ç²˜è´´.
"               [n]r  æ›¿æ¢å½“å‰å…‰æ ‡å³ä¾§ n ä¸ªå­—ç¬¦.
"                  R  è¿›å…¥ replace æ¨¡å¼, æ¯æ¬¡æŒ‰é”®æ›¿æ¢ä¸€ä¸ªå­—ç¬¦,
"                     ç›´åˆ°æŒ‰ ESC é”®é€€å‡º replace æ¨¡å¼.
"                  u  undo, æ’¤é”€æœ€è¿‘ä¸€æ¬¡çš„ä¿®æ”¹åŠ¨ä½œ.
"                  U  æ’¤é”€å½“å‰æ‰€åœ¨è¡Œçš„æ‰€æœ‰ä¿®æ”¹.
"             ctrl r  redo, æ¢å¤æœ€è¿‘ä¸€æ¬¡çš„æ’¤é”€å†…å®¹.
"    :n,ms/old/new/g  å°†æ–‡ä»¶å†…ç¬¬ n è¡Œåˆ°ç¬¬ m è¡Œçš„æ‰€æœ‰ old æ›¿æ¢ä¸º new;
"                     å¦‚æœæ˜¯å…ˆåœ¨ visual æ¨¡å¼ä¸‹é€‰æ‹©äº†ä¸€æ®µå†…å®¹,
"                     å†æŒ‰ : åˆ™ command-line æ¨¡å¼æ ä¼šå˜ä¸º :'<,'>,
"                     æœ€åæˆ‘ä»¬è¡¥å…¨ä¸º :'<,'>s/old/new/g, å³å¯å®Œæˆæ›¿æ¢é€‰æ‹©çš„æ–‡æœ¬éƒ¨åˆ†.
"      :%s/old/new/g  å°†æ–‡ä»¶å†…æ‰€æœ‰ old æ›¿æ¢ä¸º new, g è¡¨ç¤ºå…¨å±€æ›¿æ¢, å¦‚æœæ²¡æœ‰ g,
"                     åˆ™æ¯è¡Œåªæ›¿æ¢ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹.
"     :%s/old/new/gc  æ¯ä¸ªåŒ¹é…ä¸²æ›¿æ¢å‰å…ˆæç¤ºæ˜¯å¦è¿›è¡Œæ›¿æ¢.
"             ctrl o  insert æ¨¡å¼ä¸‹, ä½¿ä¸´æ—¶è¿›å…¥ normal æ¨¡å¼ä¸‹,
"                     æ‰§è¡Œä¸€ä¸ª normal å‘½ä»¤å°±è‡ªåŠ¨å†è¿”å› insert æ¨¡å¼ä¸‹.
"         ctrl h/w/u  insert æ¨¡å¼ä¸‹, å‘å·¦åˆ é™¤ 1ä¸ªå­—ç¬¦/1ä¸ªå•è¯/åˆ°è¡Œé¦–.
"      ctrl od l/w/e  insert æ¨¡å¼ä¸‹, å‘å³åˆ é™¤ 1ä¸ªå­—ç¬¦/1ä¸ªå•è¯/1ä¸ªä¸å«ç©ºæ ¼çš„å•è¯.
"            ctrl oD  insert æ¨¡å¼ä¸‹, å‘å³åˆ é™¤åˆ°è¡Œå°¾.
"
" ** å¤§å°å†™è½¬æ¢:
"               gUiw  å°†å•è¯è½¬æˆå¤§å†™.
"               guiw  å°†å•è¯è½¬æˆå°å†™.
"                guu  å°†å…¨è¡Œè½¬æˆå°å†™.
"                gUU  å°†å…¨è¡Œè½¬æˆå¤§å†™.
"
" ** ç§»åŠ¨å…‰æ ‡:
"               kjhl  ä¸Šä¸‹å·¦å³ç§»åŠ¨å…‰æ ‡.
"              gk/gj  å¯¹äºæŠ˜è¡Œçš„æƒ…å†µ, å‘ä¸Š/å‘ä¸‹åœ¨æŠ˜è¡Œé—´ç§»åŠ¨å…‰æ ‡.
"                w/W  å‘å³ç§»åŠ¨ä¸€ä¸ªå•è¯ä½ç½®, å…‰æ ‡åœ¨å•è¯å¼€å¤´,
"                     å¤§å†™è¡¨ç¤ºç‰¹æ®Šç¬¦å·ä¹Ÿç®—å•è¯çš„ç»„æˆéƒ¨åˆ†, å¯å‰ç½®æ•°å­—è¡¨ç¤ºç§»åŠ¨çš„å•è¯æ•°é‡.
"                e/E  åŒä¸Š, åŒºåˆ«æ˜¯ç§»åŠ¨åˆ°å•è¯æœ«å°¾.
"                b/B  å‘å·¦ç§»åŠ¨ä¸€ä¸ªå•è¯ä½ç½®, å…‰æ ‡åœ¨å•è¯å¼€å¤´, å…¶ä»–åŒ w/W.
"                  0  å…‰æ ‡è·³è½¬åˆ°è¡Œé¦–.
"                     NOTE: å·²è‡ªå®šä¹‰é…ç½®ä¸ºè·³è½¬åˆ°è¡Œé¦–ç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦, å†æŒ‰ä¸€æ¬¡æ‰åˆ°è¡Œé¦–.
"                  ^  å…‰æ ‡è·³è½¬åˆ°è¡Œé¦–ç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦.
"                  $  å…‰æ ‡è·³è½¬åˆ°è¡Œå°¾.
"                (/)  ç§»åŠ¨åˆ°ä¸Šä¸€å¥/ä¸‹ä¸€å¥.
"                {/}  ç§»åŠ¨åˆ°ä¸Šä¸€æ®µè½/ä¸‹ä¸€æ®µè½.
"                  M  å…‰æ ‡ç§»åŠ¨åˆ°å½“å‰å±å¹•çš„ä¸­é—´è¡Œçš„è¡Œé¦–.
"             Ngg/NG  å…‰æ ‡ç§»åŠ¨åˆ°ç¬¬ N è¡Œ.
"                 N%  å…‰æ ‡ç§»åŠ¨åˆ° N% è¡Œå¤„.
"                 N|  è‡³ç¬¬ N åˆ—, è¿™é‡Œçš„ | æ˜¯ç«–çº¿å­—ç¬¦.
"                */#  åŒ¹é…å½“å‰å…‰æ ‡æ‰€åœ¨å•è¯å¹¶è·³è½¬åˆ°ä¸‹ä¸€ä¸ªå•è¯/ä¸Šä¸€ä¸ªå•è¯.
"                 f*  è¿™é‡Œçš„ * è¡¨ç¤ºä»»æ„ä½ è¦è·³è½¬åˆ°çš„æœ¬è¡Œå­—ç¬¦, æ¯”å¦‚ä½ è¦è·³è½¬åˆ° m, åˆ™ fm,
"                     ç„¶åæŒ‰ ; ç»§ç»­å‘å³åŒ¹é…, æŒ‰ , å‘å·¦åŒ¹é…, ç›´åˆ°è·³è½¬åˆ°è‡ªå·±æƒ³å»çš„ä½ç½®.
"                 t*  åŒä¸Š, åŒºåˆ«æ˜¯ä¸åŒ…å«ç›®æ ‡å­—ç¬¦.
"              F*/T*  åŒä¸Š, åŒºåˆ«æ˜¯æ–¹å‘æ˜¯å‘å·¦çš„.
"           ctrl o/i  å°†å…‰æ ‡è·³è½¬åˆ°ä¹‹å‰/ä¹‹åçš„ä½ç½®.
"           ctrl f/b  å‘ä¸‹/å‘ä¸Šç¿»æ•´å±.
"           ctrl d/u  å‘ä¸‹/å‘ä¸Šç¿»åŠå±.
"           ctrl e/y  ä»¥ 1 è¡Œ(å·²è‡ªå®šä¹‰é…ç½®æˆ 3 è¡Œ)ä¸ºå•ä½ä¸Šä¸‹ç§»åŠ¨å±å¹•, è€Œä¸ç§»åŠ¨å…‰æ ‡.
"                     NOTE: é˜…è¯»çš„æ—¶å€™æ¨èä½¿ç”¨è¿™ç§æ–¹å¼, è€Œä¸æ˜¯é€šè¿‡ jklh æˆ– ctrl d/u/f/b å¿«æ·é”®.
"           zt/zz/zb  æŠŠå…‰æ ‡æ‰€åœ¨è¡Œæ”¾ç½®åˆ°å±å¹•çš„é¡¶éƒ¨ã€ä¸­é—´ã€åº•éƒ¨.
"                  %  è·³è½¬åˆ°å…‰æ ‡æ‰€åœ¨çš„ {([ åŒ¹é…åŒ¹é…çš„å¦ä¸€ç«¯.
"                 gf  è·³è½¬åˆ°å…‰æ ‡æ‰€åœ¨æ–‡æœ¬å¯¹è±¡æ‰€å¯¹åº”çš„æ–‡ä»¶.
"                 gd  è·³è½¬åˆ°å…‰æ ‡æ‰€åœ¨æ–‡æœ¬å¯¹è±¡çš„å®šä¹‰å¤„.
"                 `.  å›åˆ°ä¸Šæ¬¡ç¼–è¾‘çš„ä½ç½®.
"
" ** æ’ç‰ˆ:
"              >>/<<  normal æ¨¡å¼ä¸‹å‘ å³/å·¦ ç¼©è¿›4ä¸ªç©ºæ ¼.
"                >/<  visual æ¨¡å¼ä¸‹å‘ å³/å·¦ ç¼©è¿›4ä¸ªç©ºæ ¼.
"                 ==  è‡ªåŠ¨ç¼©è¿›.
"                :ce  æœ¬è¡Œæ–‡å­—å±…ä¸­(center).
"                :le  æœ¬è¡Œæ–‡å­—é å·¦(left).
"                :ri  æœ¬è¡Œæ–‡å­—é å³(right).
"
" ** è¿›å…¥ insert æ¨¡å¼çš„å‡ ç§æ–¹æ³•:
"                  i  åœ¨å½“å‰å…‰æ ‡ä½ç½®æ’å…¥.
"                  I  åœ¨å½“å‰è¡Œç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦å‰æ’å…¥.
"                 gI  åœ¨è¡Œé¦–æ’å…¥.  å›åˆ°ä¸Šæ¬¡ç¼–è¾‘çš„ä½ç½®.
"                  a  å…‰æ ‡å‘å³ç§»åŠ¨ä¸€ä¸ªä½ç½®.
"                  A  å…‰æ ‡è·³è½¬åˆ°è¡Œå°¾æ’å…¥.
"                  o  å‘ä¸‹æ–°å»ºä¸€è¡Œæ’å…¥.
"                  O  å‘ä¸Šæ–°å»ºä¸€è¡Œæ’å…¥.
"
" ** visual æ¨¡å¼:
"                  v  è¿›å…¥ visual æ¨¡å¼.
"                  V  è¿›å…¥ visual line æ¨¡å¼.
"             ctrl v  è¿›å…¥ visual block æ¨¡å¼.
"                  o  ä½¿å…‰æ ‡åœ¨é€‰æ‹©èŒƒå›´çš„å¼€å¤´å’Œç»“å°¾æ¥å›è·³è½¬.
"                  O  visual block æ¨¡å¼ä¸‹é™¤äº† o å…‰æ ‡è·³è½¬, O æ˜¯å¦ä¸€ç§è·³è½¬æ–¹å¼.
"                  u  é€‰æ‹©çš„åŒºåŸŸå…¨éƒ¨è½¬æ¢æˆå°å†™.
"                  U  é€‰æ‹©çš„åŒºåŸŸå…¨éƒ¨è½¬æ¢æˆå¤§å†™.
"                  ~  é€‰æ‹©çš„åŒºåŸŸçš„å¤§å°å†™åè½¬.
"           g ctrl g  æ˜¾ç¤ºé€‰æ‹©åŒºåŸŸçš„ç»Ÿè®¡ä¿¡æ¯.
"
" ** åˆ†å±/å¤šçª—å£ç®¡ç†:
"            :sp/:vs  ä¸Šä¸‹/å·¦å³ åˆ†å‰²çª—å£.
"       :sp/:vs file  ä¸Šä¸‹/å·¦å³ åˆ†å±åˆ›å»ºæ–°æ–‡ä»¶.
"            ctrl ww  å…‰æ ‡åœ¨å¤šä¸ªåˆ†å±çª—å£ä¹‹é—´å¾ªç¯ç§»åŠ¨.
"     ctrl w j/k/h/l  å…‰æ ‡ç§»åŠ¨åˆ° ä¸‹é¢/ä¸Šé¢/å·¦è¾¹/å³è¾¹ çš„çª—å£.
"            ctrl wp  å…‰æ ‡ç§»åŠ¨åˆ°ä¸Šä¸€æ¬¡æ‰€åœ¨çš„çª—å£.
"              :only  å¤šä¸ªåˆ†å±çª—å£çš„åœºæ™¯ä¸‹, ä½¿ç”¨æ­¤å‘½ä»¤ä»…ä¿ç•™å½“å‰å…‰æ ‡æ‰€åœ¨çª—å£, å…³é—­æ‰€æœ‰å…¶ä»–çª—å£.
"
" ** å¯¹äºå·²æ‰“å¼€æ–‡ä»¶(buffer)çš„æ“ä½œ:
"                :ls  æŸ¥çœ‹ buffer åˆ—è¡¨.
"                :bn  åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ª buffer.
"                :bp  åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ª buffer.
"                :bd  åˆ é™¤ buffer.
"               :b 1  åˆ‡æ¢åˆ° 1 å· buffer.
"             :b abc  åˆ‡æ¢åˆ°æ–‡ä»¶åä»¥ abc å¼€å¤´çš„ buffer.
"
" ** å…¶ä»–:
"              :help  é¡¶éƒ¨åˆ†å±æ‰“å¼€å¸®åŠ©æ–‡æ¡£çª—å£.
"             :[tab]  command-line æ¨¡å¼ä¸‹è¦æ“…ç”¨ tab è¡¥å…¨.
"          :x/:wq/ZZ  ä¿å­˜å¹¶é€€å‡ºæ–‡ä»¶.
"                 :q  ä¸ä¿å­˜é€€å‡ºæ–‡ä»¶æˆ–å…³é—­çª—å£.
"                 :!  åé¢è¾“å…¥è¦æ‰§è¡Œçš„ç³»ç»Ÿå‘½ä»¤, å›è½¦æ‰§è¡Œ.
"                  .  é‡å¤æ‰§è¡Œæœ€è¿‘ä¸€æ¬¡çš„ä¿®æ”¹åŠ¨ä½œ.
"                  /  æ­£å‘æœç´¢æ¨¡å¼.
"                  ?  åå‘æœç´¢æ¨¡å¼.
"                n/N  é…åˆä¸Šé¢ä¸¤ä¸ªå‘½ä»¤, æ­£å‘/æ–¹å‘è·³è½¬åˆ°æœç´¢å…³é”®å­—.
"             ctrl g  æ˜¾ç¤ºå…‰æ ‡æ‰€åœ¨æ–‡ä»¶çš„å…¨è·¯å¾„, å½“å‰æ–‡ä»¶ä¸€å…±å¤šå°‘è¡Œ,
"                     å…‰æ ‡æ‰€åœ¨è¡Œæ˜¯å½“å‰æ–‡ä»¶çš„ç™¾åˆ†ä¹‹å¤šå°‘çš„ä½ç½®.
"             ctrl f  command-line æ¨¡å¼ä¸‹, æŒ‰å¿«æ·é”® ctrl f æ‰“å¼€å‘½ä»¤è¡Œçª—å£å¹¶æ˜¾ç¤ºå‘½ä»¤å†å²è®°å½•.
"                 q:  normal æ¨¡å¼ä¸‹, æŒ‰å¿«æ·é”® q: æ‰“å¼€å‘½ä»¤è¡Œçª—å£å¹¶æ˜¾ç¤ºå‘½ä»¤å†å²è®°å½•.
"                 q/  normal æ¨¡å¼ä¸‹, æŒ‰å¿«æ·é”® q/ å°†ä¼šæ‰“å¼€å‘½ä»¤è¡Œçª—å£å¹¶æ˜¾ç¤ºå‘ä¸‹æœç´¢çš„å†å²è®°å½•.
"                 q?  normal æ¨¡å¼ä¸‹, æŒ‰å¿«æ·é”® q? å°†ä¼šæ‰“å¼€å‘½ä»¤è¡Œçª—å£å¹¶æ˜¾ç¤ºå‘ä¸Šæœç´¢çš„å†å²è®°å½•.
"                 z=  å½“ä½ æ‹¼å†™ä¸€ä¸ªä¸ç†Ÿæ‚‰çš„è‹±æ–‡å•è¯æ—¶, å¯ä»¥ä½¿ç”¨æ­¤å¿«æ·é”®ç»™å‡ºå»ºè®®åˆ—è¡¨.
"                     NOTE: éœ€è¦æ‰“å¼€è‹±æ–‡æ‹¼å†™æ£€æŸ¥.
"               "ayy  å°†å½“å‰è¡Œæ‹·è´åˆ°å¯„å­˜å™¨ a, a ä¹Ÿå¯ä»¥æ˜¯å…¶ä»–å­—ç¬¦, yy åŠ¨ä½œä¹Ÿå¯ä»¥æ˜¯å…¶ä»–æ‹·è´åŠ¨ä½œ.
"                "ap  å°†å¯„å­˜å™¨ a ä¸­çš„å†…å®¹ç²˜è´´åˆ°å…‰æ ‡æ‰€åœ¨å¤„, æˆ‘ä»¬å¯ä»¥æ‹·è´ä¸åŒå†…å®¹åˆ°ä¸åŒçš„å¯„å­˜å™¨,
"                     ç²˜è´´æ—¶åˆ†åˆ«é€‰æ‹©ç›¸åº”çš„å¯„å­˜å™¨çš„å†…å®¹è¿›è¡Œç²˜è´´.
"               :reg  æŸ¥çœ‹å½“å‰ Vim å®ä¾‹çš„å¯„å­˜å™¨åˆ—è¡¨.
"
" ** ä¸ä¾èµ–æ’ä»¶çš„è‡ªå®šä¹‰é…ç½®æä¾›çš„åŠŸèƒ½:
"                  Y  è¿™ä¸ªå‘½ä»¤é»˜è®¤æ˜¯å¤åˆ¶æ•´è¡Œçš„æ„æ€, è¿™é‡Œæ›´æ”¹ä¸ºå¤åˆ¶å…‰æ ‡ä½ç½®åˆ°è¡Œç»“å°¾çš„å†…å®¹.
"       ctrl b/f/p/n  insert æ¨¡å¼ä¸‹å·¦å³ä¸Šä¸‹ç§»åŠ¨å…‰æ ‡, æˆ–
"                     command-line æ¨¡å¼ä¸‹å‘å·¦/å‘å³ç§»åŠ¨å…‰æ ‡, å‘ä¸Šæˆ–å‘ä¸‹ç¿»é˜…å†å²å‘½ä»¤.
"     Option/Alt b/f  insert/command-line æ¨¡å¼ä¸‹, å°†å…‰æ ‡å‘å·¦æˆ–å‘å³ç§»åŠ¨ä¸€ä¸ªå•è¯.
"           ctrl a/e  insert/command-line æ¨¡å¼ä¸‹è·³è½¬åˆ°è¡Œé¦–/è¡Œå°¾,
"                     ctrl a ä¼šè·³è½¬åˆ°è¡Œé¦–ç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦, å†æŒ‰ä¸€æ¬¡è·³è½¬åˆ°è¡Œé¦–.
"           ctrl h/l  insert/command-line æ¨¡å¼ä¸‹å‘å·¦æˆ–å‘å³åˆ é™¤ä¸€ä¸ªå­—ç¬¦.
"           ctrl u/d  insert/command-line æ¨¡å¼ä¸‹ä»å…‰æ ‡ä½ç½®åˆ é™¤åˆ°è¡Œé¦–æˆ–åˆ é™¤åˆ°è¡Œå°¾.
"             ctrl w  insert/command-line æ¨¡å¼ä¸‹å‘å·¦åˆ é™¤ä¸€ä¸ªå•è¯.
"      , )/]/}/"/'/`  å°† visual æ¨¡å¼ä¸‹é€‰æ‹©çš„å†…å®¹ä½¿ç”¨ () æˆ– [] æˆ– {} æˆ– "" æˆ– '' æˆ– `` åŒ…è£¹.
"                 ,R  æ–‡ä»¶ ~/.vimrc æˆ– ~/.config/nvim/init.vim å‘ç”Ÿå˜åŒ–å,
"                     æ­£åœ¨ç¼–è¾‘çš„æ–‡ä»¶ä¸éœ€è¦é€€å‡º, é€šè¿‡è¯¥å¿«æ·é”®å³å¯é‡æ–°åŠ è½½è¯¥é…ç½®æ–‡ä»¶,
"                     ä½¿å˜æ›´é©¬ä¸Šç”Ÿæ•ˆ.
"                 ,E  ä¸Šä¸‹åˆ†å±æ–¹å¼æ‰“å¼€ ~/.vimrc æˆ– ~/.config/nvim/init.vim æ–‡ä»¶.
"             ctrl s  normal/insert æ¨¡å¼ä¸‹, æ‰“å¼€/å…³é—­è‹±æ–‡æ‹¼å†™æ£€æŸ¥.
"       ctrl k/j/h/l  normal æ¨¡å¼ä¸‹, ä¸Šä¸‹å·¦å³åœ¨å¤šçª—å£ä¹‹é—´è·³è½¬.
"                 ,b  normal æ¨¡å¼ä¸‹, åœ¨èƒŒæ™¯æ˜¯ dark å’Œ light ä¹‹é—´åˆ‡æ¢.
"                 ,o  normal æ¨¡å¼ä¸‹, åœ¨èƒŒæ™¯æ˜¯é€æ˜å’Œä¸é€æ˜ä¹‹é—´åˆ‡æ¢.
"                ,cp  normal æ¨¡å¼ä¸‹, æ‹·è´å½“å‰æ–‡ä»¶å…¨è·¯å¾„åˆ°å‰ªè´´æ¿.
"
" ** æ ‡ç­¾é¡µç®¡ç†:
"              g tab  normal æ¨¡å¼ä¸‹åˆ‡æ¢åˆ°ä¸Šä¸€æ¬¡è®¿é—®çš„æ ‡ç­¾é¡µ.
"              gt/gT  normal æ¨¡å¼ä¸‹åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ª/ä¸Šä¸€ä¸ªæ ‡ç­¾é¡µ.
"               n gt  normal æ¨¡å¼ä¸‹åˆ‡æ¢åˆ°å…·ä½“çš„æŸä¸€ä¸ªæ ‡ç­¾é¡µ.
"            , 1/2/3  normal æ¨¡å¼ä¸‹åˆ‡æ¢åˆ°å…·ä½“çš„æŸä¸€ä¸ªæ ‡ç­¾é¡µ.
"   Option/Alt 1/2/3  normal/insert æ¨¡å¼ä¸‹åˆ‡æ¢åˆ°å…·ä½“çš„æŸä¸€ä¸ªæ ‡ç­¾é¡µ.
"                ,fc  åˆ›å»ºä¸€ä¸ªæ–°çš„æ ‡ç­¾é¡µæ–‡ä»¶.
"                ,qq  å…³é—­å½“å‰çš„æ ‡ç­¾é¡µæ–‡ä»¶.
"           ,q 1/2/3  å…³é—­æŸä¸ªåºå·æ ‡ç­¾é¡µ.
"                ,fo  åªä¿ç•™å½“å‰çš„æ ‡ç­¾é¡µ, å…³é—­å…¶ä»–æ‰€æœ‰æ ‡ç­¾é¡µ.
"                ,fn  åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªæ ‡ç­¾é¡µ.
"                ,fp  åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªæ ‡ç­¾é¡µ.
"
" ** å¿«é€Ÿè¾“å…¥ Markdown è¯­æ³•æ ‡è¯†ç¬¦çš„è‡ªå®šä¹‰å¿«æ·é”®:
"                 ,b  ç”Ÿæˆç²—ä½“å­—æ ‡è¯†ç¬¦.
"                 ,i  ç”Ÿæˆæ–œä½“å­—æ ‡è¯†ç¬¦.
"                 ,s  ç”Ÿæˆåˆ é™¤çº¿æ ‡è¯†ç¬¦.
"                 ,d  ç”Ÿæˆè¡Œå†…ä»£ç æ ‡è¯†ç¬¦.
"                 ,c  ç”Ÿæˆä»£ç æ®µæ ‡è¯†ç¬¦.
"                 ,m  ç”Ÿæˆä»£åŠäº‹é¡¹æ ‡è¯†ç¬¦.
"                 ,p  ç”Ÿæˆå›¾ç‰‡é“¾æ¥æ ‡è¯†ç¬¦.
"                 ,a  ç”Ÿæˆè¶…é“¾æ¥æ ‡è¯†ç¬¦.
"       ,1/2/3/4/5/6  ç”Ÿæˆä¸€çº§åˆ°å…­çº§æ ‡é¢˜.
"                 ,l  ç”Ÿæˆæ°´å¹³çº¿.
"                 ,f  ä»¥ä¸Šå‡ ä¹æ¯ä¸€ä¸ªå¿«æ·é”®éƒ½ä¼šç”Ÿæˆä¸€ä¸ªå ä½ç¬¦(<++>),
"                     æŒ‰ ,f å…‰æ ‡ä¼šè·³è½¬åˆ°å ä½ç¬¦, å¹¶åŒæ—¶åˆ é™¤å ä½ç¬¦.
"                 ,w  ç›¸æ¯”äº ,f æ­¤å¿«æ·é”®è¿˜ä¼šå¢åŠ ä¸€ä¸ªæ¢è¡ŒåŠ¨ä½œ.
"
" ** å…¶ä»–å¸¸ç”¨æŠ€å·§
"             ctrl g  çŠ¶æ€æ æ˜¾ç¤ºå½“å‰buffer(æ–‡ä»¶)çš„æ–‡ä»¶å.
"           1 ctrl g  çŠ¶æ€æ æ˜¾ç¤ºå½“å‰buffer(æ–‡ä»¶)çš„å…¨è·¯å¾„æ–‡ä»¶å.
"           2 ctrl g  çŠ¶æ€æ æ˜¾ç¤ºå½“å‰buffer(æ–‡ä»¶)çš„å…¨è·¯å¾„æ–‡ä»¶å, å¹¶ä¸”æ˜¾ç¤ºbufferç¼–å·.
"
" }}

"""""""""" æ’ä»¶æä¾›çš„èƒ½åŠ› {{
"
" ** neoclide/coc.nvim (https://github.com/neoclide/coc.nvim)
"                 gl  ä»¥æ–°å»ºæ ‡ç­¾é¡µçš„æ–¹å¼è·³è½¬åˆ°å®šä¹‰å¤„.
"                 gy  è·³è½¬åˆ°ç±»å‹å®šä¹‰å¤„.
"                 gi  è·³è½¬åˆ°æ¥å£å®ç°å¤„.
"                 gr  åœ¨ location list ä¸­åˆ—å‡ºç›¸å…³æ¡ç›®, å¦‚æœåªæœ‰ 1 æ¡, åˆ™ç›´æ¥è·³è½¬è¿‡å».
"                  K  normal æ¨¡å¼ä¸‹, åœ¨æ‚¬æµ®çª—å£ä¸­æŸ¥çœ‹æ–‡æ¡£.
"           ctrl f/b  åœ¨æ‚¬æµ®çª—å£ä¸­æŸ¥çœ‹æ–‡æ¡£æ—¶, æˆ–è€…å‡ºç°ä»£ç è¡¥å…¨æç¤ºæ—¶,
"                     å¦‚æœæ–‡æ¡£æˆ–æŸä¸ªæç¤ºæ¡ç›®å¼¹å‡ºçš„è¯¦ç»†ä¿¡æ¯æ‰€åœ¨çš„æ‚¬æµ®çª—å£å‡ºç°äº†æ»šåŠ¨æ¡,
"                     åˆ™ä½¿ç”¨æ­¤å¿«æ·é”®è¿›è¡Œå‘ä¸‹æˆ–å‘ä¸Šç¿»æ»šé¡µé¢.
"
" ** coc-translator (https://github.com/voldikss/coc-translator)
"                 ts  normal å’Œ visual æ¨¡å¼ä¸‹, å°†å…‰æ ‡ä¸‹çš„å•è¯ä»¥å¼¹å‡ºæ¼‚æµ®çª—å£çš„æ–¹å¼æ˜¾ç¤ºç¿»è¯‘ç»“æœ.
"                tse  åœ¨çŠ¶æ€æ ä¸‹é¢æ˜¾ç¤ºç¿»è¯‘çš„ç»“æœ.
"                tsr  å°†ç¿»è¯‘ç»“æœæ›¿æ¢æ‰å…‰æ ‡ä¸‹çš„å•è¯.
"
" ** coc-git (https://github.com/neoclide/coc-git)
"                 [g  å‘ä¸‹è·³è½¬åˆ° git å˜æ›´å¤„.
"                 ]g  å‘ä¸Šè·³è½¬åˆ° git å˜æ›´å¤„.
"                 [c  å‘ä¸‹è·³è½¬åˆ° git å˜æ›´å†²çªå¤„.
"                 ]c  å‘ä¸Šè·³è½¬åˆ° git å˜æ›´å†²çªå¤„.
"                ,gd  git diff å½“å‰ git å˜æ›´å¤„.
"                ,gc  æŸ¥çœ‹å½“å‰å…‰æ ‡æ‰€åœ¨çš„ git commit ä¿¡æ¯.
"
" ** dense-analysis/ale (https://github.com/dense-analysis/ale)
"                 :w  ä¿å­˜ä»£ç æ–‡ä»¶çš„æ—¶å€™, å°†è‡ªåŠ¨æ£€æŸ¥è¯­æ³•é”™è¯¯å¹¶æç¤º.
"              , k/j  å‘ä¸Šæˆ–å‘ä¸‹è·³è½¬åˆ°ä¸‹ä¸€ä¸ªé”™è¯¯æç¤ºçš„ä½ç½®.
"
" ** Yggdroot/LeaderF (https://github.com/Yggdroot/LeaderF)
"                ,ff  è¿›å…¥æ–‡ä»¶æœç´¢çš„æ¨¡ç³Šæœç´¢æ–¹å¼;
"             ctrl r  åœ¨ ,ff å‘½ä»¤çš„åŸºç¡€ä¸Š, æŒ‰è¿™ä¸ªå¿«æ·é”®è¿›å…¥æ–‡ä»¶æœç´¢çš„æ­£åˆ™åŒ¹é…æ–¹å¼;
"                ,fb  æœç´¢å½“å‰å·²ç»æ‰“å¼€çš„æ‰€æœ‰æ–‡ä»¶çš„å†…å®¹.
"                ,fm  æ˜¾ç¤ºæœ€è¿‘æ‰“å¼€è¿‡çš„æ–‡ä»¶åˆ—è¡¨.
"                ,ft  æ˜¾ç¤ºå½“å‰æ–‡ä»¶çš„ tags åˆ—è¡¨.
"                ,fl  æ˜¾ç¤ºå½“å‰æ–‡ä»¶çš„å»é™¤ç©ºè¡Œçš„æ‰€æœ‰è¡Œ.
"                ,rg  ä» normal æ¨¡å¼ä¸‹æŒ‰ ,rg è¿›å…¥ command-line æ¨¡å¼ä¸‹,
"                     ç„¶åè¾“å…¥è¦æœç´¢çš„æ–‡æœ¬(æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼),
"                     å›è½¦å³å¯æ˜¾ç¤ºæ­¤é¡¹ç›®å†…åŒ…å«æ­¤æ–‡æœ¬çš„æ–‡ä»¶åˆ—è¡¨;
"                     åœ¨å¼¹å‡ºçš„ç»“æœçª—å£ä¸­, æŒ‰ gi å¯ä»¥å°†å…‰æ ‡ç§»åŠ¨åˆ°è¾“å…¥æ¡†,
"                     å¯ä»¥ç»§ç»­è¾“å…¥å†…å®¹ç¼©å°ç»“æœåˆ—è¡¨,
"                     ç„¶åæŒ‰ tab è¿›å…¥ç»“æœåˆ—è¡¨ä¸­, æŒ‰ j/k ä¸Šä¸‹é€‰æ‹©, é€‰æ‹©ä¸€ä¸ªæ–‡ä»¶å,
"                     æŒ‰ t å°†ä»¥æ–°å»ºæ ‡ç­¾é¡µçš„æ–¹å¼æ‰“å¼€é€‰æ‹©çš„æ–‡ä»¶.
"                 rg  visual æ¨¡å¼ä¸‹é€‰æ‹©æ–‡æœ¬å, æŒ‰ rg åœ¨æ•´ä¸ªé¡¹ç›®å†…æœç´¢é€‰æ‹©çš„æ–‡æœ¬, æ˜¾ç¤ºæœç´¢ç»“æœ.
"                ,rc  ,rg/rg æœç´¢å†…å®¹å…³é—­å, æƒ³å†æ¬¡æœç´¢ä¸Šæ¬¡æœç´¢çš„å†…å®¹,
"                     normal æ¨¡å¼ä¸‹æŒ‰ ,rc å³å¯.
"
" ** francoiscabrol/ranger.vim (https://github.com/francoiscabrol/ranger.vim)
"                 ,r  æ‰“å¼€ ranger, é€‰æ‹©æ–‡ä»¶åæŒ‰ enter æˆ– l ä»¥æ–°å»ºæ ‡ç­¾é¡µçš„æ–¹å¼æ‰“å¼€æ–‡ä»¶,
"                     å¦‚æœæ–‡ä»¶å·²ç»æ‰“å¼€äº†, åˆ™ç›´æ¥è·³è½¬åˆ°ç›¸å…³æ ‡ç­¾é¡µ.
"
" ** terryma/vim-multiple-cursors (https://github.com/mg979/vim-visual-multi)
"             ctrl n  å¼€å¯å¤šå…‰æ ‡æ¨¡å¼, é»˜è®¤å¯¹åº” Vim çš„ visual æ¨¡å¼.
"                n/N  å¼€å¯å¤šå…‰æ ‡æ¨¡å¼å, æŒ‰ n/N å‘ä¸‹æˆ–å‘ä¸Šé€‰æ‹©å…‰æ ‡ä¸‹çš„å•è¯.
"                  q  å–æ¶ˆé€‰æ‹©å½“å‰è¡Œçš„ç›®æ ‡å•è¯å¹¶åŒæ—¶é€‰æ‹©ä¸‹ä¸€è¡Œçš„ç›®æ ‡å•è¯.
"                  Q  ä¸é€‰æ‹©å½“å‰è¡Œçš„ç›®æ ‡å•è¯.
"                tab  åœ¨å¤šå…‰æ ‡çš„ visual æ¨¡å¼å’Œå¤šå…‰æ ‡çš„ normal æ¨¡å¼ä¹‹é—´åˆ‡æ¢.
"              c/d/i  å¤šå…‰æ ‡é€‰æ‹©å®Œç›®æ ‡å•è¯å, å¯¹ç›®æ ‡å•è¯è¿›è¡Œä¿®æ”¹.
"                ESC  é€€å‡ºå¤šå…‰æ ‡æ¨¡å¼.
"
" ** easymotion/vim-easymotion (https://github.com/easymotion/vim-easymotion)
"                 ,s  æŒ‰æ­¤å¿«æ·é”®å, å†è¾“å…¥ä¸€ä¸ªå…‰æ ‡è¦è·³è½¬åˆ°çš„å­—ç¬¦ x,
"                     ä½ ä¼šå‘ç° x å˜æˆäº†å¦å¤–ä¸€ä¸ªå­—ç¬¦ g, ä½ ç›´æ¥è¾“å…¥ g å³å¯å®Œæˆè·³è½¬.
"                 ,w  æ ‡è®°æ‰€æœ‰çª—å£çš„å•è¯.
"                 ,L  æ ‡è®°æ‰€æœ‰çª—å£çš„æ‰€æœ‰è¡Œé¦–å­—ç¬¦.
"                 ,l  æ ‡è®°å½“å‰è¡Œå…‰æ ‡å³ä¾§çš„å­—ç¬¦.
"                 ,h  æ ‡è®°å½“å‰è¡Œå…‰æ ‡å·¦ä¾§çš„å­—ç¬¦.
"                  s  è¾“å…¥1ä¸ªç›®æ ‡å­—ç¬¦å³å¯é«˜äº®å®šä½, æ”¯æŒå¤šçª—å£åŒæ—¶å®šä½.
"
" ** tpope/vim-commentary (https://github.com/tpope/vim-commentary)
"             [n]gcc  æ³¨é‡Šæˆ–å–æ¶ˆæ³¨é‡Šå…‰æ ‡æ‰€åœ¨è¡Œæˆ–åŒ…å«å½“å‰è¡Œçš„ä¸‹nè¡Œ.
"                 gc  visual æ¨¡å¼ä¸‹é€‰æ‹©å¤šè¡Œæ¥æ³¨é‡Šæˆ–å–æ¶ˆæ³¨é‡Š.
"          gc[space]  normal æ¨¡å¼ä¸‹æ³¨é‡Šæˆ–å–æ¶ˆæ³¨é‡Šå½“å‰è¡Œ.
"             gc[n]k  normal æ¨¡å¼ä¸‹æ³¨é‡Šæˆ–å–æ¶ˆæ³¨é‡Šå½“å‰è¡Œä»¥åŠä¸Šnè¡Œ, né»˜è®¤ä¸º1.
"             gc[n]j  normal æ¨¡å¼ä¸‹æ³¨é‡Šæˆ–å–æ¶ˆæ³¨é‡Šå½“å‰è¡Œä»¥åŠä¸‹nè¡Œ, né»˜è®¤ä¸º1.
"
" ** skywind3000/asyncrun.vim (https://github.com/skywind3000/asyncrun.vim)
"                ,ar  command-line æ¨¡å¼ä¸‹å¼‚æ­¥è¿è¡Œå‘½ä»¤, å¹¶åœ¨å½“å‰çª—å£åº•éƒ¨è¾“å‡ºæ‰§è¡Œç»“æœ.
"
" ** fatih/vim-go (https://github.com/fatih/vim-go/wiki/Tutorial)
"   ä»£ç é˜…è¯»ç›¸å…³:
"                  K  æŸ¥çœ‹å…‰æ ‡æ‰€åœ¨å¯¹è±¡çš„å¸®åŠ©æ–‡æ¡£.
"                 gr  åœ¨ location list ä¸­åˆ—å‡ºå“ªäº›åœ°æ–¹å¼•ç”¨äº†å…‰æ ‡æ‰€åœ¨çš„å¯¹è±¡.
"                ,cl  åœ¨ location list ä¸­åˆ—å‡ºå“ªäº›åœ°æ–¹è°ƒç”¨äº†å…‰æ ‡æ‰€åœ¨çš„å‡½æ•°.
"                 ,s  æŸ¥çœ‹å…‰æ ‡æ‰€åœ¨çš„ç±»å‹å®ç°äº†å“ªäº›æ¥å£,
"                     æ³¨æ„å…‰æ ‡åªèƒ½åœ¨ç±»å‹æˆ–ç±»å‹çš„æ–¹æ³•ä¸Š.
"
"   è·³è½¬åˆ°å¯¹è±¡(å‡½æ•°)å®šä¹‰æˆ–å£°æ˜å¤„çš„å‡ ç§æ–¹å¼:
"                 gd  è¦†ç›–å½“å‰é¡µé¢.
"                 gl  æ–°å¼€ä¸€ä¸ªæ ‡ç­¾é¡µ.
"                 gs  åœ¨ä¸Šæ–¹åˆ†å±.
"                 gv  åœ¨å³ä¾§åˆ†å±.
"
"   ä»£ç è‡ªåŠ¨ç”Ÿæˆç›¸å…³:
"                ,im  è‡ªåŠ¨ä¸ºå…‰æ ‡ä¸‹çš„ç±»å‹ç”ŸæˆæŒ‡å®šæ¥å£çš„å®ç°æ–¹æ³•.
"                ,ki  è‡ªåŠ¨æŠŠå…‰æ ‡æ‰€åœ¨çš„ç»“æ„ä½“å­—é¢é‡(ä»…æœ‰ value æ²¡æœ‰ key çš„æƒ…å†µ)è¡¥å……ä¸Šå­—æ®µ.
"                ,fs  è‡ªåŠ¨æŠŠå…‰æ ‡æ‰€åœ¨çš„ç»“æ„ä½“å­—é¢é‡, ä»¥å­—æ®µé›¶å€¼æ–¹å¼è¡¥ä¸Šå°šæœªå¡«å†™çš„å­—æ®µ.
"                ,ie  è‡ªåŠ¨ç”Ÿæˆ if err != nil ä»£ç æ®µ.
"                ,at  ä¸ºå…‰æ ‡æ‰€åœ¨çš„ç»“æ„ä½“å®šä¹‰è‡ªåŠ¨ç”Ÿæˆå­—æ®µå¯¹åº”çš„ tags.
"                ,rn  çº§è”çš„é‡å‘½åå…‰æ ‡ä¸‹çš„æ ‡è¯†ç¬¦, é‡å‘½åå, é¡¹ç›®å†…çš„æ‰€æœ‰ä¸å…¶ç›¸å…³çš„åœ°æ–¹å…¨éƒ¨ä¼šæ›´æ–°.
"
"   ä»£ç è¿è¡Œç›¸å…³:
"                ,gr  go run å½“å‰çš„ go æ–‡ä»¶.
"                ,gb  go build å½“å‰çš„ go æ–‡ä»¶, ä¸äº§ç”ŸäºŒè¿›åˆ¶æ–‡ä»¶, åªæ˜¯æ£€æŸ¥æ˜¯å¦å¯ä»¥æˆåŠŸ build.
"                ,gt  go test å½“å‰çš„ go æ–‡ä»¶.
"
" ** buoto/gotests-vim (https://github.com/buoto/gotests-vim)
"                 tt  normal æˆ– visual æ¨¡å¼ä¸‹æŒ‰ tt ç”Ÿæˆå…‰æ ‡æ‰€åœ¨å‡½æ•°æˆ–é€‰æ‹©çš„å‡½æ•°çš„å•å…ƒæµ‹è¯•æ¨¡ç‰ˆä»£ç .
"                gtt  normal æˆ– visual æ¨¡å¼ä¸‹æŒ‰ gtt ç”Ÿæˆå½“å‰ Go æ–‡ä»¶çš„æ‰€æœ‰å‡½æ•°çš„å•å…ƒæµ‹è¯•æ¨¡ç‰ˆä»£ç .
"
" ** scrooloose/nerdtree (https://github.com/preservim/nerdtree)
"                 ,x  æ‰“å¼€æˆ–å…³é—­å·¦ä¾§ç›®å½•æ ‘.
"                  q  å…³é—­ç›®å½•æ ‘çª—å£.
"                  ?  æ‰“å¼€/å…³é—­è¯¥æ’ä»¶çš„å¸®åŠ©æ–‡æ¡£.
"                o/O  å±•å¼€ç›®å½•/é€’å½’çš„å±•å¼€ç›®å½•, åŸåœ°å†æŒ‰ä¸€æ¬¡åˆ™å¯¹åº”å…³é—­ç›®å½•.
"                x/X  é—­åˆç›®å½•/é—­åˆé€’å½’å±•å¼€çš„ç›®å½•,
"                     è¿›è¡Œæ­¤æ“ä½œæ—¶, å…‰æ ‡åº”è¯¥åœ¨è¦é—­åˆçš„ç›®å½•ä¸­.
"                t/T  ä»¥æ ‡ç­¾é¡µå½¢å¼æ‰“å¼€/é™é»˜æ‰“å¼€æ–‡ä»¶,
"                     å¦‚æœå…‰æ ‡åœ¨ç©ºç›®å½•ä¸Šåˆ™æ–°åˆ›å»ºä¸€ä¸ªç©ºæ–‡ä»¶å¹¶æ‰“å¼€,
"                     ç„¶åä½¿ç”¨ :w newfilename æ¥ä¿å­˜æ–‡ä»¶, æœ€å r æ¥æ›´æ–°å·¦ä¾§ç›®å½•æ ‘çš„æ˜¾ç¤º.
"              gt/gT  å‘å³/å‘å·¦åˆ‡æ¢æ ‡ç­¾é¡µ.
"                3gt  åˆ‡æ¢åˆ°ç¬¬ 3 ä¸ªæ ‡ç­¾, åˆ‡æ¢åˆ°å…¶ä»–æ ‡ç­¾çš„æ–¹æ³•ç±»ä¼¼.
"                  R  å˜æ›´ç›®å½•åç§°å, æ›´æ–°ç›®å½•æ ‘ä¸­çš„ç›®å½•æ˜¾ç¤º.
"                 CD  å¦‚æœå½“å‰ç›®å½•æ ‘çš„æ ¹ç›®å½•åŒ…å«äº†å¾ˆå¤šé¡¹ç›®, è¦å°†æŸä¸ªé¡¹ç›®è®¾ç½®ä¸ºç›®å½•æ ‘çš„æ ¹,
"                     åˆ™é€‰æ‹©è¿™ä¸ªé¡¹ç›®ç›®å½•, æŒ‰ CD.
"                 go  é€‰æ‹©ä¸€ä¸ªæ–‡ä»¶, æŒ‰ go åªæ˜¯åœ¨å½“å‰çª—å£å±•ç¤ºè¿™ä¸ªæ–‡ä»¶çš„å†…å®¹, å…‰æ ‡è¿˜åœç•™åœ¨ç›®å½•æ ‘çª—å£.
"                  I  æ˜¾ç¤º/éšè—ä»¥ . å¼€å¤´çš„æ–‡ä»¶.
"                  m  å…‰æ ‡ç§»åŠ¨åˆ°æŸä¸ªæ–‡ä»¶æˆ–ç›®å½•, æŒ‰ m å±•ç¤ºå¯æ“ä½œçš„ menu åˆ—è¡¨,
"                     é€‰æ‹©ä½ è¦çš„æ“ä½œ, æ¯”å¦‚åˆ é™¤/æ·»åŠ /ç§»åŠ¨æ–‡ä»¶æˆ–ç›®å½•ç­‰,
"                     ä½¿ç”¨ ESC ä¸­é€”é€€å‡ºæ“ä½œ.
"
" ** majutsushi/tagbar (https://github.com/preservim/tagbar)
"                 ,e  æ‰“å¼€å³ä¾§å¤§çº²çª—å£.
"
" ** tpope/vim-fugitive (https://github.com/tpope/vim-fugitive)
"      :Git/:Gstatus  git status
"        :Git status  git status
"              :Glog  git log
"           :Git log  ç±»ä¼¼ git log, å…‰æ ‡ç§»åŠ¨åˆ°ä¸€ä¸ª commit è¡Œ,
"                     ç„¶åæŒ‰ o æˆ– O æˆ– enter, æ‰“å¼€ commit è¯¦ç»†å†…å®¹æµè§ˆ,
"                     q é€€å‡ºæµè§ˆçª—å£, ctrl o/i æ¥å›è·³è½¬.
"            :Gblame  git blame
"         :Git blame  git blame
"             :Gdiff  æ°´å¹³åˆ†å±æ¯”è¾ƒå½“å‰æ–‡ä»¶ä¸æš‚å­˜åŒºç‰ˆæœ¬çš„åŒºåˆ«.
"            :Gvdiff  å‚ç›´åˆ†å±æ¯”è¾ƒå½“å‰æ–‡ä»¶ä¸æš‚å­˜åŒºç‰ˆæœ¬çš„åŒºåˆ«, è¿™ä¸ªæ›´å¥½ç”¨ä¸€ç‚¹.
"          :Git diff  git diff
"
" ** junegunn/gv.vim (https://github.com/junegunn/gv.vim)
"                :GV  ç±»ä¼¼ :Git log.
"               :GV!  è¿™ä¸ªåªçœ‹å½“å‰æ–‡ä»¶çš„ git log.
"
" ** tpope/vim-surround (https://github.com/tpope/vim-surround)
"               ysw"  ä½¿å…‰æ ‡æ‰€åœ¨å•è¯ä½¿ç”¨ " åŒ…è£¹, ä¸åŒ…æ‹¬å…‰æ ‡å‰çš„å­—ç¬¦.
"              ysiw"  å…‰æ ‡æ‰€åœ¨çš„å®Œæ•´å•è¯ä½¿ç”¨ " åŒ…è£¹, åŒ…æ‹¬å…‰æ ‡å‰çš„å­—ç¬¦.
"              ysiW"  ä»¥ç©ºæ ¼ä½œä¸ºåˆ†éš”ç¬¦æ¥ä½œä¸ºå•è¯, ç‰¹æ®Šç¬¦å·ä¹Ÿå¯ä»¥ä½œä¸ºå•è¯çš„ä¸€éƒ¨åˆ†äº†.
"              ys3w"  ä»¥å…‰æ ‡æ‰€åœ¨ä½ç½®ä¸ºèµ·å§‹ä½ç½®å‘å³çš„ 3 ä¸ªå•è¯ä½¿ç”¨ " åŒ…è£¹.
"               yss"  ä»¥å…‰æ ‡æ‰€åœ¨è¡Œä¸ºå•ä½åŒ…è£¹.
"                ds"  åˆ é™¤å…‰æ ‡å‘¨å›´çš„åŒå¼•å·.
"               cs"'  æŠŠå…‰æ ‡æ‰€åœ¨å‘¨å›´çš„åŒå¼•å·æ›¿æ¢ä¸ºå•å¼•å·.
"               cst'  å°†ç±»ä¼¼ <div>hello world</div> å˜ä¸º 'hello world'.
"
" ** mattn/emmet-vim (https://raw.githubusercontent.com/mattn/emmet-vim/master/TUTORIAL)
"           ctrl y ,  æ‰“å¼€ *.html æ–‡ä»¶:
"                     1) è¾“å…¥ html:5 ç„¶åæŒ‰æ­¤å¿«æ·é”®, å³å¯è‡ªåŠ¨ç”Ÿæˆ html ä»£ç æ¨¡ç‰ˆ.
"                     2) è¾“å…¥ div ç„¶åæŒ‰æ­¤å¿«æ·é”®, å³å¯è‡ªåŠ¨ç”Ÿæˆ: <div></div>
"                     3) è¾“å…¥ #foo ç„¶åæŒ‰æ­¤å¿«æ·é”®, å¯è‡ªåŠ¨ç”Ÿæˆ: <div id="foo"></div>
"                     4) è¾“å…¥ div>p>a , ç„¶åæŒ‰æ­¤å¿«æ·é”®, å¯è‡ªåŠ¨ç”Ÿæˆ:
"                        <div><p><a href=""></a></p></div>
"
" ** instant-markdown/vim-instant-markdown (https://github.com/instant-markdown/vim-instant-markdown)
"                 ,p  æ‰“å¼€æµè§ˆå™¨é¢„è§ˆå½“å‰çš„ markdown æ–‡ä»¶.
"                ,,p  å…³é—­é¢„è§ˆ.
"
" ** dhruvasagar/vim-table-mode (https://github.com/dhruvasagar/vim-table-mode)
"                ,tm  å¼€å¯æˆ–å…³é—­ table mode.
"                 ||  åœ¨ insert æ¨¡å¼ä¸‹, è¾“å…¥ || åæŒ‰ ESC æ¥å¼€å¯ table mode.
"                 __  åœ¨ insert æ¨¡å¼ä¸‹, è¾“å…¥ __ åæŒ‰ ESC æ¥å…³é—­ table mode.
"
" ** voldikss/vim-floaterm (https://github.com/voldikss/vim-floaterm)
"                ,,t  æ˜¾ç¤ºæˆ–éšè—æ‚¬æµ®ç»ˆç«¯çª—å£, å¦‚æœæ‚¬æµ®çª—å£è¿˜ä¸å­˜åœ¨åˆ™æ–°å»º.
"                ,tc  æ–°å»ºä¸€ä¸ªæ‚¬æµ®çª—å£.
"                ,tk  å…³é—­å½“å‰æ‚¬æµ®çª—å£.
"                ,tn  åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªæ‚¬æµ®çª—å£.
"                ,ts  æ˜¾ç¤ºç›®å‰å­˜åœ¨çš„æ‚¬æµ®çª—å£.
"
" ** rhysd/git-messenger.vim (https://github.com/rhysd/git-messenger.vim)
"                ,gm  å¼¹å‡ºçª—å£æ˜¾ç¤ºå…‰æ ‡ä¸‹ä»£ç çš„ commit ä¿¡æ¯.
"                o/O  å½“å…‰æ ‡åœ¨å¼¹å‡ºçš„çª—å£ä¸­æ—¶, å‘åæˆ–å‘å‰ç¿»é˜… commit å†å².
"                  ?  å½“å…‰æ ‡åœ¨å¼¹å‡ºçš„çª—å£ä¸­æ—¶, æŸ¥çœ‹å¯ç”¨æŒ‡ä»¤çš„å¸®åŠ©æ–‡æ¡£.
"                  q  å…³é—­å¼¹å‡ºçš„çª—å£.
"
" ** RRethy/vim-hexokinase (https://github.com/RRethy/vim-hexokinase)
"                ,ys  æ˜¾ç¤ºæˆ–ä¸æ˜¾ç¤ºé¢œè‰²æ ‡è¯†ç¬¦çš„é¢œè‰².
"
" ** vim-scripts/SyntaxAttr.vim (https://github.com/vim-scripts/SyntaxAttr.vim)
"                 ,a  æ˜¾ç¤ºå…‰æ ‡æ‰€åœ¨çš„è¯­æ³•é«˜äº®è¯¦æƒ…, ä¾¿äºè°ƒè¯•é…è‰²æ–¹æ¡ˆ.
"
" ** uguu-org/vim-matrix-screensaver (https://github.com/uguu-org/vim-matrix-screensaver)
"            :Matrix  åœ¨å½“å‰çª—å£å¯ç”¨ç±»ä¼¼é»‘å®¢å¸å›½çš„ Vim å±å¹•ä¿æŠ¤, æŒ‰ä»»æ„é”®é€€å‡ºå±ä¿.
"                 ,m  åŒä¸Š.
"
" ** matze/vim-move (https://github.com/matze/vim-move)
"   [n] meta k/j/h/l  normal æ¨¡å¼ä¸‹å°†å…‰æ ‡æ‰€åœ¨è¡Œå‘ä¸Š/å‘ä¸‹ç§»åŠ¨ n è¡Œ,
"                     æˆ–å°†å…‰æ ‡æ‰€åœ¨å­—ç¬¦å‘å·¦/å‘å³ç§»åŠ¨ n ä¸ªå­—ç¬¦;
"                     visual æ¨¡å¼ä¸‹å°†é€‰æ‹©çš„å†…å®¹å‘ä¸Š/å‘ä¸‹ç§»åŠ¨ n è¡Œ,
"                     æˆ–å°†é€‰æ‹©çš„å†…å®¹å—å‘å·¦/å‘å³ç§»åŠ¨ n ä¸ªå­—ç¬¦.
"                     NOTE: meta é”®è¡¨ç¤º macOS çš„ option é”®, windows çš„ alt é”®.
"
" ** AndrewRadev/splitjoin.vim (https://github.com/AndrewRadev/splitjoin.vim)
"                 gS  å°†å•è¡Œä»£ç æ‹†åˆ†æˆå¤šè¡Œ.
"                 gJ  å°†å¤šè¡Œä»£ç åˆå¹¶æˆå•è¡Œ.
"
" ** puremourning/vimspector (https://github.com/puremourning/vimspector)
"                ,dj  é€‰æ‹©æ¨¡ç‰ˆæ–‡ä»¶, åœ¨é¡¹ç›®çš„æ ¹ç›®å½•åˆ›å»ºå¿…é¡»çš„ .vimspector.json æ–‡ä»¶.
"                ,dc  å¯åŠ¨ debug æ¨¡å¼, æˆ–è¿è¡Œåˆ°è®¾ç½®çš„ä¸‹ä¸€ä¸ªæ–­ç‚¹.
"                ,ds  åœæ­¢è¿è¡Œ debug æ¨¡å¼.
"                ,dr  é‡æ–°è¿è¡Œ debug æ¨¡å¼.
"                ,db  å°†å½“å‰å…‰æ ‡æ‰€åœ¨è¡Œè®¾ç½®ä¸ºæ–­ç‚¹.
"                ,dl  è¿è¡Œåˆ°ä¸‹ä¸€è¡Œä»£ç , æ¯æŒ‰ä¸€æ¬¡å¿«æ·é”®è¿è¡Œä¸€æ ·ä»£ç .
"                ,di  è¿›å…¥ breakpoint æ‰€åœ¨è¡Œè°ƒç”¨çš„å‡½æ•°å†…éƒ¨.
"                ,do  ä»è¿›å…¥çš„å‡½æ•°ä¸­è¿”å›.
"                ,dv  æŸ¥çœ‹å…‰æ ‡æ‰€åœ¨å˜é‡çš„å€¼, æ³¨æ„åœ¨ debug æ¨¡å¼ä¸‹å¿…é¡»è¿è¡Œè¿‡äº†è¿™ä¸€è¡Œæ‰å¯ä»¥.
"
" }}

"""""""""" å®ä¾‹ç»ƒä¹  {{
"
" ** å°† one two three four five six æ”¹ä¸º "one","two","four","five","six"
"                  ^  å…‰æ ‡ç§»åŠ¨åˆ°ç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦.
"           f<space>  å…‰æ ‡ç§»åŠ¨åˆ°ç¬¬ä¸€ä¸ªç©ºæ ¼.
"                 cl  åˆ é™¤ 1 ä¸ªç©ºæ ¼å¹¶è¿›å…¥åˆ° insert æ¨¡å¼,
"                     è¾“å…¥ "," ä¹‹åæŒ‰ ESC è¿›å…¥åˆ° normal æ¨¡å¼.
"                  ;  å…‰æ ‡è·³è½¬åˆ°ä¸‹ä¸€ä¸ªç©ºæ ¼.
"                  .  é‡å¤æ‰§è¡Œæ­¥éª¤ 3, ç„¶å ; å’Œ . é‡å¤å¤šæ¬¡ç›´åˆ°å°†æ‰€æœ‰ç©ºæ ¼éƒ½æ›¿æ¢æˆ ",".
"                  I  å°†å…‰æ ‡è·³è½¬åˆ°è¡Œé¦–å¹¶è¿›å…¥åˆ° insert æ¨¡å¼,
"                     è¾“å…¥ " ä¹‹åæŒ‰ ESC è¿›å…¥åˆ° normal æ¨¡å¼.
"                  A  å°†å…‰æ ‡è·³è½¬åˆ°è¡Œå°¾å¹¶è¿›å…¥åˆ° insert æ¨¡å¼,
"                     è¾“å…¥ " ä¹‹åæŒ‰ ESC è¿›å…¥åˆ° normal æ¨¡å¼.
"
" ** æŠŠæ–‡ä»¶å†…çš„æŸä¸ªè¿ç»­çš„è¡Œå°¾/æˆ–è¡Œé¦–åŠ ä¸Šé€—å·:
"             ctrl v  è¿›å…¥ visual block æ¨¡å¼, é€‰æ‹©è¦æ“ä½œçš„é‚£äº›è¿ç»­è¡Œ.
"                  $  ç§»åŠ¨åˆ°è¡Œå°¾.
"                I/A  è¿›å…¥ insert æ¨¡å¼, å…‰æ ‡åœ¨ è¡Œé¦–/è¡Œå°¾, è¾“å…¥è¦å¢åŠ çš„å­—ç¬¦ `,`.
"            ESC ESC  è¿ç»­æŒ‰ 2 æ¬¡ ESC å³å¯.
"
" ** å°†å¤šè¡Œåˆå¹¶æˆ 1 è¡Œ:
"         v/V/ctrl v  è¿›å…¥ visual æˆ– visual line æˆ– visual block æ¨¡å¼.
"                  J  åˆå¹¶æˆ 1 è¡Œ.
"
" ** æœ¬åœ°ç¼–è¾‘å™¨ä¹‹é—´çš„å¤åˆ¶å’Œç²˜è´´:
"       [n]yy / Y æˆ– v é€‰æ‹©æ–‡æœ¬ä½¿ç”¨ y å¤åˆ¶ç­‰å¤åˆ¶å‘½ä»¤éœ€è¦çš„æ–‡æœ¬å¯¹è±¡,
"       æ­¤æ—¶é»˜è®¤å·²å¤åˆ¶åˆ°æœ¬åœ°ç³»ç»Ÿå‰ªè´´æ¿,
"       å¯åœ¨æœ¬æ–‡ä»¶ã€å…¶ä»– Vim å®ä¾‹æ–‡ä»¶ normal æ¨¡å¼ä¸‹æŒ‰ p/P æ¥ç²˜è´´,
"       æˆ– insert æ¨¡å¼ä¸‹ command v ç²˜è´´,
"       æˆ–æ“ä½œç³»ç»Ÿä¸Šçš„ä»»ä½•æ–‡æœ¬æ¡†å†…è¿›è¡Œ command v ç²˜è´´.
"
" ** å®çš„ä½¿ç”¨æ–¹æ³•ä¸¾ä¾‹, æ¯”å¦‚ç»™æ–‡æœ¬çš„æ¯ä¸€è¡Œçš„è¡Œé¦–å’Œè¡Œå°¾éƒ½åŠ ä¸ŠåŒå¼•å·:
"       normal æ¨¡å¼ä¸‹æŒ‰ qa,  å…¶ä¸­ q æ˜¯å®æŒ‡ä»¤, è¡¨æ˜å¼€å§‹å½•åˆ¶å®, a ä¸ºå®çš„åç§°,
"       å¯ä»¥æ˜¯ a-z çš„ä»»ä½•å­—æ¯, ç„¶åæˆ‘ä»¬ç»™ä¸€è¡Œçš„è¡Œé¦–å’Œè¡Œå°¾éƒ½åŠ ä¸ŠåŒå¼•å·,
"       æœ€å normal æ¨¡å¼ä¸‹ q, è¡¨ç¤ºç»“æŸå®çš„å½•åˆ¶;
"       æ¥ä¸‹æ¥æˆ‘ä»¬æŠŠè¿™ä¸ªå® a è¿ç”¨åœ¨æ¯ä¸€è¡Œä¸Š, æˆ‘ä»¬é€‰æ‹©æ–‡æœ¬æ‰€æœ‰çš„è¡Œ,
"       ç„¶å command-line æ¨¡å¼ :normal @a,
"       æˆ–è€… :% normal @a, è¿™æ ·æ‰€æœ‰è¡Œå°±éƒ½å®ŒæˆåŒå¼•å·åŒ…è£¹äº†.
"
" }}

"""""""""" æ³¨æ„äº‹é¡¹ {{
"
"   1. python-mode/python-mode  å»ºè®®ä¸è¦ä½¿ç”¨è¿™ä¸ªæ’ä»¶, ä¸å¤ªå¥½ç”¨,
"      æ–‡æ¡£æ˜¾ç¤ºæ–¹å¼å¾ˆè¹©è„š, ä¼šå½±å“åˆ° coc-jedi çš„æ­£å¸¸å‘æŒ¥, ä½¿ç”¨ coc-jedi å°±å¯ä»¥äº†.
"
"   2. å¦‚ä¸‹ golines é…ç½®ä¸å»ºè®®ä½¿ç”¨, æœ‰æ—¶ä¼šä¸¥é‡æ‹–æ…¢ä¿å­˜æ–‡ä»¶çš„é€Ÿåº¦.
"      æ ¼å¼åŒ– Go ä»£ç æ¯è¡Œçš„é•¿åº¦, ä½¿ä¸è¶…è¿‡ 120 ä¸ªå­—ç¬¦:
"      let g:go_fmt_command = "golines"
"      let g:go_fmt_options = {
"        \  'golines': '-m 120',
"        \  }
"
"   3. ä¸è¦æ‹¿ <Esc> é”®åšå¿«æ·é”®æ˜ å°„, ä¼šæ‹–æ…¢ä» insert æ¨¡å¼åˆ‡æ¢åˆ° normal æ¨¡å¼çš„é€Ÿåº¦,
"      æŸ¥çœ‹ insert æ¨¡å¼ä¸‹å½“å‰æœ‰å“ªäº›å’Œ <Esc> æœ‰å…³çš„æ˜ å°„ :verbose imap <Esc>, ç»“æœå¦‚ä¸‹:
"      inoremap <Esc>b <S-Left>
"      inoremap <Esc>f <S-Right>
"
" }}

" }}
